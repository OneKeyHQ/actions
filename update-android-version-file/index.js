(()=>{var __webpack_modules__={1424:(e,t,n)=>{e.exports=require(n.ab+"build/Release/cpufeatures.node")},4865:(e,t,n)=>{e.exports=require(n.ab+"lib/protocol/crypto/build/Release/sshcrypto.node")},5183:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))i(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const f=o(n(2037));const u=n(8091);function issueCommand(e,t,n){const i=new Command(e,t,n);process.stdout.write(i.toString()+f.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const l="::";class Command{constructor(e,t,n){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=n}toString(){let e=l+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const n in this.properties){if(this.properties.hasOwnProperty(n)){const i=this.properties[n];if(i){if(t){t=false}else{e+=","}e+=`${n}=${escapeProperty(i)}`}}}}e+=`${l}${escapeData(this.message)}`;return e}}function escapeData(e){return u.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return u.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2619:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))i(t,e,n);s(t,e);return t};var f=this&&this.__awaiter||function(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const u=n(5183);const l=n(5939);const h=n(8091);const p=o(n(2037));const g=o(n(1017));const _=n(8860);const E=n(3669);var b;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(b=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const n=h.toCommandValue(t);process.env[e]=n;const i=process.env["GITHUB_ENV"]||"";if(i){const t=`ghadelimiter_${_.v4()}`;if(e.includes(t)){throw new Error(`Unexpected input: name should not contain the delimiter "${t}"`)}if(n.includes(t)){throw new Error(`Unexpected input: value should not contain the delimiter "${t}"`)}const i=`${e}<<${t}${p.EOL}${n}${p.EOL}${t}`;l.issueCommand("ENV",i)}else{u.issueCommand("set-env",{name:e},n)}}t.exportVariable=exportVariable;function setSecret(e){u.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){l.issueCommand("PATH",e)}else{u.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${g.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return n}return n.trim()}t.getInput=getInput;function getMultilineInput(e,t){const n=getInput(e,t).split("\n").filter((e=>e!==""));return n}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const n=["true","True","TRUE"];const i=["false","False","FALSE"];const s=getInput(e,t);if(n.includes(s))return true;if(i.includes(s))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(p.EOL);u.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){u.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=b.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){u.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){u.issueCommand("error",h.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){u.issueCommand("warning",h.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){u.issueCommand("notice",h.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+p.EOL)}t.info=info;function startGroup(e){u.issue("group",e)}t.startGroup=startGroup;function endGroup(){u.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return f(this,void 0,void 0,(function*(){startGroup(e);let n;try{n=yield t()}finally{endGroup()}return n}))}t.group=group;function saveState(e,t){u.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return f(this,void 0,void 0,(function*(){return yield E.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var y=n(4992);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return y.summary}});var m=n(4992);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return m.markdownSummary}});var w=n(6067);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return w.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return w.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return w.toPlatformPath}})},5939:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))i(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const f=o(n(7147));const u=o(n(2037));const l=n(8091);function issueCommand(e,t){const n=process.env[`GITHUB_${e}`];if(!n){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!f.existsSync(n)){throw new Error(`Missing file at path: ${n}`)}f.appendFileSync(n,`${l.toCommandValue(t)}${u.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},3669:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const s=n(429);const o=n(1535);const f=n(2619);class OidcClient{static createHttpClient(e=true,t=10){const n={allowRetries:e,maxRetries:t};return new s.HttpClient("actions/oidc-client",[new o.BearerCredentialHandler(OidcClient.getRequestToken())],n)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return i(this,void 0,void 0,(function*(){const n=OidcClient.createHttpClient();const i=yield n.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const s=(t=i.result)===null||t===void 0?void 0:t.value;if(!s){throw new Error("Response json body do not have ID Token field")}return s}))}static getIDToken(e){return i(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const n=encodeURIComponent(e);t=`${t}&audience=${n}`}f.debug(`ID token url is ${t}`);const n=yield OidcClient.getCall(t);f.setSecret(n);return n}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},6067:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))i(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const f=o(n(1017));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,f.sep)}t.toPlatformPath=toPlatformPath},4992:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const s=n(2037);const o=n(7147);const{access:f,appendFile:u,writeFile:l}=o.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield f(e,o.constants.R_OK|o.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,n={}){const i=Object.entries(n).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${i}>`}return`<${e}${i}>${t}</${e}>`}write(e){return i(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const n=yield this.filePath();const i=t?l:u;yield i(n,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return i(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(s.EOL)}addCodeBlock(e,t){const n=Object.assign({},t&&{lang:t});const i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,t=false){const n=t?"ol":"ul";const i=e.map((e=>this.wrap("li",e))).join("");const s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:n,colspan:i,rowspan:s}=e;const o=t?"th":"td";const f=Object.assign(Object.assign({},i&&{colspan:i}),s&&{rowspan:s});return this.wrap(o,n,f)})).join("");return this.wrap("tr",t)})).join("");const n=this.wrap("table",t);return this.addRaw(n).addEOL()}addDetails(e,t){const n=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(n).addEOL()}addImage(e,t,n){const{width:i,height:s}=n||{};const o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s});const f=this.wrap("img",null,Object.assign({src:e,alt:t},o));return this.addRaw(f).addEOL()}addHeading(e,t){const n=`h${t}`;const i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1";const s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const n=Object.assign({},t&&{cite:t});const i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,t){const n=this.wrap("a",e,{href:t});return this.addRaw(n).addEOL()}}const h=new Summary;t.markdownSummary=h;t.summary=h},8091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},1535:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},429:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){if(i===undefined)i=n;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,i){if(i===undefined)i=n;e[i]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))i(t,e,n);s(t,e);return t};var f=this&&this.__awaiter||function(e,t,n,i){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const u=o(n(3685));const l=o(n(5687));const h=o(n(5957));const p=o(n(6237));var g;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(g=t.HttpCodes||(t.HttpCodes={}));var _;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(_=t.Headers||(t.Headers={}));var E;(function(e){e["ApplicationJson"]="application/json"})(E=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=h.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const b=[g.MovedPermanently,g.ResourceMoved,g.SeeOther,g.TemporaryRedirect,g.PermanentRedirect];const y=[g.BadGateway,g.ServiceUnavailable,g.GatewayTimeout];const m=["OPTIONS","GET","DELETE","HEAD"];const w=10;const I=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return f(this,void 0,void 0,(function*(){return new Promise((e=>f(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,n){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=n;if(n){if(n.ignoreSslError!=null){this._ignoreSslError=n.ignoreSslError}this._socketTimeout=n.socketTimeout;if(n.allowRedirects!=null){this._allowRedirects=n.allowRedirects}if(n.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=n.allowRedirectDowngrade}if(n.maxRedirects!=null){this._maxRedirects=Math.max(n.maxRedirects,0)}if(n.keepAlive!=null){this._keepAlive=n.keepAlive}if(n.allowRetries!=null){this._allowRetries=n.allowRetries}if(n.maxRetries!=null){this._maxRetries=n.maxRetries}}}options(e,t){return f(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return f(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return f(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,n){return f(this,void 0,void 0,(function*(){return this.request("POST",e,t,n||{})}))}patch(e,t,n){return f(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,n||{})}))}put(e,t,n){return f(this,void 0,void 0,(function*(){return this.request("PUT",e,t,n||{})}))}head(e,t){return f(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,n,i){return f(this,void 0,void 0,(function*(){return this.request(e,t,n,i)}))}getJson(e,t={}){return f(this,void 0,void 0,(function*(){t[_.Accept]=this._getExistingOrDefaultHeader(t,_.Accept,E.ApplicationJson);const n=yield this.get(e,t);return this._processResponse(n,this.requestOptions)}))}postJson(e,t,n={}){return f(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,E.ApplicationJson);n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,E.ApplicationJson);const s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)}))}putJson(e,t,n={}){return f(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,E.ApplicationJson);n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,E.ApplicationJson);const s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)}))}patchJson(e,t,n={}){return f(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,E.ApplicationJson);n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,E.ApplicationJson);const s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)}))}request(e,t,n,i){return f(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const s=new URL(t);let o=this._prepareRequest(e,s,i);const f=this._allowRetries&&m.includes(e)?this._maxRetries+1:1;let u=0;let l;do{l=yield this.requestRaw(o,n);if(l&&l.message&&l.message.statusCode===g.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(l)){e=t;break}}if(e){return e.handleAuthentication(this,o,n)}else{return l}}let t=this._maxRedirects;while(l.message.statusCode&&b.includes(l.message.statusCode)&&this._allowRedirects&&t>0){const f=l.message.headers["location"];if(!f){break}const u=new URL(f);if(s.protocol==="https:"&&s.protocol!==u.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield l.readBody();if(u.hostname!==s.hostname){for(const e in i){if(e.toLowerCase()==="authorization"){delete i[e]}}}o=this._prepareRequest(e,u,i);l=yield this.requestRaw(o,n);t--}if(!l.message.statusCode||!y.includes(l.message.statusCode)){return l}u+=1;if(u<f){yield l.readBody();yield this._performExponentialBackoff(u)}}while(u<f);return l}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return f(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{function callbackForResult(e,t){if(e){i(e)}else if(!t){i(new Error("Unknown error"))}else{n(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,n){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let i=false;function handleResult(e,t){if(!i){i=true;n(e,t)}}const s=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let o;s.on("socket",(e=>{o=e}));s.setTimeout(this._socketTimeout||3*6e4,(()=>{if(o){o.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));s.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){s.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){s.end()}));t.pipe(s)}else{s.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,n){const i={};i.parsedUrl=t;const s=i.parsedUrl.protocol==="https:";i.httpModule=s?l:u;const o=s?443:80;i.options={};i.options.host=i.parsedUrl.hostname;i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o;i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||"");i.options.method=e;i.options.headers=this._mergeHeaders(n);if(this.userAgent!=null){i.options.headers["user-agent"]=this.userAgent}i.options.agent=this._getAgent(i.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(i.options)}}return i}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,n){let i;if(this.requestOptions&&this.requestOptions.headers){i=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||i||n}_getAgent(e){let t;const n=h.getProxyUrl(e);const i=n&&n.hostname;if(this._keepAlive&&i){t=this._proxyAgent}if(this._keepAlive&&!i){t=this._agent}if(t){return t}const s=e.protocol==="https:";let o=100;if(this.requestOptions){o=this.requestOptions.maxSockets||u.globalAgent.maxSockets}if(n&&n.hostname){const e={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})};let i;const f=n.protocol==="https:";if(s){i=f?p.httpsOverHttps:p.httpsOverHttp}else{i=f?p.httpOverHttps:p.httpOverHttp}t=i(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:o};t=s?new l.Agent(e):new u.Agent(e);this._agent=t}if(!t){t=s?l.globalAgent:u.globalAgent}if(s&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return f(this,void 0,void 0,(function*(){e=Math.min(w,e);const t=I*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return f(this,void 0,void 0,(function*(){return new Promise(((n,i)=>f(this,void 0,void 0,(function*(){const s=e.message.statusCode||0;const o={statusCode:s,result:null,headers:{}};if(s===g.NotFound){n(o)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let f;let u;try{u=yield e.readBody();if(u&&u.length>0){if(t&&t.deserializeDates){f=JSON.parse(u,dateTimeDeserializer)}else{f=JSON.parse(u)}o.result=f}o.headers=e.message.headers}catch(e){}if(s>299){let e;if(f&&f.message){e=f.message}else if(u&&u.length>0){e=u}else{e=`Failed request: (${s})`}const t=new HttpClientError(e,s);t.result=o.result;i(t)}else{n(o)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{})},5957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const n=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(n){return new URL(n)}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let n;if(e.port){n=Number(e.port)}else if(e.protocol==="http:"){n=80}else if(e.protocol==="https:"){n=443}const i=[e.hostname.toUpperCase()];if(typeof n==="number"){i.push(`${i[0]}:${n}`)}for(const e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(i.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},3821:e=>{e.exports={newInvalidAsn1Error:function(e){var t=new Error;t.name="InvalidAsn1Error";t.message=e||"";return t}}},2879:(e,t,n)=>{var i=n(3821);var s=n(8323);var o=n(5757);var f=n(7214);e.exports={Reader:o,Writer:f};for(var u in s){if(s.hasOwnProperty(u))e.exports[u]=s[u]}for(var l in i){if(i.hasOwnProperty(l))e.exports[l]=i[l]}},5757:(e,t,n)=>{var i=n(9491);var s=n(760).Buffer;var o=n(8323);var f=n(3821);var u=f.newInvalidAsn1Error;function Reader(e){if(!e||!s.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e;this._size=e.length;this._len=0;this._offset=0}Object.defineProperty(Reader.prototype,"length",{enumerable:true,get:function(){return this._len}});Object.defineProperty(Reader.prototype,"offset",{enumerable:true,get:function(){return this._offset}});Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}});Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}});Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=this._buf[this._offset]&255;if(!e)this._offset+=1;return t};Reader.prototype.peek=function(){return this.readByte(true)};Reader.prototype.readLength=function(e){if(e===undefined)e=this._offset;if(e>=this._size)return null;var t=this._buf[e++]&255;if(t===null)return null;if((t&128)===128){t&=127;if(t===0)throw u("Indefinite length not supported");if(t>4)throw u("encoding too long");if(this._size-e<t)return null;this._len=0;for(var n=0;n<t;n++)this._len=(this._len<<8)+(this._buf[e++]&255)}else{this._len=t}return e};Reader.prototype.readSequence=function(e){var t=this.peek();if(t===null)return null;if(e!==undefined&&e!==t)throw u("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);if(n===null)return null;this._offset=n;return t};Reader.prototype.readInt=function(){return this._readTag(o.Integer)};Reader.prototype.readBoolean=function(){return this._readTag(o.Boolean)===0?false:true};Reader.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)};Reader.prototype.readString=function(e,t){if(!e)e=o.OctetString;var n=this.peek();if(n===null)return null;if(n!==e)throw u("Expected 0x"+e.toString(16)+": got 0x"+n.toString(16));var i=this.readLength(this._offset+1);if(i===null)return null;if(this.length>this._size-i)return null;this._offset=i;if(this.length===0)return t?s.alloc(0):"";var f=this._buf.slice(this._offset,this._offset+this.length);this._offset+=this.length;return t?f:f.toString("utf8")};Reader.prototype.readOID=function(e){if(!e)e=o.OID;var t=this.readString(e,true);if(t===null)return null;var n=[];var i=0;for(var s=0;s<t.length;s++){var f=t[s]&255;i<<=7;i+=f&127;if((f&128)===0){n.push(i);i=0}}i=n.shift();n.unshift(i%40);n.unshift(i/40>>0);return n.join(".")};Reader.prototype._readTag=function(e){i.ok(e!==undefined);var t=this.peek();if(t===null)return null;if(t!==e)throw u("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);if(n===null)return null;if(this.length>4)throw u("Integer too long: "+this.length);if(this.length>this._size-n)return null;this._offset=n;var s=this._buf[this._offset];var o=0;for(var f=0;f<this.length;f++){o<<=8;o|=this._buf[this._offset++]&255}if((s&128)===128&&f!==4)o-=1<<f*8;return o>>0};e.exports=Reader},8323:e=>{e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},7214:(e,t,n)=>{var i=n(9491);var s=n(760).Buffer;var o=n(8323);var f=n(3821);var u=f.newInvalidAsn1Error;var l={size:1024,growthFactor:8};function merge(e,t){i.ok(e);i.equal(typeof e,"object");i.ok(t);i.equal(typeof t,"object");var n=Object.getOwnPropertyNames(e);n.forEach((function(n){if(t[n])return;var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i)}));return t}function Writer(e){e=merge(l,e||{});this._buf=s.alloc(e.size||1024);this._size=this._buf.length;this._offset=0;this._options=e;this._seq=[]}Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw u(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}});Writer.prototype.writeByte=function(e){if(typeof e!=="number")throw new TypeError("argument must be a Number");this._ensure(1);this._buf[this._offset++]=e};Writer.prototype.writeInt=function(e,t){if(typeof e!=="number")throw new TypeError("argument must be a Number");if(typeof t!=="number")t=o.Integer;var n=4;while(((e&4286578688)===0||(e&4286578688)===4286578688>>0)&&n>1){n--;e<<=8}if(n>4)throw u("BER ints cannot be > 0xffffffff");this._ensure(2+n);this._buf[this._offset++]=t;this._buf[this._offset++]=n;while(n-- >0){this._buf[this._offset++]=(e&4278190080)>>>24;e<<=8}};Writer.prototype.writeNull=function(){this.writeByte(o.Null);this.writeByte(0)};Writer.prototype.writeEnumeration=function(e,t){if(typeof e!=="number")throw new TypeError("argument must be a Number");if(typeof t!=="number")t=o.Enumeration;return this.writeInt(e,t)};Writer.prototype.writeBoolean=function(e,t){if(typeof e!=="boolean")throw new TypeError("argument must be a Boolean");if(typeof t!=="number")t=o.Boolean;this._ensure(3);this._buf[this._offset++]=t;this._buf[this._offset++]=1;this._buf[this._offset++]=e?255:0};Writer.prototype.writeString=function(e,t){if(typeof e!=="string")throw new TypeError("argument must be a string (was: "+typeof e+")");if(typeof t!=="number")t=o.OctetString;var n=s.byteLength(e);this.writeByte(t);this.writeLength(n);if(n){this._ensure(n);this._buf.write(e,this._offset);this._offset+=n}};Writer.prototype.writeBuffer=function(e,t){if(typeof t!=="number")throw new TypeError("tag must be a number");if(!s.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t);this.writeLength(e.length);this._ensure(e.length);e.copy(this._buf,this._offset,0,e.length);this._offset+=e.length};Writer.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))};Writer.prototype.writeOID=function(e,t){if(typeof e!=="string")throw new TypeError("argument must be a string");if(typeof t!=="number")t=o.OID;if(!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");function encodeOctet(e,t){if(t<128){e.push(t)}else if(t<16384){e.push(t>>>7|128);e.push(t&127)}else if(t<2097152){e.push(t>>>14|128);e.push((t>>>7|128)&255);e.push(t&127)}else if(t<268435456){e.push(t>>>21|128);e.push((t>>>14|128)&255);e.push((t>>>7|128)&255);e.push(t&127)}else{e.push((t>>>28|128)&255);e.push((t>>>21|128)&255);e.push((t>>>14|128)&255);e.push((t>>>7|128)&255);e.push(t&127)}}var n=e.split(".");var i=[];i.push(parseInt(n[0],10)*40+parseInt(n[1],10));n.slice(2).forEach((function(e){encodeOctet(i,parseInt(e,10))}));var s=this;this._ensure(2+i.length);this.writeByte(t);this.writeLength(i.length);i.forEach((function(e){s.writeByte(e)}))};Writer.prototype.writeLength=function(e){if(typeof e!=="number")throw new TypeError("argument must be a Number");this._ensure(4);if(e<=127){this._buf[this._offset++]=e}else if(e<=255){this._buf[this._offset++]=129;this._buf[this._offset++]=e}else if(e<=65535){this._buf[this._offset++]=130;this._buf[this._offset++]=e>>8;this._buf[this._offset++]=e}else if(e<=16777215){this._buf[this._offset++]=131;this._buf[this._offset++]=e>>16;this._buf[this._offset++]=e>>8;this._buf[this._offset++]=e}else{throw u("Length too long (> 4 bytes)")}};Writer.prototype.startSequence=function(e){if(typeof e!=="number")e=o.Sequence|o.Constructor;this.writeByte(e);this._seq.push(this._offset);this._ensure(3);this._offset+=3};Writer.prototype.endSequence=function(){var e=this._seq.pop();var t=e+3;var n=this._offset-t;if(n<=127){this._shift(t,n,-2);this._buf[e]=n}else if(n<=255){this._shift(t,n,-1);this._buf[e]=129;this._buf[e+1]=n}else if(n<=65535){this._buf[e]=130;this._buf[e+1]=n>>8;this._buf[e+2]=n}else if(n<=16777215){this._shift(t,n,1);this._buf[e]=131;this._buf[e+1]=n>>16;this._buf[e+2]=n>>8;this._buf[e+3]=n}else{throw u("Sequence too long")}};Writer.prototype._shift=function(e,t,n){i.ok(e!==undefined);i.ok(t!==undefined);i.ok(n);this._buf.copy(this._buf,e+n,e,e+t);this._offset+=n};Writer.prototype._ensure=function(e){i.ok(e);if(this._size-this._offset<e){var t=this._size*this._options.growthFactor;if(t-this._offset<e)t+=e;var n=s.alloc(t);this._buf.copy(n,0,0,this._offset);this._buf=n;this._size=t}};e.exports=Writer},5390:(e,t,n)=>{var i=n(2879);e.exports={Ber:i,BerReader:i.Reader,BerWriter:i.Writer}},6413:(e,t,n)=>{"use strict";var i=n(3289).lowlevel.crypto_hash;var s=0;var Blowfish=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])];this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function F(e,t,n){return(e[0][t[n+3]]+e[1][t[n+2]]^e[2][t[n+1]])+e[3][t[n]]}Blowfish.prototype.encipher=function(e,t){if(t===undefined){t=new Uint8Array(e.buffer);if(e.byteOffset!==0)t=t.subarray(e.byteOffset)}e[0]^=this.P[0];for(var n=1;n<16;n+=2){e[1]^=F(this.S,t,0)^this.P[n];e[0]^=F(this.S,t,4)^this.P[n+1]}var i=e[0];e[0]=e[1]^this.P[17];e[1]=i};Blowfish.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);if(e.byteOffset!==0)t=t.subarray(e.byteOffset);e[0]^=this.P[17];for(var n=16;n>0;n-=2){e[1]^=F(this.S,t,0)^this.P[n];e[0]^=F(this.S,t,4)^this.P[n-1]}var i=e[0];e[0]=e[1]^this.P[0];e[1]=i};function stream2word(e,t){var n,i=0;for(n=0;n<4;n++,s++){if(s>=t)s=0;i=i<<8|e[s]}return i}Blowfish.prototype.expand0state=function(e,t){var n=new Uint32Array(2),i,o;var f=new Uint8Array(n.buffer);for(i=0,s=0;i<18;i++){this.P[i]^=stream2word(e,t)}s=0;for(i=0;i<18;i+=2){this.encipher(n,f);this.P[i]=n[0];this.P[i+1]=n[1]}for(i=0;i<4;i++){for(o=0;o<256;o+=2){this.encipher(n,f);this.S[i][o]=n[0];this.S[i][o+1]=n[1]}}};Blowfish.prototype.expandstate=function(e,t,n,i){var o=new Uint32Array(2),f,u;for(f=0,s=0;f<18;f++){this.P[f]^=stream2word(n,i)}for(f=0,s=0;f<18;f+=2){o[0]^=stream2word(e,t);o[1]^=stream2word(e,t);this.encipher(o);this.P[f]=o[0];this.P[f+1]=o[1]}for(f=0;f<4;f++){for(u=0;u<256;u+=2){o[0]^=stream2word(e,t);o[1]^=stream2word(e,t);this.encipher(o);this.S[f][u]=o[0];this.S[f][u+1]=o[1]}}s=0};Blowfish.prototype.enc=function(e,t){for(var n=0;n<t;n++){this.encipher(e.subarray(n*2))}};Blowfish.prototype.dec=function(e,t){for(var n=0;n<t;n++){this.decipher(e.subarray(n*2))}};var o=8,f=32;function bcrypt_hash(e,t,n){var i=new Blowfish,s=new Uint32Array(o),f,u=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);i.expandstate(t,64,e,64);for(f=0;f<64;f++){i.expand0state(t,64);i.expand0state(e,64)}for(f=0;f<o;f++)s[f]=stream2word(u,u.byteLength);for(f=0;f<64;f++)i.enc(s,s.byteLength/8);for(f=0;f<o;f++){n[4*f+3]=s[f]>>>24;n[4*f+2]=s[f]>>>16;n[4*f+1]=s[f]>>>8;n[4*f+0]=s[f]}}function bcrypt_pbkdf(e,t,n,s,o,u,l){var h=new Uint8Array(64),p=new Uint8Array(64),g=new Uint8Array(f),_=new Uint8Array(f),E=new Uint8Array(s+4),b,y,m,w,I,C,v=u;if(l<1)return-1;if(t===0||s===0||u===0||u>g.byteLength*g.byteLength||s>1<<20)return-1;w=Math.floor((u+g.byteLength-1)/g.byteLength);m=Math.floor((u+w-1)/w);for(b=0;b<s;b++)E[b]=n[b];i(h,e,t);for(C=1;u>0;C++){E[s+0]=C>>>24;E[s+1]=C>>>16;E[s+2]=C>>>8;E[s+3]=C;i(p,E,s+4);bcrypt_hash(h,p,_);for(b=g.byteLength;b--;)g[b]=_[b];for(b=1;b<l;b++){i(p,_,_.byteLength);bcrypt_hash(h,p,_);for(y=0;y<g.byteLength;y++)g[y]^=_[y]}m=Math.min(m,u);for(b=0;b<m;b++){I=b*w+(C-1);if(I>=v)break;o[I]=g[b]}u-=b}return 0}e.exports={BLOCKS:o,HASHSIZE:f,hash:bcrypt_hash,pbkdf:bcrypt_pbkdf}},5413:e=>{var t=Object.prototype.toString;var n=typeof Buffer!=="undefined"&&typeof Buffer.alloc==="function"&&typeof Buffer.allocUnsafe==="function"&&typeof Buffer.from==="function";function isArrayBuffer(e){return t.call(e).slice(8,-1)==="ArrayBuffer"}function fromArrayBuffer(e,t,i){t>>>=0;var s=e.byteLength-t;if(s<0){throw new RangeError("'offset' is out of bounds")}if(i===undefined){i=s}else{i>>>=0;if(i>s){throw new RangeError("'length' is out of bounds")}}return n?Buffer.from(e.slice(t,t+i)):new Buffer(new Uint8Array(e.slice(t,t+i)))}function fromString(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!Buffer.isEncoding(t)){throw new TypeError('"encoding" must be a valid string encoding')}return n?Buffer.from(e,t):new Buffer(e,t)}function bufferFrom(e,t,i){if(typeof e==="number"){throw new TypeError('"value" argument must not be a number')}if(isArrayBuffer(e)){return fromArrayBuffer(e,t,i)}if(typeof e==="string"){return fromString(e,t)}return n?Buffer.from(e):new Buffer(e)}e.exports=bufferFrom},4557:(e,t,n)=>{var i=n(4045).Writable;var s=n(3930);var o=n(5413);if(typeof Uint8Array==="undefined"){var f=n(2159).U2}else{var f=Uint8Array}function ConcatStream(e,t){if(!(this instanceof ConcatStream))return new ConcatStream(e,t);if(typeof e==="function"){t=e;e={}}if(!e)e={};var n=e.encoding;var s=false;if(!n){s=true}else{n=String(n).toLowerCase();if(n==="u8"||n==="uint8"){n="uint8array"}}i.call(this,{objectMode:true});this.encoding=n;this.shouldInferEncoding=s;if(t)this.on("finish",(function(){t(this.getBody())}));this.body=[]}e.exports=ConcatStream;s(ConcatStream,i);ConcatStream.prototype._write=function(e,t,n){this.body.push(e);n()};ConcatStream.prototype.inferEncoding=function(e){var t=e===undefined?this.body[0]:e;if(Buffer.isBuffer(t))return"buffer";if(typeof Uint8Array!=="undefined"&&t instanceof Uint8Array)return"uint8array";if(Array.isArray(t))return"array";if(typeof t==="string")return"string";if(Object.prototype.toString.call(t)==="[object Object]")return"object";return"buffer"};ConcatStream.prototype.getBody=function(){if(!this.encoding&&this.body.length===0)return[];if(this.shouldInferEncoding)this.encoding=this.inferEncoding();if(this.encoding==="array")return arrayConcat(this.body);if(this.encoding==="string")return stringConcat(this.body);if(this.encoding==="buffer")return bufferConcat(this.body);if(this.encoding==="uint8array")return u8Concat(this.body);return this.body};var u=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"};function isArrayish(e){return/Array\]$/.test(Object.prototype.toString.call(e))}function isBufferish(e){return typeof e==="string"||isArrayish(e)||e&&typeof e.subarray==="function"}function stringConcat(e){var t=[];var n=false;for(var i=0;i<e.length;i++){var s=e[i];if(typeof s==="string"){t.push(s)}else if(Buffer.isBuffer(s)){t.push(s)}else if(isBufferish(s)){t.push(o(s))}else{t.push(o(String(s)))}}if(Buffer.isBuffer(e[0])){t=Buffer.concat(t);t=t.toString("utf8")}else{t=t.join("")}return t}function bufferConcat(e){var t=[];for(var n=0;n<e.length;n++){var i=e[n];if(Buffer.isBuffer(i)){t.push(i)}else if(isBufferish(i)){t.push(o(i))}else{t.push(o(String(i)))}}return Buffer.concat(t)}function arrayConcat(e){var t=[];for(var n=0;n<e.length;n++){t.push.apply(t,e[n])}return t}function u8Concat(e){var t=0;for(var n=0;n<e.length;n++){if(typeof e[n]==="string"){e[n]=o(e[n])}t+=e[n].length}var i=new f(t);for(var n=0,s=0;n<e.length;n++){var u=e[n];for(var l=0;l<u.length;l++){i[s++]=u[l]}}return i}},2651:(e,t,n)=>{const i=n(1424);e.exports=i.getCPUInfo},3843:(e,t,n)=>{"use strict";function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(e){return typeof e}}else{_typeof=function _typeof(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0;var s=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){if(e==="%%"){return}i++;if(e==="%c"){s=i}}));t.splice(s,0,n)}function log(){var e;return(typeof console==="undefined"?"undefined":_typeof(console))==="object"&&console.log&&(e=console).log.apply(e,arguments)}function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){var e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=n(9139)(t);var i=e.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9139:(e,t,n)=>{"use strict";function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=n(1040);Object.keys(e).forEach((function(t){createDebug[t]=e[t]}));createDebug.instances=[];createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){var t=0;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){var t;function debug(){if(!debug.enabled){return}for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}var s=debug;var o=Number(new Date);var f=o-(t||o);s.diff=f;s.prev=t;s.curr=o;t=o;n[0]=createDebug.coerce(n[0]);if(typeof n[0]!=="string"){n.unshift("%O")}var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,t){if(e==="%%"){return e}u++;var i=createDebug.formatters[t];if(typeof i==="function"){var o=n[u];e=i.call(s,o);n.splice(u,1);u--}return e}));createDebug.formatArgs.call(s,n);var l=s.log||createDebug.log;l.apply(s,n)}debug.namespace=e;debug.enabled=createDebug.enabled(e);debug.useColors=createDebug.useColors();debug.color=selectColor(e);debug.destroy=destroy;debug.extend=extend;if(typeof createDebug.init==="function"){createDebug.init(debug)}createDebug.instances.push(debug);return debug}function destroy(){var e=createDebug.instances.indexOf(this);if(e!==-1){createDebug.instances.splice(e,1);return true}return false}function extend(e,t){return createDebug(this.namespace+(typeof t==="undefined"?":":t)+e)}function enable(e){createDebug.save(e);createDebug.names=[];createDebug.skips=[];var t;var n=(typeof e==="string"?e:"").split(/[\s,]+/);var i=n.length;for(t=0;t<i;t++){if(!n[t]){continue}e=n[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}for(t=0;t<createDebug.instances.length;t++){var s=createDebug.instances[t];s.enabled=createDebug.enabled(s.namespace)}}function disable(){createDebug.enable("")}function enabled(e){if(e[e.length-1]==="*"){return true}var t;var n;for(t=0,n=createDebug.skips.length;t<n;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,n=createDebug.names.length;t<n;t++){if(createDebug.names[t].test(e)){return true}}return false}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},899:(e,t,n)=>{"use strict";if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=n(3843)}else{e.exports=n(4626)}},4626:(e,t,n)=>{"use strict";var i=n(6224);var s=n(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.colors=[6,2,3,4,5,1];try{var o=n(6221);if(o&&(o.stderr||o).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()}));var i=process.env[t];if(/^(yes|on|true|enabled)$/i.test(i)){i=true}else if(/^(no|off|false|disabled)$/i.test(i)){i=false}else if(i==="null"){i=null}else{i=Number(i)}e[n]=i;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)}function formatArgs(t){var n=this.namespace,i=this.useColors;if(i){var s=this.color;var o="[3"+(s<8?s:"8;5;"+s);var f="  ".concat(o,";1m").concat(n," [0m");t[0]=f+t[0].split("\n").join("\n"+f);t.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+n+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(){return process.stderr.write(s.format.apply(s,arguments)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};var n=Object.keys(t.inspectOpts);for(var i=0;i<n.length;i++){e.inspectOpts[n[i]]=t.inspectOpts[n[i]]}}e.exports=n(9139)(t);var f=e.exports.formatters;f.o=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")};f.O=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts)}},6433:e=>{"use strict";function assign(e,t){for(const n in t){Object.defineProperty(e,n,{value:t[n],enumerable:true,configurable:true})}return e}function createError(e,t,n){if(!e||typeof e==="string"){throw new TypeError("Please pass an Error to err-code")}if(!n){n={}}if(typeof t==="object"){n=t;t=undefined}if(t!=null){n.code=t}try{return assign(e,n)}catch(t){n.message=e.message;n.stack=e.stack;const ErrClass=function(){};ErrClass.prototype=Object.create(Object.getPrototypeOf(e));return assign(new ErrClass,n)}}e.exports=createError},5251:(e,t,n)=>{"use strict";var i=n(760).Buffer;t._dbcs=DBCSCodec;var s=-1,o=-2,f=-10,u=-1e3,l=new Array(256),h=-1;for(var p=0;p<256;p++)l[p]=s;function DBCSCodec(e,t){this.encodingName=e.encodingName;if(!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[];this.decodeTables[0]=l.slice(0);this.decodeTableSeq=[];for(var i=0;i<n.length;i++)this._addDecodeChunk(n[i]);this.defaultCharUnicode=t.defaultCharUnicode;this.encodeTable=[];this.encodeTableSeq=[];var f={};if(e.encodeSkipVals)for(var i=0;i<e.encodeSkipVals.length;i++){var h=e.encodeSkipVals[i];if(typeof h==="number")f[h]=true;else for(var p=h.from;p<=h.to;p++)f[p]=true}this._fillEncodeTable(0,0,f);if(e.encodeAdd){for(var g in e.encodeAdd)if(Object.prototype.hasOwnProperty.call(e.encodeAdd,g))this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g])}this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)];if(this.defCharSB===s)this.defCharSB=this.encodeTable[0]["?"];if(this.defCharSB===s)this.defCharSB="?".charCodeAt(0);if(typeof e.gb18030==="function"){this.gb18030=e.gb18030();var _=this.decodeTables.length;var E=this.decodeTables[_]=l.slice(0);var b=this.decodeTables.length;var y=this.decodeTables[b]=l.slice(0);for(var i=129;i<=254;i++){var m=u-this.decodeTables[0][i];var w=this.decodeTables[m];for(var p=48;p<=57;p++)w[p]=u-_}for(var i=129;i<=254;i++)E[i]=u-b;for(var i=48;i<=57;i++)y[i]=o}}DBCSCodec.prototype.encoder=DBCSEncoder;DBCSCodec.prototype.decoder=DBCSDecoder;DBCSCodec.prototype._getDecodeTrieNode=function(e){var t=[];for(;e>0;e>>=8)t.push(e&255);if(t.length==0)t.push(0);var n=this.decodeTables[0];for(var i=t.length-1;i>0;i--){var o=n[t[i]];if(o==s){n[t[i]]=u-this.decodeTables.length;this.decodeTables.push(n=l.slice(0))}else if(o<=u){n=this.decodeTables[u-o]}else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16))}return n};DBCSCodec.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16);var n=this._getDecodeTrieNode(t);t=t&255;for(var i=1;i<e.length;i++){var s=e[i];if(typeof s==="string"){for(var o=0;o<s.length;){var u=s.charCodeAt(o++);if(55296<=u&&u<56320){var l=s.charCodeAt(o++);if(56320<=l&&l<57344)n[t++]=65536+(u-55296)*1024+(l-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0])}else if(4080<u&&u<=4095){var h=4095-u+2;var p=[];for(var g=0;g<h;g++)p.push(s.charCodeAt(o++));n[t++]=f-this.decodeTableSeq.length;this.decodeTableSeq.push(p)}else n[t++]=u}}else if(typeof s==="number"){var _=n[t-1]+1;for(var o=0;o<s;o++)n[t++]=_++}else throw new Error("Incorrect type '"+typeof s+"' given in "+this.encodingName+" at chunk "+e[0])}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)};DBCSCodec.prototype._getEncodeBucket=function(e){var t=e>>8;if(this.encodeTable[t]===undefined)this.encodeTable[t]=l.slice(0);return this.encodeTable[t]};DBCSCodec.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e);var i=e&255;if(n[i]<=f)this.encodeTableSeq[f-n[i]][h]=t;else if(n[i]==s)n[i]=t};DBCSCodec.prototype._setEncodeSequence=function(e,t){var n=e[0];var i=this._getEncodeBucket(n);var o=n&255;var u;if(i[o]<=f){u=this.encodeTableSeq[f-i[o]]}else{u={};if(i[o]!==s)u[h]=i[o];i[o]=f-this.encodeTableSeq.length;this.encodeTableSeq.push(u)}for(var l=1;l<e.length-1;l++){var p=u[n];if(typeof p==="object")u=p;else{u=u[n]={};if(p!==undefined)u[h]=p}}n=e[e.length-1];u[n]=t};DBCSCodec.prototype._fillEncodeTable=function(e,t,n){var i=this.decodeTables[e];for(var s=0;s<256;s++){var o=i[s];var l=t+s;if(n[l])continue;if(o>=0)this._setEncodeChar(o,l);else if(o<=u)this._fillEncodeTable(u-o,l<<8,n);else if(o<=f)this._setEncodeSequence(this.decodeTableSeq[f-o],l)}};function DBCSEncoder(e,t){this.leadSurrogate=-1;this.seqObj=undefined;this.encodeTable=t.encodeTable;this.encodeTableSeq=t.encodeTableSeq;this.defaultCharSingleByte=t.defCharSB;this.gb18030=t.gb18030}DBCSEncoder.prototype.write=function(e){var t=i.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,o=this.seqObj,u=-1,l=0,p=0;while(true){if(u===-1){if(l==e.length)break;var g=e.charCodeAt(l++)}else{var g=u;u=-1}if(55296<=g&&g<57344){if(g<56320){if(n===-1){n=g;continue}else{n=g;g=s}}else{if(n!==-1){g=65536+(n-55296)*1024+(g-56320);n=-1}else{g=s}}}else if(n!==-1){u=g;g=s;n=-1}var _=s;if(o!==undefined&&g!=s){var E=o[g];if(typeof E==="object"){o=E;continue}else if(typeof E=="number"){_=E}else if(E==undefined){E=o[h];if(E!==undefined){_=E;u=g}else{}}o=undefined}else if(g>=0){var b=this.encodeTable[g>>8];if(b!==undefined)_=b[g&255];if(_<=f){o=this.encodeTableSeq[f-_];continue}if(_==s&&this.gb18030){var y=findIdx(this.gb18030.uChars,g);if(y!=-1){var _=this.gb18030.gbChars[y]+(g-this.gb18030.uChars[y]);t[p++]=129+Math.floor(_/12600);_=_%12600;t[p++]=48+Math.floor(_/1260);_=_%1260;t[p++]=129+Math.floor(_/10);_=_%10;t[p++]=48+_;continue}}}if(_===s)_=this.defaultCharSingleByte;if(_<256){t[p++]=_}else if(_<65536){t[p++]=_>>8;t[p++]=_&255}else{t[p++]=_>>16;t[p++]=_>>8&255;t[p++]=_&255}}this.seqObj=o;this.leadSurrogate=n;return t.slice(0,p)};DBCSEncoder.prototype.end=function(){if(this.leadSurrogate===-1&&this.seqObj===undefined)return;var e=i.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[h];if(n!==undefined){if(n<256){e[t++]=n}else{e[t++]=n>>8;e[t++]=n&255}}else{}this.seqObj=undefined}if(this.leadSurrogate!==-1){e[t++]=this.defaultCharSingleByte;this.leadSurrogate=-1}return e.slice(0,t)};DBCSEncoder.prototype.findIdx=findIdx;function DBCSDecoder(e,t){this.nodeIdx=0;this.prevBuf=i.alloc(0);this.decodeTables=t.decodeTables;this.decodeTableSeq=t.decodeTableSeq;this.defaultCharUnicode=t.defaultCharUnicode;this.gb18030=t.gb18030}DBCSDecoder.prototype.write=function(e){var t=i.alloc(e.length*2),n=this.nodeIdx,l=this.prevBuf,h=this.prevBuf.length,p=-this.prevBuf.length,g;if(h>0)l=i.concat([l,e.slice(0,10)]);for(var _=0,E=0;_<e.length;_++){var b=_>=0?e[_]:l[_+h];var g=this.decodeTables[n][b];if(g>=0){}else if(g===s){_=p;g=this.defaultCharUnicode.charCodeAt(0)}else if(g===o){var y=p>=0?e.slice(p,_+1):l.slice(p+h,_+1+h);var m=(y[0]-129)*12600+(y[1]-48)*1260+(y[2]-129)*10+(y[3]-48);var w=findIdx(this.gb18030.gbChars,m);g=this.gb18030.uChars[w]+m-this.gb18030.gbChars[w]}else if(g<=u){n=u-g;continue}else if(g<=f){var I=this.decodeTableSeq[f-g];for(var C=0;C<I.length-1;C++){g=I[C];t[E++]=g&255;t[E++]=g>>8}g=I[I.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+g+" at "+n+"/"+b);if(g>65535){g-=65536;var v=55296+Math.floor(g/1024);t[E++]=v&255;t[E++]=v>>8;g=56320+g%1024}t[E++]=g&255;t[E++]=g>>8;n=0;p=_+1}this.nodeIdx=n;this.prevBuf=p>=0?e.slice(p):l.slice(p+h);return t.slice(0,E).toString("ucs2")};DBCSDecoder.prototype.end=function(){var e="";while(this.prevBuf.length>0){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=i.alloc(0);this.nodeIdx=0;if(t.length>0)e+=this.write(t)}this.nodeIdx=0;return e};function findIdx(e,t){if(e[0]>t)return-1;var n=0,i=e.length;while(n<i-1){var s=n+Math.floor((i-n+1)/2);if(e[s]<=t)n=s;else i=s}return n}},9611:(e,t,n)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(7014)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(1532)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(3336)}},gbk:{type:"_dbcs",table:function(){return n(3336).concat(n(4346))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(3336).concat(n(4346))},gb18030:function(){return n(6258)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(7348)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(4284)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(4284).concat(n(3480))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},6037:(e,t,n)=>{"use strict";var i=[n(9002),n(4781),n(5165),n(9605),n(6943),n(5352),n(5251),n(9611)];for(var s=0;s<i.length;s++){var o=i[s];for(var f in o)if(Object.prototype.hasOwnProperty.call(o,f))t[f]=o[f]}},9002:(e,t,n)=>{"use strict";var i=n(760).Buffer;e.exports={utf8:{type:"_internal",bomAware:true},cesu8:{type:"_internal",bomAware:true},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:true},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec};function InternalCodec(e,t){this.enc=e.encodingName;this.bomAware=e.bomAware;if(this.enc==="base64")this.encoder=InternalEncoderBase64;else if(this.enc==="cesu8"){this.enc="utf8";this.encoder=InternalEncoderCesu8;if(i.from("eda0bdedb2a9","hex").toString()!==""){this.decoder=InternalDecoderCesu8;this.defaultCharUnicode=t.defaultCharUnicode}}}InternalCodec.prototype.encoder=InternalEncoder;InternalCodec.prototype.decoder=InternalDecoder;var s=n(1576).StringDecoder;if(!s.prototype.end)s.prototype.end=function(){};function InternalDecoder(e,t){s.call(this,t.enc)}InternalDecoder.prototype=s.prototype;function InternalEncoder(e,t){this.enc=t.enc}InternalEncoder.prototype.write=function(e){return i.from(e,this.enc)};InternalEncoder.prototype.end=function(){};function InternalEncoderBase64(e,t){this.prevStr=""}InternalEncoderBase64.prototype.write=function(e){e=this.prevStr+e;var t=e.length-e.length%4;this.prevStr=e.slice(t);e=e.slice(0,t);return i.from(e,"base64")};InternalEncoderBase64.prototype.end=function(){return i.from(this.prevStr,"base64")};function InternalEncoderCesu8(e,t){}InternalEncoderCesu8.prototype.write=function(e){var t=i.alloc(e.length*3),n=0;for(var s=0;s<e.length;s++){var o=e.charCodeAt(s);if(o<128)t[n++]=o;else if(o<2048){t[n++]=192+(o>>>6);t[n++]=128+(o&63)}else{t[n++]=224+(o>>>12);t[n++]=128+(o>>>6&63);t[n++]=128+(o&63)}}return t.slice(0,n)};InternalEncoderCesu8.prototype.end=function(){};function InternalDecoderCesu8(e,t){this.acc=0;this.contBytes=0;this.accBytes=0;this.defaultCharUnicode=t.defaultCharUnicode}InternalDecoderCesu8.prototype.write=function(e){var t=this.acc,n=this.contBytes,i=this.accBytes,s="";for(var o=0;o<e.length;o++){var f=e[o];if((f&192)!==128){if(n>0){s+=this.defaultCharUnicode;n=0}if(f<128){s+=String.fromCharCode(f)}else if(f<224){t=f&31;n=1;i=1}else if(f<240){t=f&15;n=2;i=1}else{s+=this.defaultCharUnicode}}else{if(n>0){t=t<<6|f&63;n--;i++;if(n===0){if(i===2&&t<128&&t>0)s+=this.defaultCharUnicode;else if(i===3&&t<2048)s+=this.defaultCharUnicode;else s+=String.fromCharCode(t)}}else{s+=this.defaultCharUnicode}}}this.acc=t;this.contBytes=n;this.accBytes=i;return s};InternalDecoderCesu8.prototype.end=function(){var e=0;if(this.contBytes>0)e+=this.defaultCharUnicode;return e}},9605:(e,t,n)=>{"use strict";var i=n(760).Buffer;t._sbcs=SBCSCodec;function SBCSCodec(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||e.chars.length!==128&&e.chars.length!==256)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(e.chars.length===128){var n="";for(var s=0;s<128;s++)n+=String.fromCharCode(s);e.chars=n+e.chars}this.decodeBuf=i.from(e.chars,"ucs2");var o=i.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(var s=0;s<e.chars.length;s++)o[e.chars.charCodeAt(s)]=s;this.encodeBuf=o}SBCSCodec.prototype.encoder=SBCSEncoder;SBCSCodec.prototype.decoder=SBCSDecoder;function SBCSEncoder(e,t){this.encodeBuf=t.encodeBuf}SBCSEncoder.prototype.write=function(e){var t=i.alloc(e.length);for(var n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t};SBCSEncoder.prototype.end=function(){};function SBCSDecoder(e,t){this.decodeBuf=t.decodeBuf}SBCSDecoder.prototype.write=function(e){var t=this.decodeBuf;var n=i.alloc(e.length*2);var s=0,o=0;for(var f=0;f<e.length;f++){s=e[f]*2;o=f*2;n[o]=t[s];n[o+1]=t[s+1]}return n.toString("ucs2")};SBCSDecoder.prototype.end=function(){}},5352:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},6943:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},4781:(e,t,n)=>{"use strict";var i=n(760).Buffer;t.utf16be=Utf16BECodec;function Utf16BECodec(){}Utf16BECodec.prototype.encoder=Utf16BEEncoder;Utf16BECodec.prototype.decoder=Utf16BEDecoder;Utf16BECodec.prototype.bomAware=true;function Utf16BEEncoder(){}Utf16BEEncoder.prototype.write=function(e){var t=i.from(e,"ucs2");for(var n=0;n<t.length;n+=2){var s=t[n];t[n]=t[n+1];t[n+1]=s}return t};Utf16BEEncoder.prototype.end=function(){};function Utf16BEDecoder(){this.overflowByte=-1}Utf16BEDecoder.prototype.write=function(e){if(e.length==0)return"";var t=i.alloc(e.length+1),n=0,s=0;if(this.overflowByte!==-1){t[0]=e[0];t[1]=this.overflowByte;n=1;s=2}for(;n<e.length-1;n+=2,s+=2){t[s]=e[n+1];t[s+1]=e[n]}this.overflowByte=n==e.length-1?e[e.length-1]:-1;return t.slice(0,s).toString("ucs2")};Utf16BEDecoder.prototype.end=function(){};t.utf16=Utf16Codec;function Utf16Codec(e,t){this.iconv=t}Utf16Codec.prototype.encoder=Utf16Encoder;Utf16Codec.prototype.decoder=Utf16Decoder;function Utf16Encoder(e,t){e=e||{};if(e.addBOM===undefined)e.addBOM=true;this.encoder=t.iconv.getEncoder("utf-16le",e)}Utf16Encoder.prototype.write=function(e){return this.encoder.write(e)};Utf16Encoder.prototype.end=function(){return this.encoder.end()};function Utf16Decoder(e,t){this.decoder=null;this.initialBytes=[];this.initialBytesLen=0;this.options=e||{};this.iconv=t.iconv}Utf16Decoder.prototype.write=function(e){if(!this.decoder){this.initialBytes.push(e);this.initialBytesLen+=e.length;if(this.initialBytesLen<16)return"";var e=i.concat(this.initialBytes),t=detectEncoding(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)};Utf16Decoder.prototype.end=function(){if(!this.decoder){var e=i.concat(this.initialBytes),t=detectEncoding(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var n=this.decoder.write(e),s=this.decoder.end();return s?n+s:n}return this.decoder.end()};function detectEncoding(e,t){var n=t||"utf-16le";if(e.length>=2){if(e[0]==254&&e[1]==255)n="utf-16be";else if(e[0]==255&&e[1]==254)n="utf-16le";else{var i=0,s=0,o=Math.min(e.length-e.length%2,64);for(var f=0;f<o;f+=2){if(e[f]===0&&e[f+1]!==0)s++;if(e[f]!==0&&e[f+1]===0)i++}if(s>i)n="utf-16be";else if(s<i)n="utf-16le"}}return n}},5165:(e,t,n)=>{"use strict";var i=n(760).Buffer;t.utf7=Utf7Codec;t.unicode11utf7="utf7";function Utf7Codec(e,t){this.iconv=t}Utf7Codec.prototype.encoder=Utf7Encoder;Utf7Codec.prototype.decoder=Utf7Decoder;Utf7Codec.prototype.bomAware=true;var s=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder(e,t){this.iconv=t.iconv}Utf7Encoder.prototype.write=function(e){return i.from(e.replace(s,function(e){return"+"+(e==="+"?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))};Utf7Encoder.prototype.end=function(){};function Utf7Decoder(e,t){this.iconv=t.iconv;this.inBase64=false;this.base64Accum=""}var o=/[A-Za-z0-9\/+]/;var f=[];for(var u=0;u<256;u++)f[u]=o.test(String.fromCharCode(u));var l="+".charCodeAt(0),h="-".charCodeAt(0),p="&".charCodeAt(0);Utf7Decoder.prototype.write=function(e){var t="",n=0,s=this.inBase64,o=this.base64Accum;for(var u=0;u<e.length;u++){if(!s){if(e[u]==l){t+=this.iconv.decode(e.slice(n,u),"ascii");n=u+1;s=true}}else{if(!f[e[u]]){if(u==n&&e[u]==h){t+="+"}else{var p=o+e.slice(n,u).toString();t+=this.iconv.decode(i.from(p,"base64"),"utf16-be")}if(e[u]!=h)u--;n=u+1;s=false;o=""}}}if(!s){t+=this.iconv.decode(e.slice(n),"ascii")}else{var p=o+e.slice(n).toString();var g=p.length-p.length%8;o=p.slice(g);p=p.slice(0,g);t+=this.iconv.decode(i.from(p,"base64"),"utf16-be")}this.inBase64=s;this.base64Accum=o;return t};Utf7Decoder.prototype.end=function(){var e="";if(this.inBase64&&this.base64Accum.length>0)e=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be");this.inBase64=false;this.base64Accum="";return e};t.utf7imap=Utf7IMAPCodec;function Utf7IMAPCodec(e,t){this.iconv=t}Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder;Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder;Utf7IMAPCodec.prototype.bomAware=true;function Utf7IMAPEncoder(e,t){this.iconv=t.iconv;this.inBase64=false;this.base64Accum=i.alloc(6);this.base64AccumIdx=0}Utf7IMAPEncoder.prototype.write=function(e){var t=this.inBase64,n=this.base64Accum,s=this.base64AccumIdx,o=i.alloc(e.length*5+10),f=0;for(var u=0;u<e.length;u++){var l=e.charCodeAt(u);if(32<=l&&l<=126){if(t){if(s>0){f+=o.write(n.slice(0,s).toString("base64").replace(/\//g,",").replace(/=+$/,""),f);s=0}o[f++]=h;t=false}if(!t){o[f++]=l;if(l===p)o[f++]=h}}else{if(!t){o[f++]=p;t=true}if(t){n[s++]=l>>8;n[s++]=l&255;if(s==n.length){f+=o.write(n.toString("base64").replace(/\//g,","),f);s=0}}}}this.inBase64=t;this.base64AccumIdx=s;return o.slice(0,f)};Utf7IMAPEncoder.prototype.end=function(){var e=i.alloc(10),t=0;if(this.inBase64){if(this.base64AccumIdx>0){t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t);this.base64AccumIdx=0}e[t++]=h;this.inBase64=false}return e.slice(0,t)};function Utf7IMAPDecoder(e,t){this.iconv=t.iconv;this.inBase64=false;this.base64Accum=""}var g=f.slice();g[",".charCodeAt(0)]=true;Utf7IMAPDecoder.prototype.write=function(e){var t="",n=0,s=this.inBase64,o=this.base64Accum;for(var f=0;f<e.length;f++){if(!s){if(e[f]==p){t+=this.iconv.decode(e.slice(n,f),"ascii");n=f+1;s=true}}else{if(!g[e[f]]){if(f==n&&e[f]==h){t+="&"}else{var u=o+e.slice(n,f).toString().replace(/,/g,"/");t+=this.iconv.decode(i.from(u,"base64"),"utf16-be")}if(e[f]!=h)f--;n=f+1;s=false;o=""}}}if(!s){t+=this.iconv.decode(e.slice(n),"ascii")}else{var u=o+e.slice(n).toString().replace(/,/g,"/");var l=u.length-u.length%8;o=u.slice(l);u=u.slice(0,l);t+=this.iconv.decode(i.from(u,"base64"),"utf16-be")}this.inBase64=s;this.base64Accum=o;return t};Utf7IMAPDecoder.prototype.end=function(){var e="";if(this.inBase64&&this.base64Accum.length>0)e=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be");this.inBase64=false;this.base64Accum="";return e}},6151:(e,t)=>{"use strict";var n="\ufeff";t.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(e,t){this.encoder=e;this.addBOM=true}PrependBOMWrapper.prototype.write=function(e){if(this.addBOM){e=n+e;this.addBOM=false}return this.encoder.write(e)};PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};t.StripBOM=StripBOMWrapper;function StripBOMWrapper(e,t){this.decoder=e;this.pass=false;this.options=t||{}}StripBOMWrapper.prototype.write=function(e){var t=this.decoder.write(e);if(this.pass||!t)return t;if(t[0]===n){t=t.slice(1);if(typeof this.options.stripBOM==="function")this.options.stripBOM()}this.pass=true;return t};StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},496:(e,t,n)=>{"use strict";var i=n(4300).Buffer;e.exports=function(e){var t=undefined;e.supportsNodeEncodingsExtension=!(i.from||new i(0)instanceof Uint8Array);e.extendNodeEncodings=function extendNodeEncodings(){if(t)return;t={};if(!e.supportsNodeEncodingsExtension){console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node");console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");return}var s={hex:true,utf8:true,"utf-8":true,ascii:true,binary:true,base64:true,ucs2:true,"ucs-2":true,utf16le:true,"utf-16le":true};i.isNativeEncoding=function(e){return e&&s[e.toLowerCase()]};var o=n(4300).SlowBuffer;t.SlowBufferToString=o.prototype.toString;o.prototype.toString=function(n,s,o){n=String(n||"utf8").toLowerCase();if(i.isNativeEncoding(n))return t.SlowBufferToString.call(this,n,s,o);if(typeof s=="undefined")s=0;if(typeof o=="undefined")o=this.length;return e.decode(this.slice(s,o),n)};t.SlowBufferWrite=o.prototype.write;o.prototype.write=function(n,s,o,f){if(isFinite(s)){if(!isFinite(o)){f=o;o=undefined}}else{var u=f;f=s;s=o;o=u}s=+s||0;var l=this.length-s;if(!o){o=l}else{o=+o;if(o>l){o=l}}f=String(f||"utf8").toLowerCase();if(i.isNativeEncoding(f))return t.SlowBufferWrite.call(this,n,s,o,f);if(n.length>0&&(o<0||s<0))throw new RangeError("attempt to write beyond buffer bounds");var h=e.encode(n,f);if(h.length<o)o=h.length;h.copy(this,s,0,o);return o};t.BufferIsEncoding=i.isEncoding;i.isEncoding=function(t){return i.isNativeEncoding(t)||e.encodingExists(t)};t.BufferByteLength=i.byteLength;i.byteLength=o.byteLength=function(n,s){s=String(s||"utf8").toLowerCase();if(i.isNativeEncoding(s))return t.BufferByteLength.call(this,n,s);return e.encode(n,s).length};t.BufferToString=i.prototype.toString;i.prototype.toString=function(n,s,o){n=String(n||"utf8").toLowerCase();if(i.isNativeEncoding(n))return t.BufferToString.call(this,n,s,o);if(typeof s=="undefined")s=0;if(typeof o=="undefined")o=this.length;return e.decode(this.slice(s,o),n)};t.BufferWrite=i.prototype.write;i.prototype.write=function(n,s,o,f){var u=s,l=o,h=f;if(isFinite(s)){if(!isFinite(o)){f=o;o=undefined}}else{var p=f;f=s;s=o;o=p}f=String(f||"utf8").toLowerCase();if(i.isNativeEncoding(f))return t.BufferWrite.call(this,n,u,l,h);s=+s||0;var g=this.length-s;if(!o){o=g}else{o=+o;if(o>g){o=g}}if(n.length>0&&(o<0||s<0))throw new RangeError("attempt to write beyond buffer bounds");var _=e.encode(n,f);if(_.length<o)o=_.length;_.copy(this,s,0,o);return o};if(e.supportsStreams){var f=n(2781).Readable;t.ReadableSetEncoding=f.prototype.setEncoding;f.prototype.setEncoding=function setEncoding(t,n){this._readableState.decoder=e.getDecoder(t,n);this._readableState.encoding=t};f.prototype.collect=e._collect}};e.undoExtendNodeEncodings=function undoExtendNodeEncodings(){if(!e.supportsNodeEncodingsExtension)return;if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete i.isNativeEncoding;var s=n(4300).SlowBuffer;s.prototype.toString=t.SlowBufferToString;s.prototype.write=t.SlowBufferWrite;i.isEncoding=t.BufferIsEncoding;i.byteLength=t.BufferByteLength;i.prototype.toString=t.BufferToString;i.prototype.write=t.BufferWrite;if(e.supportsStreams){var o=n(2781).Readable;o.prototype.setEncoding=t.ReadableSetEncoding;delete o.prototype.collect}t=undefined}}},1445:(e,t,n)=>{"use strict";var i=n(760).Buffer;var s=n(6151),o=e.exports;o.encodings=null;o.defaultCharUnicode="";o.defaultCharSingleByte="?";o.encode=function encode(e,t,n){e=""+(e||"");var s=o.getEncoder(t,n);var f=s.write(e);var u=s.end();return u&&u.length>0?i.concat([f,u]):f};o.decode=function decode(e,t,n){if(typeof e==="string"){if(!o.skipDecodeWarning){console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding");o.skipDecodeWarning=true}e=i.from(""+(e||""),"binary")}var s=o.getDecoder(t,n);var f=s.write(e);var u=s.end();return u?f+u:f};o.encodingExists=function encodingExists(e){try{o.getCodec(e);return true}catch(e){return false}};o.toEncoding=o.encode;o.fromEncoding=o.decode;o._codecDataCache={};o.getCodec=function getCodec(e){if(!o.encodings)o.encodings=n(6037);var t=o._canonicalizeEncoding(e);var i={};while(true){var s=o._codecDataCache[t];if(s)return s;var f=o.encodings[t];switch(typeof f){case"string":t=f;break;case"object":for(var u in f)i[u]=f[u];if(!i.encodingName)i.encodingName=t;t=f.type;break;case"function":if(!i.encodingName)i.encodingName=t;s=new f(i,o);o._codecDataCache[i.encodingName]=s;return s;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}};o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")};o.getEncoder=function getEncoder(e,t){var n=o.getCodec(e),i=new n.encoder(t,n);if(n.bomAware&&t&&t.addBOM)i=new s.PrependBOM(i,t);return i};o.getDecoder=function getDecoder(e,t){var n=o.getCodec(e),i=new n.decoder(t,n);if(n.bomAware&&!(t&&t.stripBOM===false))i=new s.StripBOM(i,t);return i};var f=typeof process!=="undefined"&&process.versions&&process.versions.node;if(f){var u=f.split(".").map(Number);if(u[0]>0||u[1]>=10){n(803)(o)}n(496)(o)}if(false){}},803:(e,t,n)=>{"use strict";var i=n(4300).Buffer,s=n(2781).Transform;e.exports=function(e){e.encodeStream=function encodeStream(t,n){return new IconvLiteEncoderStream(e.getEncoder(t,n),n)};e.decodeStream=function decodeStream(t,n){return new IconvLiteDecoderStream(e.getDecoder(t,n),n)};e.supportsStreams=true;e.IconvLiteEncoderStream=IconvLiteEncoderStream;e.IconvLiteDecoderStream=IconvLiteDecoderStream;e._collect=IconvLiteDecoderStream.prototype.collect};function IconvLiteEncoderStream(e,t){this.conv=e;t=t||{};t.decodeStrings=false;s.call(this,t)}IconvLiteEncoderStream.prototype=Object.create(s.prototype,{constructor:{value:IconvLiteEncoderStream}});IconvLiteEncoderStream.prototype._transform=function(e,t,n){if(typeof e!="string")return n(new Error("Iconv encoding stream needs strings as its input."));try{var i=this.conv.write(e);if(i&&i.length)this.push(i);n()}catch(e){n(e)}};IconvLiteEncoderStream.prototype._flush=function(e){try{var t=this.conv.end();if(t&&t.length)this.push(t);e()}catch(t){e(t)}};IconvLiteEncoderStream.prototype.collect=function(e){var t=[];this.on("error",e);this.on("data",(function(e){t.push(e)}));this.on("end",(function(){e(null,i.concat(t))}));return this};function IconvLiteDecoderStream(e,t){this.conv=e;t=t||{};t.encoding=this.encoding="utf8";s.call(this,t)}IconvLiteDecoderStream.prototype=Object.create(s.prototype,{constructor:{value:IconvLiteDecoderStream}});IconvLiteDecoderStream.prototype._transform=function(e,t,n){if(!i.isBuffer(e))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var s=this.conv.write(e);if(s&&s.length)this.push(s,this.encoding);n()}catch(e){n(e)}};IconvLiteDecoderStream.prototype._flush=function(e){try{var t=this.conv.end();if(t&&t.length)this.push(t,this.encoding);e()}catch(t){e(t)}};IconvLiteDecoderStream.prototype.collect=function(e){var t="";this.on("error",e);this.on("data",(function(e){t+=e}));this.on("end",(function(){e(null,t)}));return this}},3930:(e,t,n)=>{try{var i=n(3837);if(typeof i.inherits!=="function")throw"";e.exports=i.inherits}catch(t){e.exports=n(8696)}},8696:e=>{if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}},1040:e=>{var t=1e3;var n=t*60;var i=n*60;var s=i*24;var o=s*7;var f=s*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0){return parse(e)}else if(n==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!u){return}var l=parseFloat(u[1]);var h=(u[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return l*f;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*s;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return undefined}}function fmtShort(e){var o=Math.abs(e);if(o>=s){return Math.round(e/s)+"d"}if(o>=i){return Math.round(e/i)+"h"}if(o>=n){return Math.round(e/n)+"m"}if(o>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var o=Math.abs(e);if(o>=s){return plural(e,o,s,"day")}if(o>=i){return plural(e,o,i,"hour")}if(o>=n){return plural(e,o,n,"minute")}if(o>=t){return plural(e,o,t,"second")}return e+" ms"}function plural(e,t,n,i){var s=t>=n*1.5;return Math.round(e/n)+" "+i+(s?"s":"")}},6592:(e,t,n)=>{var i=n(6113).createHash;function get_header(e,t,n){var i=e.split(" ")[0],o=t[0],f=t[1];if(i=="Digest"){return s.generate(e,o,f,n.method,n.path)}else if(i=="Basic"){return basic(o,f)}}function md5(e){return i("md5").update(e).digest("hex")}function basic(e,t){var n=typeof t=="undefined"?e:[e,t].join(":");return"Basic "+Buffer.from(n).toString("base64")}var s={};s.parse_header=function(e){var t={},n=e.match(/([a-z0-9_-]+)="?([a-z0-9=\/\.@\s-\+)()]+)"?/gi);for(var i=0,s=n.length;i<s;i++){var o=n[i].split("="),f=o.shift(),u=o.join("=").replace(/^"/,"").replace(/"$/,"");t[f]=u}return t};s.update_nc=function(e){var t=99999999;e++;if(e>t)e=1;var n=new Array(8).join("0")+"";e=e+"";return n.substr(0,8-e.length)+e};s.generate=function(e,t,n,i,o){var f=1,u=null,l=s.parse_header(e);var h=md5(t+":"+l.realm+":"+n),p=md5(i.toUpperCase()+":"+o),g=[h,l.nonce];if(typeof l.qop==="string"){u=md5(Math.random().toString(36)).substr(0,8);f=s.update_nc(f);g=g.concat(f,u);g=g.concat(l.qop,p)}else{g=g.concat(p)}var _={uri:o,realm:l.realm,nonce:l.nonce,username:t,response:md5(g.join(":"))};if(l.qop){_.qop=l.qop}if(l.opaque){_.opaque=l.opaque}if(u){_.nc=f;_.cnonce=u}e=[];for(var E in _)e.push(E+'="'+_[E]+'"');return"Digest "+e.join(", ")};e.exports={header:get_header,basic:basic,digest:s.generate}},7688:(e,t,n)=>{var i=n(3477).unescape;var s=/^([^=\s]+)\s*=\s*("?)\s*(.*)\s*\2\s*$/;var o=/[\x00-\x1F\x7F\x3B\x3B\s\"\,\\"%]/g;var f=/\x3B+$/;var u=/\s*\x3B\s*/;var l=1;var h=3;function cleanCookieString(e){return e.trim().replace(/\x3B+$/,"")}function getFirstPair(e){var t=e.indexOf(";");return t===-1?e:e.substr(0,t)}function encodeCookieComponent(e){return e.toString().replace(o,encodeURIComponent)}function parseSetCookieString(e){e=cleanCookieString(e);e=getFirstPair(e);var t=s.exec(e);if(!t||!t[h])return null;return{name:i(t[l]),value:i(t[h])}}function parseSetCookieHeader(e){if(!e)return{};e=Array.isArray(e)?e:[e];return e.reduce((function(e,t){var n=parseSetCookieString(t);if(n)e[n.name]=n.value;return e}),{})}function writeCookieString(e){return Object.keys(e).reduce((function(t,n){var i=encodeCookieComponent(n);var s=encodeCookieComponent(e[n]);t+=(t?"; ":"")+i+"="+s;return t}),"")}t.read=parseSetCookieHeader;t.write=writeCookieString},1397:(e,t,n)=>{var i,s=n(3837).inherits,o=n(2781);var f=/(?:charset|encoding)\s*=\s*['"]? *([\w\-]+)/i;s(StreamDecoder,o.Transform);function StreamDecoder(e){if(!(this instanceof StreamDecoder))return new StreamDecoder(e);o.Transform.call(this,e);this.charset=e;this.parsed_chunk=false}StreamDecoder.prototype._transform=function(e,t,n){var s,o;if(this.charset=="utf8"&&!this.parsed_chunk){this.parsed_chunk=true;var u=f.exec(e.toString());if(u){o=u[1].toLowerCase();this.charset=o=="utf-8"?"utf8":o}}try{s=i.decode(e,this.charset)}catch(t){s=e}this.push(s);n()};e.exports=function(e){try{if(!i)i=n(1445)}catch(e){}if(i)return new StreamDecoder(e);else return new o.PassThrough}},314:(e,t,n)=>{var i=n(7147).readFile,s=n(1017).basename;t.build=function(e,t,n){if(typeof e!="object"||typeof e.pipe=="function")return n(new Error("Multipart builder expects data as key/val object."));var i="",s=flatten(e),o=Object.keys(s).length;if(o===0)return n(new Error("Empty multipart body. Invalid data."));function done(e,s){if(e)return n(e);if(s)i+=s;--o||n(null,i+"--"+t+"--")}for(var f in s){var u=s[f];if(u===null||typeof u=="undefined"){done()}else if(Buffer.isBuffer(u)){var l={buffer:u,content_type:"application/octet-stream"};generate_part(f,l,t,done)}else{var l=u.buffer||u.file||u.content_type?u:{value:u};generate_part(f,l,t,done)}}};function generate_part(e,t,n,o){var f="--"+n+"\r\n";f+='Content-Disposition: form-data; name="'+e+'"';function append(e,n){if(e){var i=t.content_type.indexOf("text")==-1;f+='; filename="'+encodeURIComponent(n)+'"\r\n';if(i)f+="Content-Transfer-Encoding: binary\r\n";f+="Content-Type: "+t.content_type+"\r\n\r\n";f+=i?e.toString("binary"):e.toString("utf8")}o(null,f+"\r\n")}if((t.file||t.buffer)&&t.content_type){var u=t.filename?t.filename:t.file?s(t.file):e;if(t.buffer)return append(t.buffer,u);i(t.file,(function(e,t){if(e)return o(e);append(t,u)}))}else{if(typeof t.value=="object")return o(new Error("Object received for "+e+", expected string."));if(t.content_type){f+="\r\n";f+="Content-Type: "+t.content_type}f+="\r\n\r\n";f+=Buffer.from(String(t.value),"utf8").toString("binary");append()}}function flatten(e,t,n){t=t||{};for(var i in e){var s=n?n+"["+i+"]":i;var o=e[i];if(o&&typeof o==="object"&&!(o.buffer||o.file||o.content_type))flatten(o,t,s);else t[s]=o}return t}},8495:(e,t,n)=>{var i=n(7147),s=n(3685),o=n(5687),f=n(7310),u=n(2781),l=n(899)("needle"),h=n(7649).J,p=n(314),g=n(6592),_=n(7688),E=n(2826),b=n(1397);var y=n(666).i8;var m="Needle/"+y;m+=" (Node.js "+process.version+"; "+process.platform+" "+process.arch+")";var w="agent pfx key passphrase cert ca ciphers rejectUnauthorized secureProtocol checkServerIdentity family";var I=!s.Agent||s.Agent.defaultMaxSockets!=Infinity;var C=Object.assign?Object.assign:n(3837)._extend;var v=[301,302,303,307,308];function bind_opts(e,t){return e.bind(null,t)}var B={};try{var k=n(9796);var R={flush:k.Z_SYNC_FLUSH,finishFlush:k.Z_SYNC_FLUSH};var T={flush:k.BROTLI_OPERATION_FLUSH,finishFlush:k.BROTLI_OPERATION_FLUSH};B["x-deflate"]=bind_opts(k.Inflate,R);B["deflate"]=bind_opts(k.Inflate,R);B["x-gzip"]=bind_opts(k.Gunzip,R);B["gzip"]=bind_opts(k.Gunzip,R);if(typeof k.BrotliDecompress==="function"){B["br"]=bind_opts(k.BrotliDecompress,T)}}catch(e){}var O={boundary:"--------------------NODENEEDLEHTTPCLIENT",encoding:"utf8",parse_response:"all",proxy:null,headers:{},accept:"*/*",user_agent:m,open_timeout:1e4,response_timeout:0,read_timeout:0,follow_max:0,stream_length:-1,compressed:false,decode_response:true,parse_cookies:true,follow_set_cookies:false,follow_set_referer:false,follow_keep_method:false,follow_if_same_host:false,follow_if_same_protocol:false,follow_if_same_location:false};var P={options:{decode:"decode_response",parse:"parse_response",timeout:"open_timeout",follow:"follow_max"},inverted:{}};Object.keys(P.options).map((function(e){var t=P.options[e];P.inverted[t]=e}));function keys_by_type(e){return Object.keys(O).map((function(t){if(O[t]!==null&&O[t].constructor==e)return t})).filter((function(e){return e}))}function parse_content_type(e){if(!e||e==="")return{};var t,n="utf8",i=e.split(";");if(i.length>1&&(t=i[1].match(/charset=(.+)/)))n=t[1];return{type:i[0],charset:n}}function is_stream(e){return typeof e.pipe==="function"}function get_stream_length(e,t,n){if(t>0)return n(t);if(e.end!==void 0&&e.end!==Infinity&&e.start!==void 0)return n(e.end+1-(e.start||0));i.stat(e.path,(function(t,i){n(i?i.size-(e.start||0):null)}))}function Needle(e,t,n,i,s){if(typeof t!=="string")throw new TypeError("URL must be a string, not "+t);this.method=e;this.uri=t;this.data=n;if(typeof i=="function"){this.callback=i;this.options={}}else{this.callback=s;this.options=i}}Needle.prototype.setup=function(e,t){function get_option(e,n){if(typeof t[e]!="undefined")return t[e];return typeof t[P.inverted[e]]!="undefined"?t[P.inverted[e]]:n}function check_value(e,t){var n=get_option(t),i=typeof n;if(i!="undefined"&&i!=e)throw new TypeError(i+" received for "+t+", but expected a "+e);return i==e?n:O[t]}var n={http_opts:{localAddress:get_option("localAddress",undefined),lookup:get_option("lookup",undefined)},headers:{},output:t.output,proxy:get_option("proxy",O.proxy),parser:get_option("parse_response",O.parse_response),encoding:t.encoding||(t.multipart?"binary":O.encoding)};keys_by_type(Boolean).forEach((function(e){n[e]=check_value("boolean",e)}));keys_by_type(Number).forEach((function(e){n[e]=check_value("number",e)}));w.split(" ").forEach((function(e){if(typeof t[e]!="undefined"){n.http_opts[e]=t[e];if(typeof t.agent=="undefined")n.http_opts.agent=false}}));for(var i in O.headers)n.headers[i]=O.headers[i];n.headers["accept"]=t.accept||O.accept;n.headers["user-agent"]=t.user_agent||O.user_agent;if(t.content_type)n.headers["content-type"]=t.content_type;if(t.connection||I)n.headers["connection"]=t.connection||"close";if((t.compressed||O.compressed)&&typeof k!="undefined")n.headers["accept-encoding"]=B["br"]?"gzip, deflate, br":"gzip, deflate";if(t.cookies)n.headers["cookie"]=_.write(t.cookies);if(e.match(/[^\/]@/)){var s=(f.parse(e).auth||"").split(":");t.username=s[0];t.password=s[1]}if(t.username){if(t.auth&&(t.auth=="auto"||t.auth=="digest")){n.credentials=[t.username,t.password]}else{n.headers["authorization"]=g.basic(t.username,t.password)}}if(n.proxy){if(n.proxy.indexOf("http")===-1)n.proxy="http://"+n.proxy;if(n.proxy.indexOf("@")!==-1){var o=(f.parse(n.proxy).auth||"").split(":");t.proxy_user=o[0];t.proxy_pass=o[1]}if(t.proxy_user)n.headers["proxy-authorization"]=g.basic(t.proxy_user,t.proxy_pass)}for(var u in t.headers)n.headers[u.toLowerCase()]=t.headers[u];n.uri_modifier=get_option("uri_modifier",null);return n};Needle.prototype.start=function(){var e=new u.PassThrough({objectMode:false}),t=this.uri,n=this.data,i=this.method,s=typeof this.options=="function"?this.options:this.callback,o=this.options||{};if(t.indexOf("http")===-1)t=t.replace(/^(\/\/)?/,"http://");var f=this,l,g=false,_=this.setup(t,o);var E=o.json||o.json!==false&&_.headers["content-type"]=="application/json";if(n){if(o.multipart){var b=o.boundary||O.boundary;g=true;p.build(n,b,(function(e,t){if(e)throw e;_.headers["content-type"]="multipart/form-data; boundary="+b;next(t)}))}else if(is_stream(n)){if(i.toUpperCase()=="GET")throw new Error("Refusing to pipe() a stream via GET. Did you mean .post?");if(_.stream_length>0||_.stream_length===0&&n.path){g=true;get_stream_length(n,_.stream_length,(function(e){n.length=e;next(n)}))}else{l=n}}else if(Buffer.isBuffer(n)){l=n}else if(i.toUpperCase()=="GET"&&!E){t=t.replace(/\?.*|$/,"?"+h(n))}else{l=typeof n==="string"?n:E?JSON.stringify(n):h(n);l=Buffer.from(l,_.encoding)}}function next(n){if(n){if(n.length)_.headers["content-length"]=n.length;if(!_.headers["content-type"]){_.headers["content-type"]=E?"application/json; charset=utf-8":"application/x-www-form-urlencoded"}}if(o.json&&(!o.accept&&!(o.headers||{}).accept))_.headers["accept"]="application/json";f.send_request(1,i,t,_,n,e,s)}if(!g)next(l);return e};Needle.prototype.get_request_opts=function(e,t,n){var i=n.http_opts,s=n.proxy,o=s?f.parse(s):f.parse(t);i.protocol=o.protocol;i.host=o.hostname;i.port=o.port||(o.protocol=="https:"?443:80);i.path=s?t:o.pathname+(o.search||"");i.method=e;i.headers=n.headers;if(!i.headers["host"]){var u=s?f.parse(t):o;i.headers["host"]=u.hostname;if(u.port&&[80,443].indexOf(u.port)===-1){i.headers["host"]+=":"+u.port}}return i};Needle.prototype.should_follow=function(e,t,n){if(!e)return false;function matches(t){var t=n[t];return e.indexOf(t)!==-1}if(!t.follow_if_same_location&&e===n)return false;if(t.follow_if_same_host&&!matches("host"))return false;if(t.follow_if_same_protocol&&!matches("protocol"))return false;return true};Needle.prototype.send_request=function(e,t,n,h,p,y,m){if(typeof h.uri_modifier==="function"){var w=h.uri_modifier(n);l("Modifying request URI",n+" => "+w);n=w}var I,k=0,R=this,T=this.get_request_opts(t,n,h),O=T.protocol=="https:"?o:s;function done(e,t){if(k++>0)return l("Already finished, stopping here.");if(I)clearTimeout(I);P.removeListener("error",had_error);if(m)return m(e,t,t?t.body:undefined);y.emit("done",e)}function had_error(e){l("Request error",e);y.emit("err",e);done(e||new Error("Unknown error when making request."))}function set_timeout(e,t){if(I)clearTimeout(I);if(t<=0)return;I=setTimeout((function(){y.emit("timeout",e);P.abort();if(e=="read")done(new Error(e+" timeout"))}),t)}function on_socket_end(){if(k&&!this.writable&&this.destroyed===false){this.destroy();had_error(new Error("Remote end closed socket abruptly."))}}l("Making request #"+e,T);var P=O.request(T,(function(s){var o=s.headers;l("Got response",s.statusCode,o);y.emit("response",s);set_timeout("read",h.read_timeout);if(h.parse_cookies&&(o["set-cookie"]||h.previous_resp_cookies)){s.cookies=C(h.previous_resp_cookies||{},_.read(o["set-cookie"]));l("Got cookies",s.cookies)}if(v.indexOf(s.statusCode)!==-1&&R.should_follow(o.location,h,n)){clearTimeout(I);if(e<=h.follow_max){y.emit("redirect",o.location);if(!h.follow_keep_method){t="GET";p=null;delete h.headers["content-length"]}if(h.follow_set_cookies){var w=_.read(h.headers["cookie"]);h.previous_resp_cookies=s.cookies;if(Object.keys(w).length||Object.keys(s.cookies||{}).length){h.headers["cookie"]=_.write(C(w,s.cookies))}}else if(h.headers["cookie"]){l("Clearing original request cookie",h.headers["cookie"]);delete h.headers["cookie"]}if(h.follow_set_referer)h.headers["referer"]=encodeURI(n);h.headers["host"]=null;l("Redirecting to "+f.resolve(n,o.location));return R.send_request(++e,t,f.resolve(n,o.location),h,p,y,m)}else if(h.follow_max>0){return done(new Error("Max redirects reached. Possible loop in: "+o.location))}}if(s.statusCode==401&&o["www-authenticate"]&&h.credentials){if(!h.headers["authorization"]){var k=g.header(o["www-authenticate"],h.credentials,T);if(k){h.headers["authorization"]=k;return R.send_request(e,t,n,h,p,y,m)}}}y.emit("header",s.statusCode,o);y.emit("headers",o);var O=[],P=parse_content_type(o["content-type"]),D=P.type&&P.type.indexOf("text/")!=-1;if(o["content-encoding"]&&B[o["content-encoding"]]){var U=B[o["content-encoding"]]();U.on("error",had_error);O.push(U)}if(h.parser&&E[P.type]){var L=h.parser.toString().toLowerCase();if(["xml","json"].indexOf(L)==-1||E[P.type].name==L){y.parser=E[P.type].name;O.push(E[P.type].fn());y._writableState.objectMode=true;y._readableState.objectMode=true}}else if(D&&h.decode_response&&P.charset){O.push(b(P.charset))}O.push(y);var x=s;while(O.length){x=x.pipe(O.shift())}if(h.output&&s.statusCode==200){var Q=i.createWriteStream(h.output);Q.on("error",had_error);y.on("end",(function(){if(Q.writable)Q.end()}));Q.on("close",(function(){delete y.file}));y.on("readable",(function(){var e;while((e=this.read())!==null){if(Q.writable)Q.write(e);if(s.body)s.body.push(e)}}));y.file=Q}if(m){s.raw=[];s.body=[];s.bytes=0;var W=new u.PassThrough;s.pipe(W);W.on("readable",(function(){var e;while((e=this.read())!=null){s.bytes+=e.length;s.raw.push(e)}}));if(!h.output||s.statusCode!=200){y.on("readable",(function(){var e;while((e=this.read())!==null){if(typeof e=="string")e=Buffer.from(e);s.body.push(e)}}))}}y.on("end",(function(){if(s.body){s.raw=Buffer.concat(s.raw);if(s.body[0]!==undefined&&!Buffer.isBuffer(s.body[0])){s.body=s.body[0];if(y.parser)s.parser=y.parser}else{s.body=Buffer.concat(s.body);if(D||y.parser){s.body=s.body.toString()}}}if(y.file){y.file.on("close",(function(){done(null,s,s.body)}))}else{done(null,s,s.body)}}))}));set_timeout("open",h.open_timeout);P.on("error",had_error);P.once("abort",(function(){if(I)clearTimeout(I)}));P.once("socket",(function(e){if(e.connecting){e.once("connect",(function(){set_timeout("response",h.response_timeout)}))}else{set_timeout("response",h.response_timeout)}if(!e.on_socket_end){e.on_socket_end=on_socket_end;e.once("end",(function(){process.nextTick(on_socket_end.bind(e))}))}}));if(p){if(is_stream(p)){p.pipe(P)}else{P.write(p,h.encoding);P.end()}}else{P.end()}y.request=P;return y};if(typeof Promise!=="undefined"){e.exports=function(){var t,n=[].slice.call(arguments);if(n[0].match(/\.|\//))t=n.length>2?"post":"get";else t=n.shift();if(t.match(/get|head/)&&n.length==2)n.splice(1,0,null);return new Promise((function(i,s){e.exports.request(t,n[0],n[1],n[2],(function(e,t){return e?s(e):i(t)}))}))}}e.exports.version=y;e.exports.defaults=function(e){for(var t in e){var n=P.options[t]||t;if(O.hasOwnProperty(n)&&typeof e[t]!="undefined"){if(n!="parse_response"&&n!="proxy"){var i=O[n].constructor.name;if(e[t].constructor.name!=i)throw new TypeError("Invalid type for "+t+", should be "+i)}O[n]=e[t]}else{throw new Error("Invalid property for defaults:"+n)}}return O};"head get".split(" ").forEach((function(t){e.exports[t]=function(e,n,i){return new Needle(t,e,null,n,i).start()}}));"post put patch delete".split(" ").forEach((function(t){e.exports[t]=function(e,n,i,s){return new Needle(t,e,n,i,s).start()}}));e.exports.request=function(e,t,n,i,s){return new Needle(e,t,n,i,s).start()}},2826:(e,t,n)=>{var i=n(2781).Transform;var s=n(6349);function parseXML(e,t){var n,i,o=s.parser(true,{trim:true,lowercase:true});o.onerror=o.onend=done;function done(e){o.onerror=o.onend=function(){};t(e,n)}function newElement(e,t){return{name:e||"",value:"",attributes:t||{},children:[]}}o.oncdata=o.ontext=function(e){if(i)i.value+=e};o.onopentag=function(e){var t=newElement(e.name,e.attributes);if(i){t.parent=i;i.children.push(t)}else{n=t}i=t};o.onclosetag=function(){if(typeof i.parent!=="undefined"){var e=i;i=i.parent;delete e.parent}};o.write(e).close()}function parserFactory(e,t){function parser(){var e=[],n=new i({objectMode:true});n._transform=function(t,n,i){e.push(t);i()};n._flush=function(n){var i=this,s=Buffer.concat(e);try{t(s,(function(e,t){if(e)throw e;i.push(t)}))}catch(e){i.push(s)}finally{n()}};return n}return{fn:parser,name:e}}var o={};function buildParser(e,t,n){var i=parserFactory(e,n);t.forEach((function(e){o[e]=i}))}buildParser("json",["application/json","text/javascript","application/vnd.api+json"],(function(e,t){var n,i;try{i=JSON.parse(e)}catch(e){n=e}t(n,i)}));buildParser("xml",["text/xml","application/xml","application/rdf+xml","application/rss+xml","application/atom+xml"],(function(e,t){parseXML(e.toString(),(function(e,n){t(e,n)}))}));e.exports=o;e.exports.use=buildParser},7649:(e,t)=>{var n=Object.prototype.toString;function stringify(e,t){if(t&&(e===null||typeof e=="undefined")){return t+"="}else if(n.call(e)=="[object Array]"){return stringifyArray(e,t)}else if(n.call(e)=="[object Object]"){return stringifyObject(e,t)}else if(n.call(e)=="[object Date]"){return e.toISOString()}else if(t){return t+"="+encodeURIComponent(String(e))}else if(String(e).indexOf("=")!==-1){return String(e)}else{throw new TypeError("Cannot build a querystring out of: "+e)}}function stringifyArray(e,t){var n=[];for(var i=0,s=e.length;i<s;i++){if(t)n.push(stringify(e[i],t+"[]"));else n.push(stringify(e[i]))}return n.join("&")}function stringifyObject(e,t){var n=[];Object.keys(e).forEach((function(i){n.push(stringify(e[i],t?t+"["+encodeURIComponent(i)+"]":encodeURIComponent(i)))}));return n.join("&")}t.J=stringify},5742:(e,t,n)=>{"use strict";var i=n(6433);var s=n(9325);var o=Object.prototype.hasOwnProperty;function isRetryError(e){return e&&e.code==="EPROMISERETRY"&&o.call(e,"retried")}function promiseRetry(e,t){var n;var o;if(typeof e==="object"&&typeof t==="function"){n=t;t=e;e=n}o=s.operation(t);return new Promise((function(t,n){o.attempt((function(s){Promise.resolve().then((function(){return e((function(e){if(isRetryError(e)){e=e.retried}throw i(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),s)})).then(t,(function(e){if(isRetryError(e)){e=e.retried;if(o.retry(e||new Error)){return}}n(e)}))}))}))}e.exports=promiseRetry},9719:e=>{"use strict";const t={};function createErrorType(e,n,i){if(!i){i=Error}function getMessage(e,t,i){if(typeof n==="string"){return n}else{return n(e,t,i)}}class NodeError extends i{constructor(e,t,n){super(getMessage(e,t,n))}}NodeError.prototype.name=i.name;NodeError.prototype.code=e;t[e]=NodeError}function oneOf(e,t){if(Array.isArray(e)){const n=e.length;e=e.map((e=>String(e)));if(n>2){return`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]}else if(n===2){return`one of ${t} ${e[0]} or ${e[1]}`}else{return`of ${t} ${e[0]}`}}else{return`of ${t} ${String(e)}`}}function startsWith(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function endsWith(e,t,n){if(n===undefined||n>e.length){n=e.length}return e.substring(n-t.length,n)===t}function includes(e,t,n){if(typeof n!=="number"){n=0}if(n+t.length>e.length){return false}else{return e.indexOf(t,n)!==-1}}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError);createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i;if(typeof t==="string"&&startsWith(t,"not ")){i="must not be";t=t.replace(/^not /,"")}else{i="must be"}let s;if(endsWith(e," argument")){s=`The ${e} ${i} ${oneOf(t,"type")}`}else{const n=includes(e,".")?"property":"argument";s=`The "${e}" ${n} ${i} ${oneOf(t,"type")}`}s+=`. Received type ${typeof n}`;return s}),TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"}));createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"}));createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.q=t},3280:(e,t,n)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var n in e){t.push(n)}return t};e.exports=Duplex;var s=n(4838);var o=n(1305);n(3930)(Duplex,s);{var f=i(o.prototype);for(var u=0;u<f.length;u++){var l=f[u];if(!Duplex.prototype[l])Duplex.prototype[l]=o.prototype[l]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);s.call(this,e);o.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){if(this._writableState.ended)return;process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function set(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}})},3254:(e,t,n)=>{"use strict";e.exports=PassThrough;var i=n(1109);n(3930)(PassThrough,i);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);i.call(this,e)}PassThrough.prototype._transform=function(e,t,n){n(null,e)}},4838:(e,t,n)=>{"use strict";e.exports=Readable;var i;Readable.ReadableState=ReadableState;var s=n(2361).EventEmitter;var o=function EElistenerCount(e,t){return e.listeners(t).length};var f=n(633);var u=n(4300).Buffer;var l=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return u.from(e)}function _isUint8Array(e){return u.isBuffer(e)||e instanceof l}var h=n(3837);var p;if(h&&h.debuglog){p=h.debuglog("stream")}else{p=function debug(){}}var g=n(6612);var _=n(9761);var E=n(5068),b=E.getHighWaterMark;var y=n(9719).q,m=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,I=y.ERR_METHOD_NOT_IMPLEMENTED,C=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var v;var B;var k;n(3930)(Readable,f);var R=_.errorOrDestroy;var T=["error","close","destroy","pause","resume"];function prependListener(e,t,n){if(typeof e.prependListener==="function")return e.prependListener(t,n);if(!e._events||!e._events[t])e.on(t,n);else if(Array.isArray(e._events[t]))e._events[t].unshift(n);else e._events[t]=[n,e._events[t]]}function ReadableState(e,t,s){i=i||n(3280);e=e||{};if(typeof s!=="boolean")s=t instanceof i;this.objectMode=!!e.objectMode;if(s)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=b(this,e,"readableHighWaterMark",s);this.buffer=new g;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!v)v=n(3402).s;this.decoder=new v(e.encoding);this.encoding=e.encoding}}function Readable(e){i=i||n(3280);if(!(this instanceof Readable))return new Readable(e);var t=this instanceof i;this._readableState=new ReadableState(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}f.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function set(e){if(!this._readableState){return}this._readableState.destroyed=e}});Readable.prototype.destroy=_.destroy;Readable.prototype._undestroy=_.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var n=this._readableState;var i;if(!n.objectMode){if(typeof e==="string"){t=t||n.defaultEncoding;if(t!==n.encoding){e=u.from(e,t);t=""}i=true}}else{i=true}return readableAddChunk(this,e,t,false,i)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,t,n,i,s){p("readableAddChunk",t);var o=e._readableState;if(t===null){o.reading=false;onEofChunk(e,o)}else{var f;if(!s)f=chunkInvalid(o,t);if(f){R(e,f)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==u.prototype){t=_uint8ArrayToBuffer(t)}if(i){if(o.endEmitted)R(e,new C);else addChunk(e,o,t,true)}else if(o.ended){R(e,new w)}else if(o.destroyed){return false}else{o.reading=false;if(o.decoder&&!n){t=o.decoder.write(t);if(o.objectMode||t.length!==0)addChunk(e,o,t,false);else maybeReadMore(e,o)}else{addChunk(e,o,t,false)}}}else if(!i){o.reading=false;maybeReadMore(e,o)}}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function addChunk(e,t,n,i){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",n)}else{t.length+=t.objectMode?1:n.length;if(i)t.buffer.unshift(n);else t.buffer.push(n);if(t.needReadable)emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var n;if(!_isUint8Array(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){n=new m("chunk",["string","Buffer","Uint8Array"],t)}return n}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){if(!v)v=n(3402).s;var t=new v(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var i=this._readableState.buffer.head;var s="";while(i!==null){s+=t.write(i.data);i=i.next}this._readableState.buffer.clear();if(s!=="")this._readableState.buffer.push(s);this._readableState.length=s.length;return this};var O=1073741824;function computeNewHighWaterMark(e){if(e>=O){e=O}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=computeNewHighWaterMark(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}Readable.prototype.read=function(e){p("read",e);e=parseInt(e,10);var t=this._readableState;var n=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){p("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,t);if(e===0&&t.ended){if(t.length===0)endReadable(this);return null}var i=t.needReadable;p("need readable",i);if(t.length===0||t.length-e<t.highWaterMark){i=true;p("length less than watermark",i)}if(t.ended||t.reading){i=false;p("reading or ended",i)}else if(i){p("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=howMuchToRead(n,t)}var s;if(e>0)s=fromList(e,t);else s=null;if(s===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(n!==e&&t.ended)endReadable(this)}if(s!==null)this.emit("data",s);return s};function onEofChunk(e,t){p("onEofChunk");if(t.ended)return;if(t.decoder){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=true;if(t.sync){emitReadable(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;emitReadable_(e)}}}function emitReadable(e){var t=e._readableState;p("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){p("emitReadable",t.flowing);t.emittedReadable=true;process.nextTick(emitReadable_,e)}}function emitReadable_(e){var t=e._readableState;p("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=true;process.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var n=t.length;p("maybeReadMore read 0");e.read(0);if(n===t.length)break}t.readingMore=false}Readable.prototype._read=function(e){R(this,new I("_read()"))};Readable.prototype.pipe=function(e,t){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1;p("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||t.end!==false)&&e!==process.stdout&&e!==process.stderr;var f=s?onend:unpipe;if(i.endEmitted)process.nextTick(f);else n.once("end",f);e.on("unpipe",onunpipe);function onunpipe(e,t){p("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;cleanup()}}}function onend(){p("onend");e.end()}var u=pipeOnDrain(n);e.on("drain",u);var l=false;function cleanup(){p("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",u);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);n.removeListener("end",onend);n.removeListener("end",unpipe);n.removeListener("data",ondata);l=true;if(i.awaitDrain&&(!e._writableState||e._writableState.needDrain))u()}n.on("data",ondata);function ondata(t){p("ondata");var s=e.write(t);p("dest.write",s);if(s===false){if((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&indexOf(i.pipes,e)!==-1)&&!l){p("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function onerror(t){p("onerror",t);unpipe();e.removeListener("error",onerror);if(o(e,"error")===0)R(e,t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){p("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){p("unpipe");n.unpipe(e)}e.emit("pipe",n);if(!i.flowing){p("pipe resume");n.resume()}return e};function pipeOnDrain(e){return function pipeOnDrainFunctionResult(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&o(e,"data")){t.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var n={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,n);return this}if(!e){var i=t.pipes;var s=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<s;o++){i[o].emit("unpipe",this,{hasUnpiped:false})}return this}var f=indexOf(t.pipes,e);if(f===-1)return this;t.pipes.splice(f,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,n);return this};Readable.prototype.on=function(e,t){var n=f.prototype.on.call(this,e,t);var i=this._readableState;if(e==="data"){i.readableListening=this.listenerCount("readable")>0;if(i.flowing!==false)this.resume()}else if(e==="readable"){if(!i.endEmitted&&!i.readableListening){i.readableListening=i.needReadable=true;i.flowing=false;i.emittedReadable=false;p("on readable",i.length,i.reading);if(i.length){emitReadable(this)}else if(!i.reading){process.nextTick(nReadingNextTick,this)}}}return n};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,t){var n=f.prototype.removeListener.call(this,e,t);if(e==="readable"){process.nextTick(updateReadableListening,this)}return n};Readable.prototype.removeAllListeners=function(e){var t=f.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){process.nextTick(updateReadableListening,this)}return t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function nReadingNextTick(e){p("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){p("resume");e.flowing=!e.readableListening;resume(this,e)}e.paused=false;return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;process.nextTick(resume_,e,t)}}function resume_(e,t){p("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");flow(e);if(t.flowing&&!t.reading)e.read(0)}Readable.prototype.pause=function(){p("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){p("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(e){var t=e._readableState;p("flow",t.flowing);while(t.flowing&&e.read()!==null){}}Readable.prototype.wrap=function(e){var t=this;var n=this._readableState;var i=false;e.on("end",(function(){p("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(s){p("wrapped data");if(n.decoder)s=n.decoder.write(s);if(n.objectMode&&(s===null||s===undefined))return;else if(!n.objectMode&&(!s||!s.length))return;var o=t.push(s);if(!o){i=true;e.pause()}}));for(var s in e){if(this[s]===undefined&&typeof e[s]==="function"){this[s]=function methodWrap(t){return function methodWrapReturnFunction(){return e[t].apply(e,arguments)}}(s)}}for(var o=0;o<T.length;o++){e.on(T[o],this.emit.bind(this,T[o]))}this._read=function(t){p("wrapped _read",t);if(i){i=false;e.resume()}};return this};if(typeof Symbol==="function"){Readable.prototype[Symbol.asyncIterator]=function(){if(B===undefined){B=n(762)}return B(this)}}Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(e){if(this._readableState){this._readableState.flowing=e}}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(e,t){if(t.length===0)return null;var n;if(t.objectMode)n=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)n=t.buffer.join("");else if(t.buffer.length===1)n=t.buffer.first();else n=t.buffer.concat(t.length);t.buffer.clear()}else{n=t.buffer.consume(e,t.decoder)}return n}function endReadable(e){var t=e._readableState;p("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;process.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){p("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var n=t._writableState;if(!n||n.autoDestroy&&n.finished){t.destroy()}}}}if(typeof Symbol==="function"){Readable.from=function(e,t){if(k===undefined){k=n(1568)}return k(Readable,e,t)}}function indexOf(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t)return n}return-1}},1109:(e,t,n)=>{"use strict";e.exports=Transform;var i=n(9719).q,s=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,f=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=i.ERR_TRANSFORM_WITH_LENGTH_0;var l=n(3280);n(3930)(Transform,l);function afterTransform(e,t){var n=this._transformState;n.transforming=false;var i=n.writecb;if(i===null){return this.emit("error",new o)}n.writechunk=null;n.writecb=null;if(t!=null)this.push(t);i(e);var s=this._readableState;s.reading=false;if(s.needReadable||s.length<s.highWaterMark){this._read(s.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);l.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function prefinish(){var e=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush((function(t,n){done(e,t,n)}))}else{done(this,null,null)}}Transform.prototype.push=function(e,t){this._transformState.needTransform=false;return l.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,t,n){n(new s("_transform()"))};Transform.prototype._write=function(e,t,n){var i=this._transformState;i.writecb=n;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var s=this._readableState;if(i.needTransform||s.needReadable||s.length<s.highWaterMark)this._read(s.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};Transform.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))};function done(e,t,n){if(t)return e.emit("error",t);if(n!=null)e.push(n);if(e._writableState.length)throw new u;if(e._transformState.transforming)throw new f;return e.push(null)}},1305:(e,t,n)=>{"use strict";e.exports=Writable;function WriteReq(e,t,n){this.chunk=e;this.encoding=t;this.callback=n;this.next=null}function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var i;Writable.WritableState=WritableState;var s={deprecate:n(5002)};var o=n(633);var f=n(4300).Buffer;var u=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return f.from(e)}function _isUint8Array(e){return f.isBuffer(e)||e instanceof u}var l=n(9761);var h=n(5068),p=h.getHighWaterMark;var g=n(9719).q,_=g.ERR_INVALID_ARG_TYPE,E=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,y=g.ERR_STREAM_CANNOT_PIPE,m=g.ERR_STREAM_DESTROYED,w=g.ERR_STREAM_NULL_VALUES,I=g.ERR_STREAM_WRITE_AFTER_END,C=g.ERR_UNKNOWN_ENCODING;var v=l.errorOrDestroy;n(3930)(Writable,o);function nop(){}function WritableState(e,t,s){i=i||n(3280);e=e||{};if(typeof s!=="boolean")s=t instanceof i;this.objectMode=!!e.objectMode;if(s)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=p(this,e,"writableHighWaterMark",s);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var o=e.decodeStrings===false;this.decodeStrings=!o;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:s.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var B;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){B=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(e){if(B.call(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}})}else{B=function realHasInstance(e){return e instanceof this}}function Writable(e){i=i||n(3280);var t=this instanceof i;if(!t&&!B.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}o.call(this)}Writable.prototype.pipe=function(){v(this,new y)};function writeAfterEnd(e,t){var n=new I;v(e,n);process.nextTick(t,n)}function validChunk(e,t,n,i){var s;if(n===null){s=new w}else if(typeof n!=="string"&&!t.objectMode){s=new _("chunk",["string","Buffer"],n)}if(s){v(e,s);process.nextTick(i,s);return false}return true}Writable.prototype.write=function(e,t,n){var i=this._writableState;var s=false;var o=!i.objectMode&&_isUint8Array(e);if(o&&!f.isBuffer(e)){e=_uint8ArrayToBuffer(e)}if(typeof t==="function"){n=t;t=null}if(o)t="buffer";else if(!t)t=i.defaultEncoding;if(typeof n!=="function")n=nop;if(i.ending)writeAfterEnd(this,n);else if(o||validChunk(this,i,e,n)){i.pendingcb++;s=writeOrBuffer(this,i,o,e,t,n)}return s};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new C(e);this._writableState.defaultEncoding=e;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,n){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=f.from(t,n)}return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,n,i,s,o){if(!n){var f=decodeChunk(t,i,s);if(i!==f){n=true;s="buffer";i=f}}var u=t.objectMode?1:i.length;t.length+=u;var l=t.length<t.highWaterMark;if(!l)t.needDrain=true;if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:o,next:null};if(h){h.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{doWrite(e,t,false,u,i,s,o)}return l}function doWrite(e,t,n,i,s,o,f){t.writelen=i;t.writecb=f;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new m("write"));else if(n)e._writev(s,t.onwrite);else e._write(s,o,t.onwrite);t.sync=false}function onwriteError(e,t,n,i,s){--t.pendingcb;if(n){process.nextTick(s,i);process.nextTick(finishMaybe,e,t);e._writableState.errorEmitted=true;v(e,i)}else{s(i);e._writableState.errorEmitted=true;v(e,i);finishMaybe(e,t)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,t){var n=e._writableState;var i=n.sync;var s=n.writecb;if(typeof s!=="function")throw new b;onwriteStateUpdate(n);if(t)onwriteError(e,n,i,t,s);else{var o=needFinish(n)||e.destroyed;if(!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest){clearBuffer(e,n)}if(i){process.nextTick(afterWrite,e,n,o,s)}else{afterWrite(e,n,o,s)}}}function afterWrite(e,t,n,i){if(!n)onwriteDrain(e,t);t.pendingcb--;i();finishMaybe(e,t)}function onwriteDrain(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=true;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount;var s=new Array(i);var o=t.corkedRequestsFree;o.entry=n;var f=0;var u=true;while(n){s[f]=n;if(!n.isBuf)u=false;n=n.next;f+=1}s.allBuffers=u;doWrite(e,t,true,t.length,s,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else{t.corkedRequestsFree=new CorkedRequest(t)}t.bufferedRequestCount=0}else{while(n){var l=n.chunk;var h=n.encoding;var p=n.callback;var g=t.objectMode?1:l.length;doWrite(e,t,false,g,l,h,p);n=n.next;t.bufferedRequestCount--;if(t.writing){break}}if(n===null)t.lastBufferedRequest=null}t.bufferedRequest=n;t.bufferProcessing=false}Writable.prototype._write=function(e,t,n){n(new E("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,n){var i=this._writableState;if(typeof e==="function"){n=e;e=null;t=null}else if(typeof t==="function"){n=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(i.corked){i.corked=1;this.uncork()}if(!i.ending)endWritable(this,i,n);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(n){t.pendingcb--;if(n){v(e,n)}t.prefinished=true;e.emit("prefinish");finishMaybe(e,t)}))}function prefinish(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;process.nextTick(callFinal,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,t){var n=needFinish(t);if(n){prefinish(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var i=e._readableState;if(!i||i.autoDestroy&&i.endEmitted){e.destroy()}}}}return n}function endWritable(e,t,n){t.ending=true;finishMaybe(e,t);if(n){if(t.finished)process.nextTick(n);else e.once("finish",n)}t.ended=true;e.writable=false}function onCorkedFinish(e,t,n){var i=e.entry;e.entry=null;while(i){var s=i.callback;t.pendingcb--;s(n);i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function set(e){if(!this._writableState){return}this._writableState.destroyed=e}});Writable.prototype.destroy=l.destroy;Writable.prototype._undestroy=l.undestroy;Writable.prototype._destroy=function(e,t){t(e)}},762:(e,t,n)=>{"use strict";var i;function _defineProperty(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var s=n(8135);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var h=Symbol("lastPromise");var p=Symbol("handlePromise");var g=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[o];if(t!==null){var n=e[g].read();if(n!==null){e[h]=null;e[o]=null;e[f]=null;t(createIterResult(n,false))}}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(n,i){e.then((function(){if(t[l]){n(createIterResult(undefined,true));return}t[p](n,i)}),i)}}var _=Object.getPrototypeOf((function(){}));var E=Object.setPrototypeOf((i={get stream(){return this[g]},next:function next(){var e=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(createIterResult(undefined,true))}if(this[g].destroyed){return new Promise((function(t,n){process.nextTick((function(){if(e[u]){n(e[u])}else{t(createIterResult(undefined,true))}}))}))}var n=this[h];var i;if(n){i=new Promise(wrapForNext(n,this))}else{var s=this[g].read();if(s!==null){return Promise.resolve(createIterResult(s,false))}i=new Promise(this[p])}this[h]=i;return i}},_defineProperty(i,Symbol.asyncIterator,(function(){return this})),_defineProperty(i,"return",(function _return(){var e=this;return new Promise((function(t,n){e[g].destroy(null,(function(e){if(e){n(e);return}t(createIterResult(undefined,true))}))}))})),i),_);var b=function createReadableStreamAsyncIterator(e){var t;var n=Object.create(E,(t={},_defineProperty(t,g,{value:e,writable:true}),_defineProperty(t,o,{value:null,writable:true}),_defineProperty(t,f,{value:null,writable:true}),_defineProperty(t,u,{value:null,writable:true}),_defineProperty(t,l,{value:e._readableState.endEmitted,writable:true}),_defineProperty(t,p,{value:function value(e,t){var i=n[g].read();if(i){n[h]=null;n[o]=null;n[f]=null;e(createIterResult(i,false))}else{n[o]=e;n[f]=t}},writable:true}),t));n[h]=null;s(e,(function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=n[f];if(t!==null){n[h]=null;n[o]=null;n[f]=null;t(e)}n[u]=e;return}var i=n[o];if(i!==null){n[h]=null;n[o]=null;n[f]=null;i(createIterResult(undefined,true))}n[l]=true}));e.on("readable",onReadable.bind(null,n));return n};e.exports=b},6612:(e,t,n)=>{"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);if(t)i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};if(t%2){ownKeys(Object(n),true).forEach((function(t){_defineProperty(e,t,n[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(n))}else{ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}return e}function _defineProperty(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){if(t)_defineProperties(e.prototype,t);if(n)_defineProperties(e,n);return e}var i=n(4300),s=i.Buffer;var o=n(3837),f=o.inspect;var u=f&&f.custom||"inspect";function copyBuffer(e,t,n){s.prototype.copy.call(e,t,n)}e.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length}},{key:"unshift",value:function unshift(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length}},{key:"shift",value:function shift(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(e){if(this.length===0)return"";var t=this.head;var n=""+t.data;while(t=t.next){n+=e+t.data}return n}},{key:"concat",value:function concat(e){if(this.length===0)return s.alloc(0);var t=s.allocUnsafe(e>>>0);var n=this.head;var i=0;while(n){copyBuffer(n.data,t,i);i+=n.data.length;n=n.next}return t}},{key:"consume",value:function consume(e,t){var n;if(e<this.head.data.length){n=this.head.data.slice(0,e);this.head.data=this.head.data.slice(e)}else if(e===this.head.data.length){n=this.shift()}else{n=t?this._getString(e):this._getBuffer(e)}return n}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(e){var t=this.head;var n=1;var i=t.data;e-=i.length;while(t=t.next){var s=t.data;var o=e>s.length?s.length:e;if(o===s.length)i+=s;else i+=s.slice(0,e);e-=o;if(e===0){if(o===s.length){++n;if(t.next)this.head=t.next;else this.head=this.tail=null}else{this.head=t;t.data=s.slice(o)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function _getBuffer(e){var t=s.allocUnsafe(e);var n=this.head;var i=1;n.data.copy(t);e-=n.data.length;while(n=n.next){var o=n.data;var f=e>o.length?o.length:e;o.copy(t,t.length-e,0,f);e-=f;if(e===0){if(f===o.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=o.slice(f)}break}++i}this.length-=i;return t}},{key:u,value:function value(e,t){return f(this,_objectSpread({},t,{depth:0,customInspect:false}))}}]);return BufferList}()},9761:e=>{"use strict";function destroy(e,t){var n=this;var i=this._readableState&&this._readableState.destroyed;var s=this._writableState&&this._writableState.destroyed;if(i||s){if(t){t(e)}else if(e){if(!this._writableState){process.nextTick(emitErrorNT,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;process.nextTick(emitErrorNT,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!t&&e){if(!n._writableState){process.nextTick(emitErrorAndCloseNT,n,e)}else if(!n._writableState.errorEmitted){n._writableState.errorEmitted=true;process.nextTick(emitErrorAndCloseNT,n,e)}else{process.nextTick(emitCloseNT,n)}}else if(t){process.nextTick(emitCloseNT,n);t(e)}else{process.nextTick(emitCloseNT,n)}}));return this}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t);emitCloseNT(e)}function emitCloseNT(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var n=e._readableState;var i=e._writableState;if(n&&n.autoDestroy||i&&i.autoDestroy)e.destroy(t);else e.emit("error",t)}e.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}},8135:(e,t,n)=>{"use strict";var i=n(9719).q.ERR_STREAM_PREMATURE_CLOSE;function once(e){var t=false;return function(){if(t)return;t=true;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++){i[s]=arguments[s]}e.apply(this,i)}}function noop(){}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function eos(e,t,n){if(typeof t==="function")return eos(e,null,t);if(!t)t={};n=once(n||noop);var s=t.readable||t.readable!==false&&e.readable;var o=t.writable||t.writable!==false&&e.writable;var f=function onlegacyfinish(){if(!e.writable)l()};var u=e._writableState&&e._writableState.finished;var l=function onfinish(){o=false;u=true;if(!s)n.call(e)};var h=e._readableState&&e._readableState.endEmitted;var p=function onend(){s=false;h=true;if(!o)n.call(e)};var g=function onerror(t){n.call(e,t)};var _=function onclose(){var t;if(s&&!h){if(!e._readableState||!e._readableState.ended)t=new i;return n.call(e,t)}if(o&&!u){if(!e._writableState||!e._writableState.ended)t=new i;return n.call(e,t)}};var E=function onrequest(){e.req.on("finish",l)};if(isRequest(e)){e.on("complete",l);e.on("abort",_);if(e.req)E();else e.on("request",E)}else if(o&&!e._writableState){e.on("end",f);e.on("close",f)}e.on("end",p);e.on("finish",l);if(t.error!==false)e.on("error",g);e.on("close",_);return function(){e.removeListener("complete",l);e.removeListener("abort",_);e.removeListener("request",E);if(e.req)e.req.removeListener("finish",l);e.removeListener("end",f);e.removeListener("close",f);e.removeListener("finish",l);e.removeListener("end",p);e.removeListener("error",g);e.removeListener("close",_)}}e.exports=eos},1568:(e,t,n)=>{"use strict";function asyncGeneratorStep(e,t,n,i,s,o,f){try{var u=e[o](f);var l=u.value}catch(e){n(e);return}if(u.done){t(l)}else{Promise.resolve(l).then(i,s)}}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function _next(e){asyncGeneratorStep(o,i,s,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,i,s,_next,_throw,"throw",e)}_next(undefined)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);if(t)i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};if(t%2){ownKeys(Object(n),true).forEach((function(t){_defineProperty(e,t,n[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(n))}else{ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}return e}function _defineProperty(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var i=n(9719).q.ERR_INVALID_ARG_TYPE;function from(e,t,n){var s;if(t&&typeof t.next==="function"){s=t}else if(t&&t[Symbol.asyncIterator])s=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])s=t[Symbol.iterator]();else throw new i("iterable",["Iterable"],t);var o=new e(_objectSpread({objectMode:true},n));var f=false;o._read=function(){if(!f){f=true;next()}};function next(){return _next2.apply(this,arguments)}function _next2(){_next2=_asyncToGenerator((function*(){try{var e=yield s.next(),t=e.value,n=e.done;if(n){o.push(null)}else if(o.push(yield t)){next()}else{f=false}}catch(e){o.destroy(e)}}));return _next2.apply(this,arguments)}return o}e.exports=from},4987:(e,t,n)=>{"use strict";var i;function once(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var s=n(9719).q,o=s.ERR_MISSING_ARGS,f=s.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function destroyer(e,t,s,o){o=once(o);var u=false;e.on("close",(function(){u=true}));if(i===undefined)i=n(8135);i(e,{readable:t,writable:s},(function(e){if(e)return o(e);u=true;o()}));var l=false;return function(t){if(u)return;if(l)return;l=true;if(isRequest(e))return e.abort();if(typeof e.destroy==="function")return e.destroy();o(t||new f("pipe"))}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){if(!e.length)return noop;if(typeof e[e.length-1]!=="function")return noop;return e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}var i=popCallback(t);if(Array.isArray(t[0]))t=t[0];if(t.length<2){throw new o("streams")}var s;var f=t.map((function(e,n){var o=n<t.length-1;var u=n>0;return destroyer(e,o,u,(function(e){if(!s)s=e;if(e)f.forEach(call);if(o)return;f.forEach(call);i(s)}))}));return t.reduce(pipe)}e.exports=pipeline},5068:(e,t,n)=>{"use strict";var i=n(9719).q.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function getHighWaterMark(e,t,n,s){var o=highWaterMarkFrom(t,s,n);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?n:"highWaterMark";throw new i(f,o)}return Math.floor(o)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:getHighWaterMark}},633:(e,t,n)=>{e.exports=n(2781)},4045:(e,t,n)=>{var i=n(2781);if(process.env.READABLE_STREAM==="disable"&&i){e.exports=i.Readable;Object.assign(e.exports,i);e.exports.Stream=i}else{t=e.exports=n(4838);t.Stream=i||t;t.Readable=t;t.Writable=n(1305);t.Duplex=n(3280);t.Transform=n(1109);t.PassThrough=n(3254);t.finished=n(8135);t.pipeline=n(4987)}},9325:(e,t,n)=>{e.exports=n(1512)},1512:(e,t,n)=>{var i=n(9086);t.operation=function(e){var n=t.timeouts(e);return new i(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};t.timeouts=function(e){if(e instanceof Array){return[].concat(e)}var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:false};for(var n in e){t[n]=e[n]}if(t.minTimeout>t.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var i=[];for(var s=0;s<t.retries;s++){i.push(this.createTimeout(s,t))}if(e&&e.forever&&!i.length){i.push(this.createTimeout(s,t))}i.sort((function(e,t){return e-t}));return i};t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1;var i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));i=Math.min(i,t.maxTimeout);return i};t.wrap=function(e,n,i){if(n instanceof Array){i=n;n=null}if(!i){i=[];for(var s in e){if(typeof e[s]==="function"){i.push(s)}}}for(var o=0;o<i.length;o++){var f=i[o];var u=e[f];e[f]=function retryWrapper(i){var s=t.operation(n);var o=Array.prototype.slice.call(arguments,1);var f=o.pop();o.push((function(e){if(s.retry(e)){return}if(e){arguments[0]=s.mainError()}f.apply(this,arguments)}));s.attempt((function(){i.apply(e,o)}))}.bind(e,u);e[f].options=n}}},9086:e=>{function RetryOperation(e,t){if(typeof t==="boolean"){t={forever:t}}this._originalTimeouts=JSON.parse(JSON.stringify(e));this._timeouts=e;this._options=t||{};this._maxRetryTime=t&&t.maxRetryTime||Infinity;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;if(this._options.forever){this._cachedTimeouts=this._timeouts.slice(0)}}e.exports=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts};RetryOperation.prototype.stop=function(){if(this._timeout){clearTimeout(this._timeout)}this._timeouts=[];this._cachedTimeouts=null};RetryOperation.prototype.retry=function(e){if(this._timeout){clearTimeout(this._timeout)}if(!e){return false}var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime){this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(e);var n=this._timeouts.shift();if(n===undefined){if(this._cachedTimeouts){this._errors.splice(this._errors.length-1,this._errors.length);this._timeouts=this._cachedTimeouts.slice(0);n=this._timeouts.shift()}else{return false}}var i=this;var s=setTimeout((function(){i._attempts++;if(i._operationTimeoutCb){i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout);if(i._options.unref){i._timeout.unref()}}i._fn(i._attempts)}),n);if(this._options.unref){s.unref()}return true};RetryOperation.prototype.attempt=function(e,t){this._fn=e;if(t){if(t.timeout){this._operationTimeout=t.timeout}if(t.cb){this._operationTimeoutCb=t.cb}}var n=this;if(this._operationTimeoutCb){this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)}this._operationStart=(new Date).getTime();this._fn(this._attempts)};RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated");this.attempt(e)};RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated");this.attempt(e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0){return null}var e={};var t=null;var n=0;for(var i=0;i<this._errors.length;i++){var s=this._errors[i];var o=s.message;var f=(e[o]||0)+1;e[o]=f;if(f>=n){t=s;n=f}}return t}},9759:(e,t,n)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(4300);var s=i.Buffer;function copyProps(e,t){for(var n in e){t[n]=e[n]}}if(s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow){e.exports=i}else{copyProps(i,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,n){return s(e,t,n)}SafeBuffer.prototype=Object.create(s.prototype);copyProps(s,SafeBuffer);SafeBuffer.from=function(e,t,n){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return s(e,t,n)};SafeBuffer.alloc=function(e,t,n){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=s(e);if(t!==undefined){if(typeof n==="string"){i.fill(t,n)}else{i.fill(t)}}else{i.fill(0)}return i};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},760:(e,t,n)=>{"use strict";var i=n(4300);var s=i.Buffer;var o={};var f;for(f in i){if(!i.hasOwnProperty(f))continue;if(f==="SlowBuffer"||f==="Buffer")continue;o[f]=i[f]}var u=o.Buffer={};for(f in s){if(!s.hasOwnProperty(f))continue;if(f==="allocUnsafe"||f==="allocUnsafeSlow")continue;u[f]=s[f]}o.Buffer.prototype=s.prototype;if(!u.from||u.from===Uint8Array.from){u.from=function(e,t,n){if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e)}if(e&&typeof e.length==="undefined"){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}return s(e,t,n)}}if(!u.alloc){u.alloc=function(e,t,n){if(typeof e!=="number"){throw new TypeError('The "size" argument must be of type number. Received type '+typeof e)}if(e<0||e>=2*(1<<30)){throw new RangeError('The value "'+e+'" is invalid for option "size"')}var i=s(e);if(!t||t.length===0){i.fill(0)}else if(typeof n==="string"){i.fill(t,n)}else{i.fill(t)}return i}}if(!o.kStringMaxLength){try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}}if(!o.constants){o.constants={MAX_LENGTH:o.kMaxLength};if(o.kStringMaxLength){o.constants.MAX_STRING_LENGTH=o.kStringMaxLength}}e.exports=o},6349:(e,t,n)=>{(function(e){e.parser=function(e,t){return new SAXParser(e,t)};e.SAXParser=SAXParser;e.SAXStream=SAXStream;e.createStream=createStream;e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function SAXParser(t,n){if(!(this instanceof SAXParser)){return new SAXParser(t,n)}var i=this;clearBuffers(i);i.q=i.c="";i.bufferCheckPosition=e.MAX_BUFFER_LENGTH;i.opt=n||{};i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags;i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase";i.tags=[];i.closed=i.closedRoot=i.sawRoot=false;i.tag=i.error=null;i.strict=!!t;i.noscript=!!(t||i.opt.noscript);i.state=b.BEGIN;i.strictEntities=i.opt.strictEntities;i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES);i.attribList=[];if(i.opt.xmlns){i.ns=Object.create(h)}i.trackPosition=i.opt.position!==false;if(i.trackPosition){i.position=i.line=i.column=0}emit(i,"onready")}if(!Object.create){Object.create=function(e){function F(){}F.prototype=e;var t=new F;return t}}if(!Object.keys){Object.keys=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))t.push(n);return t}}function checkBufferLength(n){var i=Math.max(e.MAX_BUFFER_LENGTH,10);var s=0;for(var o=0,f=t.length;o<f;o++){var u=n[t[o]].length;if(u>i){switch(t[o]){case"textNode":closeText(n);break;case"cdata":emitNode(n,"oncdata",n.cdata);n.cdata="";break;case"script":emitNode(n,"onscript",n.script);n.script="";break;default:error(n,"Max buffer length exceeded: "+t[o])}}s=Math.max(s,u)}var l=e.MAX_BUFFER_LENGTH-s;n.bufferCheckPosition=l+n.position}function clearBuffers(e){for(var n=0,i=t.length;n<i;n++){e[t[n]]=""}}function flushBuffers(e){closeText(e);if(e.cdata!==""){emitNode(e,"oncdata",e.cdata);e.cdata=""}if(e.script!==""){emitNode(e,"onscript",e.script);e.script=""}}SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var i;try{i=n(2781).Stream}catch(e){i=function(){}}var s=e.EVENTS.filter((function(e){return e!=="error"&&e!=="end"}));function createStream(e,t){return new SAXStream(e,t)}function SAXStream(e,t){if(!(this instanceof SAXStream)){return new SAXStream(e,t)}i.apply(this);this._parser=new SAXParser(e,t);this.writable=true;this.readable=true;var n=this;this._parser.onend=function(){n.emit("end")};this._parser.onerror=function(e){n.emit("error",e);n._parser.error=null};this._decoder=null;s.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t){n.removeAllListeners(e);n._parser["on"+e]=t;return t}n.on(e,t)},enumerable:true,configurable:false})}))}SAXStream.prototype=Object.create(i.prototype,{constructor:{value:SAXStream}});SAXStream.prototype.write=function(e){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(e)){if(!this._decoder){var t=n(1576).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}this._parser.write(e.toString());this.emit("data",e);return true};SAXStream.prototype.end=function(e){if(e&&e.length){this.write(e)}this._parser.end();return true};SAXStream.prototype.on=function(e,t){var n=this;if(!n._parser["on"+e]&&s.indexOf(e)!==-1){n._parser["on"+e]=function(){var t=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e);n.emit.apply(n,t)}}return i.prototype.on.call(n,e,t)};var o="[CDATA[";var f="DOCTYPE";var u="http://www.w3.org/XML/1998/namespace";var l="http://www.w3.org/2000/xmlns/";var h={xml:u,xmlns:l};var p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;var _=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function isWhitespace(e){return e===" "||e==="\n"||e==="\r"||e==="\t"}function isQuote(e){return e==='"'||e==="'"}function isAttribEnd(e){return e===">"||isWhitespace(e)}function isMatch(e,t){return e.test(t)}function notMatch(e,t){return!isMatch(e,t)}var b=0;e.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++};e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t];var i=typeof n==="number"?String.fromCharCode(n):n;e.ENTITIES[t]=i}));for(var y in e.STATE){e.STATE[e.STATE[y]]=y}b=e.STATE;function emit(e,t,n){e[t]&&e[t](n)}function emitNode(e,t,n){if(e.textNode)closeText(e);emit(e,t,n)}function closeText(e){e.textNode=textopts(e.opt,e.textNode);if(e.textNode)emit(e,"ontext",e.textNode);e.textNode=""}function textopts(e,t){if(e.trim)t=t.trim();if(e.normalize)t=t.replace(/\s+/g," ");return t}function error(e,t){closeText(e);if(e.trackPosition){t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c}t=new Error(t);e.error=t;emit(e,"onerror",t);return e}function end(e){if(e.sawRoot&&!e.closedRoot)strictFail(e,"Unclosed root tag");if(e.state!==b.BEGIN&&e.state!==b.BEGIN_WHITESPACE&&e.state!==b.TEXT){error(e,"Unexpected end")}closeText(e);e.c="";e.closed=true;emit(e,"onend");SAXParser.call(e,e.strict,e.opt);return e}function strictFail(e,t){if(typeof e!=="object"||!(e instanceof SAXParser)){throw new Error("bad call to strictFail")}if(e.strict){error(e,t)}}function newTag(e){if(!e.strict)e.tagName=e.tagName[e.looseCase]();var t=e.tags[e.tags.length-1]||e;var n=e.tag={name:e.tagName,attributes:{}};if(e.opt.xmlns){n.ns=t.ns}e.attribList.length=0;emitNode(e,"onopentagstart",n)}function qname(e,t){var n=e.indexOf(":");var i=n<0?["",e]:e.split(":");var s=i[0];var o=i[1];if(t&&e==="xmlns"){s="xmlns";o=""}return{prefix:s,local:o}}function attrib(e){if(!e.strict){e.attribName=e.attribName[e.looseCase]()}if(e.attribList.indexOf(e.attribName)!==-1||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=qname(e.attribName,true);var n=t.prefix;var i=t.local;if(n==="xmlns"){if(i==="xml"&&e.attribValue!==u){strictFail(e,"xml: prefix must be bound to "+u+"\n"+"Actual: "+e.attribValue)}else if(i==="xmlns"&&e.attribValue!==l){strictFail(e,"xmlns: prefix must be bound to "+l+"\n"+"Actual: "+e.attribValue)}else{var s=e.tag;var o=e.tags[e.tags.length-1]||e;if(s.ns===o.ns){s.ns=Object.create(o.ns)}s.ns[i]=e.attribValue}}e.attribList.push([e.attribName,e.attribValue])}else{e.tag.attributes[e.attribName]=e.attribValue;emitNode(e,"onattribute",{name:e.attribName,value:e.attribValue})}e.attribName=e.attribValue=""}function openTag(e,t){if(e.opt.xmlns){var n=e.tag;var i=qname(e.tagName);n.prefix=i.prefix;n.local=i.local;n.uri=n.ns[i.prefix]||"";if(n.prefix&&!n.uri){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName));n.uri=i.prefix}var s=e.tags[e.tags.length-1]||e;if(n.ns&&s.ns!==n.ns){Object.keys(n.ns).forEach((function(t){emitNode(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}))}for(var o=0,f=e.attribList.length;o<f;o++){var u=e.attribList[o];var l=u[0];var h=u[1];var p=qname(l,true);var g=p.prefix;var _=p.local;var E=g===""?"":n.ns[g]||"";var y={name:l,value:h,prefix:g,local:_,uri:E};if(g&&g!=="xmlns"&&!E){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(g));y.uri=g}e.tag.attributes[l]=y;emitNode(e,"onattribute",y)}e.attribList.length=0}e.tag.isSelfClosing=!!t;e.sawRoot=true;e.tags.push(e.tag);emitNode(e,"onopentag",e.tag);if(!t){if(!e.noscript&&e.tagName.toLowerCase()==="script"){e.state=b.SCRIPT}else{e.state=b.TEXT}e.tag=null;e.tagName=""}e.attribName=e.attribValue="";e.attribList.length=0}function closeTag(e){if(!e.tagName){strictFail(e,"Weird empty close tag.");e.textNode+="</>";e.state=b.TEXT;return}if(e.script){if(e.tagName!=="script"){e.script+="</"+e.tagName+">";e.tagName="";e.state=b.SCRIPT;return}emitNode(e,"onscript",e.script);e.script=""}var t=e.tags.length;var n=e.tagName;if(!e.strict){n=n[e.looseCase]()}var i=n;while(t--){var s=e.tags[t];if(s.name!==i){strictFail(e,"Unexpected close tag")}else{break}}if(t<0){strictFail(e,"Unmatched closing tag: "+e.tagName);e.textNode+="</"+e.tagName+">";e.state=b.TEXT;return}e.tagName=n;var o=e.tags.length;while(o-- >t){var f=e.tag=e.tags.pop();e.tagName=e.tag.name;emitNode(e,"onclosetag",e.tagName);var u={};for(var l in f.ns){u[l]=f.ns[l]}var h=e.tags[e.tags.length-1]||e;if(e.opt.xmlns&&f.ns!==h.ns){Object.keys(f.ns).forEach((function(t){var n=f.ns[t];emitNode(e,"onclosenamespace",{prefix:t,uri:n})}))}}if(t===0)e.closedRoot=true;e.tagName=e.attribValue=e.attribName="";e.attribList.length=0;e.state=b.TEXT}function parseEntity(e){var t=e.entity;var n=t.toLowerCase();var i;var s="";if(e.ENTITIES[t]){return e.ENTITIES[t]}if(e.ENTITIES[n]){return e.ENTITIES[n]}t=n;if(t.charAt(0)==="#"){if(t.charAt(1)==="x"){t=t.slice(2);i=parseInt(t,16);s=i.toString(16)}else{t=t.slice(1);i=parseInt(t,10);s=i.toString(10)}}t=t.replace(/^0+/,"");if(isNaN(i)||s.toLowerCase()!==t){strictFail(e,"Invalid character entity");return"&"+e.entity+";"}return String.fromCodePoint(i)}function beginWhiteSpace(e,t){if(t==="<"){e.state=b.OPEN_WAKA;e.startTagPosition=e.position}else if(!isWhitespace(t)){strictFail(e,"Non-whitespace before first tag.");e.textNode=t;e.state=b.TEXT}}function charAt(e,t){var n="";if(t<e.length){n=e.charAt(t)}return n}function write(e){var t=this;if(this.error){throw this.error}if(t.closed){return error(t,"Cannot write after close. Assign an onready handler.")}if(e===null){return end(t)}if(typeof e==="object"){e=e.toString()}var n=0;var i="";while(true){i=charAt(e,n++);t.c=i;if(!i){break}if(t.trackPosition){t.position++;if(i==="\n"){t.line++;t.column=0}else{t.column++}}switch(t.state){case b.BEGIN:t.state=b.BEGIN_WHITESPACE;if(i==="\ufeff"){continue}beginWhiteSpace(t,i);continue;case b.BEGIN_WHITESPACE:beginWhiteSpace(t,i);continue;case b.TEXT:if(t.sawRoot&&!t.closedRoot){var s=n-1;while(i&&i!=="<"&&i!=="&"){i=charAt(e,n++);if(i&&t.trackPosition){t.position++;if(i==="\n"){t.line++;t.column=0}else{t.column++}}}t.textNode+=e.substring(s,n-1)}if(i==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)){t.state=b.OPEN_WAKA;t.startTagPosition=t.position}else{if(!isWhitespace(i)&&(!t.sawRoot||t.closedRoot)){strictFail(t,"Text data outside of root node.")}if(i==="&"){t.state=b.TEXT_ENTITY}else{t.textNode+=i}}continue;case b.SCRIPT:if(i==="<"){t.state=b.SCRIPT_ENDING}else{t.script+=i}continue;case b.SCRIPT_ENDING:if(i==="/"){t.state=b.CLOSE_TAG}else{t.script+="<"+i;t.state=b.SCRIPT}continue;case b.OPEN_WAKA:if(i==="!"){t.state=b.SGML_DECL;t.sgmlDecl=""}else if(isWhitespace(i)){}else if(isMatch(p,i)){t.state=b.OPEN_TAG;t.tagName=i}else if(i==="/"){t.state=b.CLOSE_TAG;t.tagName=""}else if(i==="?"){t.state=b.PROC_INST;t.procInstName=t.procInstBody=""}else{strictFail(t,"Unencoded <");if(t.startTagPosition+1<t.position){var u=t.position-t.startTagPosition;i=new Array(u).join(" ")+i}t.textNode+="<"+i;t.state=b.TEXT}continue;case b.SGML_DECL:if((t.sgmlDecl+i).toUpperCase()===o){emitNode(t,"onopencdata");t.state=b.CDATA;t.sgmlDecl="";t.cdata=""}else if(t.sgmlDecl+i==="--"){t.state=b.COMMENT;t.comment="";t.sgmlDecl=""}else if((t.sgmlDecl+i).toUpperCase()===f){t.state=b.DOCTYPE;if(t.doctype||t.sawRoot){strictFail(t,"Inappropriately located doctype declaration")}t.doctype="";t.sgmlDecl=""}else if(i===">"){emitNode(t,"onsgmldeclaration",t.sgmlDecl);t.sgmlDecl="";t.state=b.TEXT}else if(isQuote(i)){t.state=b.SGML_DECL_QUOTED;t.sgmlDecl+=i}else{t.sgmlDecl+=i}continue;case b.SGML_DECL_QUOTED:if(i===t.q){t.state=b.SGML_DECL;t.q=""}t.sgmlDecl+=i;continue;case b.DOCTYPE:if(i===">"){t.state=b.TEXT;emitNode(t,"ondoctype",t.doctype);t.doctype=true}else{t.doctype+=i;if(i==="["){t.state=b.DOCTYPE_DTD}else if(isQuote(i)){t.state=b.DOCTYPE_QUOTED;t.q=i}}continue;case b.DOCTYPE_QUOTED:t.doctype+=i;if(i===t.q){t.q="";t.state=b.DOCTYPE}continue;case b.DOCTYPE_DTD:t.doctype+=i;if(i==="]"){t.state=b.DOCTYPE}else if(isQuote(i)){t.state=b.DOCTYPE_DTD_QUOTED;t.q=i}continue;case b.DOCTYPE_DTD_QUOTED:t.doctype+=i;if(i===t.q){t.state=b.DOCTYPE_DTD;t.q=""}continue;case b.COMMENT:if(i==="-"){t.state=b.COMMENT_ENDING}else{t.comment+=i}continue;case b.COMMENT_ENDING:if(i==="-"){t.state=b.COMMENT_ENDED;t.comment=textopts(t.opt,t.comment);if(t.comment){emitNode(t,"oncomment",t.comment)}t.comment=""}else{t.comment+="-"+i;t.state=b.COMMENT}continue;case b.COMMENT_ENDED:if(i!==">"){strictFail(t,"Malformed comment");t.comment+="--"+i;t.state=b.COMMENT}else{t.state=b.TEXT}continue;case b.CDATA:if(i==="]"){t.state=b.CDATA_ENDING}else{t.cdata+=i}continue;case b.CDATA_ENDING:if(i==="]"){t.state=b.CDATA_ENDING_2}else{t.cdata+="]"+i;t.state=b.CDATA}continue;case b.CDATA_ENDING_2:if(i===">"){if(t.cdata){emitNode(t,"oncdata",t.cdata)}emitNode(t,"onclosecdata");t.cdata="";t.state=b.TEXT}else if(i==="]"){t.cdata+="]"}else{t.cdata+="]]"+i;t.state=b.CDATA}continue;case b.PROC_INST:if(i==="?"){t.state=b.PROC_INST_ENDING}else if(isWhitespace(i)){t.state=b.PROC_INST_BODY}else{t.procInstName+=i}continue;case b.PROC_INST_BODY:if(!t.procInstBody&&isWhitespace(i)){continue}else if(i==="?"){t.state=b.PROC_INST_ENDING}else{t.procInstBody+=i}continue;case b.PROC_INST_ENDING:if(i===">"){emitNode(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody});t.procInstName=t.procInstBody="";t.state=b.TEXT}else{t.procInstBody+="?"+i;t.state=b.PROC_INST_BODY}continue;case b.OPEN_TAG:if(isMatch(g,i)){t.tagName+=i}else{newTag(t);if(i===">"){openTag(t)}else if(i==="/"){t.state=b.OPEN_TAG_SLASH}else{if(!isWhitespace(i)){strictFail(t,"Invalid character in tag name")}t.state=b.ATTRIB}}continue;case b.OPEN_TAG_SLASH:if(i===">"){openTag(t,true);closeTag(t)}else{strictFail(t,"Forward-slash in opening tag not followed by >");t.state=b.ATTRIB}continue;case b.ATTRIB:if(isWhitespace(i)){continue}else if(i===">"){openTag(t)}else if(i==="/"){t.state=b.OPEN_TAG_SLASH}else if(isMatch(p,i)){t.attribName=i;t.attribValue="";t.state=b.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case b.ATTRIB_NAME:if(i==="="){t.state=b.ATTRIB_VALUE}else if(i===">"){strictFail(t,"Attribute without value");t.attribValue=t.attribName;attrib(t);openTag(t)}else if(isWhitespace(i)){t.state=b.ATTRIB_NAME_SAW_WHITE}else if(isMatch(g,i)){t.attribName+=i}else{strictFail(t,"Invalid attribute name")}continue;case b.ATTRIB_NAME_SAW_WHITE:if(i==="="){t.state=b.ATTRIB_VALUE}else if(isWhitespace(i)){continue}else{strictFail(t,"Attribute without value");t.tag.attributes[t.attribName]="";t.attribValue="";emitNode(t,"onattribute",{name:t.attribName,value:""});t.attribName="";if(i===">"){openTag(t)}else if(isMatch(p,i)){t.attribName=i;t.state=b.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name");t.state=b.ATTRIB}}continue;case b.ATTRIB_VALUE:if(isWhitespace(i)){continue}else if(isQuote(i)){t.q=i;t.state=b.ATTRIB_VALUE_QUOTED}else{strictFail(t,"Unquoted attribute value");t.state=b.ATTRIB_VALUE_UNQUOTED;t.attribValue=i}continue;case b.ATTRIB_VALUE_QUOTED:if(i!==t.q){if(i==="&"){t.state=b.ATTRIB_VALUE_ENTITY_Q}else{t.attribValue+=i}continue}attrib(t);t.q="";t.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:if(isWhitespace(i)){t.state=b.ATTRIB}else if(i===">"){openTag(t)}else if(i==="/"){t.state=b.OPEN_TAG_SLASH}else if(isMatch(p,i)){strictFail(t,"No whitespace between attributes");t.attribName=i;t.attribValue="";t.state=b.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case b.ATTRIB_VALUE_UNQUOTED:if(!isAttribEnd(i)){if(i==="&"){t.state=b.ATTRIB_VALUE_ENTITY_U}else{t.attribValue+=i}continue}attrib(t);if(i===">"){openTag(t)}else{t.state=b.ATTRIB}continue;case b.CLOSE_TAG:if(!t.tagName){if(isWhitespace(i)){continue}else if(notMatch(p,i)){if(t.script){t.script+="</"+i;t.state=b.SCRIPT}else{strictFail(t,"Invalid tagname in closing tag.")}}else{t.tagName=i}}else if(i===">"){closeTag(t)}else if(isMatch(g,i)){t.tagName+=i}else if(t.script){t.script+="</"+t.tagName;t.tagName="";t.state=b.SCRIPT}else{if(!isWhitespace(i)){strictFail(t,"Invalid tagname in closing tag")}t.state=b.CLOSE_TAG_SAW_WHITE}continue;case b.CLOSE_TAG_SAW_WHITE:if(isWhitespace(i)){continue}if(i===">"){closeTag(t)}else{strictFail(t,"Invalid characters in closing tag")}continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var l;var h;switch(t.state){case b.TEXT_ENTITY:l=b.TEXT;h="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:l=b.ATTRIB_VALUE_QUOTED;h="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:l=b.ATTRIB_VALUE_UNQUOTED;h="attribValue";break}if(i===";"){t[h]+=parseEntity(t);t.entity="";t.state=l}else if(isMatch(t.entity.length?E:_,i)){t.entity+=i}else{strictFail(t,"Invalid character in entity name");t[h]+="&"+t.entity+i;t.entity="";t.state=l}continue;default:throw new Error(t,"Unknown state: "+t.state)}}if(t.position>=t.bufferCheckPosition){checkBufferLength(t)}return t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint){(function(){var e=String.fromCharCode;var t=Math.floor;var fromCodePoint=function(){var n=16384;var i=[];var s;var o;var f=-1;var u=arguments.length;if(!u){return""}var l="";while(++f<u){var h=Number(arguments[f]);if(!isFinite(h)||h<0||h>1114111||t(h)!==h){throw RangeError("Invalid code point: "+h)}if(h<=65535){i.push(h)}else{h-=65536;s=(h>>10)+55296;o=h%1024+56320;i.push(s,o)}if(f+1===u||i.length>n){l+=e.apply(null,i);i.length=0}}return l};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:true,writable:true})}else{String.fromCodePoint=fromCodePoint}})()}})(false?0:t)},5818:e=>{"use strict";const t={generic:"ERR_GENERIC_CLIENT",connect:"ERR_NOT_CONNECTED",badPath:"ERR_BAD_PATH",permission:"EACCES",notexist:"ENOENT",notdir:"ENOTDIR"};const n={writeFile:1,readFile:2,writeDir:3,readDir:4,readObj:5,writeObj:6};e.exports={errorCode:t,targetType:n}},2862:(e,t,n)=>{"use strict";const{Client:i}=n(3705);const s=n(7147);const o=n(4557);const f=n(5742);const{join:u,parse:l}=n(1017);const{fmtError:h,addTempListeners:p,removeTempListeners:g,haveConnection:_,normalizeRemotePath:E,localExists:b,haveLocalAccess:y,haveLocalCreate:m,sleep:w}=n(3944);const{errorCode:I}=n(5818);class SftpClient{constructor(e){this.client=new i;this.sftp=undefined;this.clientName=e?e:"sftp";this.endCalled=false;this.errorHandled=false;this.closeHandled=false;this.endHandled=false;this.remotePathSep="/";this.remotePlatform="unix";this.debug=undefined;this.client.on("close",(()=>{if(this.endCalled||this.closeHandled){this.debugMsg("Global: Ignoring handled close event")}else{this.debugMsg("Global: Handling unexpected close event");this.sftp=undefined}}));this.client.on("end",(()=>{if(this.endCalled||this.endHandled){this.debugMsg("Global: Ignoring hanlded end event")}else{this.debugMsg("Global: Handling unexpected end event");this.sftp=undefined}}));this.client.on("error",(e=>{if(this.endCalled||this.errorHandled){this.debugMsg("Global: Ignoring handled error")}else{this.debugMsg(`Global; Handling unexpected error; ${e.message}`);this.sftp=undefined;console.log(`ssh2-sftp-client: Unexpected error: ${e.message}. Error code: ${e.code}`)}}))}debugMsg(e,t){if(this.debug){if(t){this.debug(`CLIENT[${this.clientName}]: ${e} ${JSON.stringify(t,null," ")}`)}else{this.debug(`CLIENT[${this.clientName}]: ${e}`)}}}on(e,t){this.debugMsg(`Adding listener to ${e} event`);this.client.prependListener(e,t)}removeListener(e,t){this.debugMsg(`Removing listener from ${e} event`);this.client.removeListener(e,t)}_resetEventFlags(){this.closeHandled=false;this.endHandled=false;this.errorHandled=false}getConnection(e){let t;return new Promise(((n,i)=>{p(this,"getConnection",i);this.debugMsg("getConnection: created promise");t=()=>{this.debugMsg("getConnection: got connection - promise resolved");n(true)};this.on("ready",t);this.client.connect(e)})).finally((async e=>{this.debugMsg("getConnection: finally clause fired");await w(500);this.removeListener("ready",t);g(this,"getConnection");this._resetEventFlags();return e}))}getSftpChannel(){return new Promise(((e,t)=>{p(this,"getSftpChannel",t);this.debugMsg("getSftpChannel: created promise");this.client.sftp(((n,i)=>{if(n){this.debugMsg(`getSftpChannel: SFTP Channel Error: ${n.message}`);t(h(n,"getSftpChannel",n.code))}else{this.debugMsg("getSftpChannel: SFTP channel established");this.sftp=i;e(i)}}))})).finally((e=>{this.debugMsg("getSftpChannel: finally clause fired");g(this,"getSftpChannel");this._resetEventFlags()}))}async connect(e){try{if(e.debug){this.debug=e.debug;this.debugMsg("connect: Debugging turned on")}if(this.sftp){this.debugMsg("connect: Already connected - reject");throw h("An existing SFTP connection is already defined","connect",I.connect)}await f(((t,n)=>{this.debugMsg(`connect: Connect attempt ${n}`);return this.getConnection(e).catch((e=>{this.debugMsg("getConnection retry catch");t(e)}))}),{retries:e.retries||1,factor:e.retry_factor||2,minTimeout:e.retry_minTimeout||1e3});await this.getSftpChannel()}catch(e){this.debugMsg(`connect: Error ${e.message}`);this._resetEventFlags();throw h(e,"connect")}}realPath(e){return new Promise(((t,n)=>{this.debugMsg(`realPath -> ${e}`);p(this,"realPath",n);if(_(this,"realPath",n)){this.sftp.realpath(e,((i,s)=>{if(i){this.debugMsg(`realPath Error: ${i.message} Code: ${i.code}`);if(i.code===2){t("")}else{n(h(`${i.message} ${e}`,"realPath",i.code))}}this.debugMsg(`realPath <- ${s}`);t(s)}))}})).finally((e=>{g(this,"realPath");this._resetEventFlags();return e}))}cwd(){return this.realPath(".")}async stat(e){const _stat=t=>new Promise(((n,i)=>{this.debugMsg(`_stat: ${t}`);p(this,"_stat",i);this.sftp.stat(t,((t,s)=>{if(t){this.debugMsg(`_stat: Error ${t.message} code: ${t.code}`);if(t.code===2||t.code===4){i(h(`No such file: ${e}`,"_stat",I.notexist))}else{i(h(`${t.message} ${e}`,"_stat",t.code))}}else{let e={mode:s.mode,uid:s.uid,gid:s.gid,size:s.size,accessTime:s.atime*1e3,modifyTime:s.mtime*1e3,isDirectory:s.isDirectory(),isFile:s.isFile(),isBlockDevice:s.isBlockDevice(),isCharacterDevice:s.isCharacterDevice(),isSymbolicLink:s.isSymbolicLink(),isFIFO:s.isFIFO(),isSocket:s.isSocket()};this.debugMsg("_stat: stats <- ",e);n(e)}}))})).finally((e=>{g(this,"stat");return e}));try{_(this,"stat");let t=await E(this,e);return _stat(t)}catch(e){this._resetEventFlags();if(e.custom){throw e}else{throw h(e,"stat",e.code)}}}async exists(e){try{if(_(this,"exists")){if(e==="."){this.debugMsg("exists: . = d");return"d"}let t=await E(this,e);try{this.debugMsg(`exists: ${e} -> ${t}`);let n=await this.stat(t);this.debugMsg("exists: <- ",n);if(n.isDirectory){this.debugMsg(`exists: ${e} = d`);return"d"}if(n.isSymbolicLink){this.debugMsg(`exists: ${e} = l`);return"l"}if(n.isFile){this.debugMsg(`exists: ${e} = -`);return"-"}this.debugMsg(`exists: ${e} = false`);return false}catch(t){if(t.code===I.notexist){this.debugMsg(`exists: ${e} = false errorCode = ${t.code}`);return false}this.debugMsg(`exists: throw error ${t.message} ${t.code}`);throw t}}else{this.debugMsg(`exists: ${e} = false`);return false}}catch(e){this._resetEventFlags();if(e.custom){throw e}else{throw h(e,"exists",e.code)}}}list(e,t=/.*/){return new Promise(((n,i)=>{if(_(this,"list",i)){const s=/-/gi;this.debugMsg(`list: ${e} filter: ${t}`);p(this,"list",i);this.sftp.readdir(e,((o,f)=>{if(o){this.debugMsg(`list: Error ${o.message} code: ${o.code}`);i(h(`${o.message} ${e}`,"list",o.code))}else{let e=[];if(f){e=f.map((e=>({type:e.longname.substr(0,1),name:e.filename,size:e.attrs.size,modifyTime:e.attrs.mtime*1e3,accessTime:e.attrs.atime*1e3,rights:{user:e.longname.substr(1,3).replace(s,""),group:e.longname.substr(4,3).replace(s,""),other:e.longname.substr(7,3).replace(s,"")},owner:e.attrs.uid,group:e.attrs.gid})))}let i;if(t instanceof RegExp){i=t}else{let e=t.replace(/\*([^*])*?/gi,".*");i=new RegExp(e)}let o=e.filter((e=>i.test(e.name)));this.debugMsg("list: result: ",o);n(o)}}))}})).finally((e=>{g(this,"list");this._resetEventFlags();return e}))}get(e,t,n={readStreamOptions:{},writeStreamOptions:{},pipeOptions:{}}){let i,f;return new Promise(((u,l)=>{if(_(this,"get",l)){this.debugMsg(`get -> ${e} `,n);p(this,"get",l);i=this.sftp.createReadStream(e,n.readStreamOptions?n.readStreamOptions:{});i.once("error",(t=>{l(h(`${t.message} ${e}`,"get",t.code))}));if(t===undefined){this.debugMsg("get returning buffer of data");f=o((e=>{u(e)}))}else{if(typeof t==="string"){this.debugMsg("get returning local file");const e=m(t);if(!e.status){return l(h(`Bad path: ${t}: ${e.details}`,"get",e.code))}f=s.createWriteStream(t,n.writeStreamOptions?n.writeStreamOptions:{})}else{this.debugMsg("get returning data into supplied stream");f=t}f.once("error",(e=>{l(h(`${e.message} ${typeof t==="string"?t:""}`,"get",e.code))}));i.once("end",(()=>{if(typeof t==="string"){u(t)}else{u(f)}}))}i.pipe(f,n.pipeOptions?n.pipeOptions:{})}})).finally((e=>{g(this,"get");this._resetEventFlags();if(i&&n.readStreamOptions&&n.readStreamOptions.autoClose===false){i.destroy()}if(f&&n.writeStreamOptions&&n.writeStreamOptions.autoClose===false&&typeof t==="string"){f.destroy()}return e}))}async fastGet(e,t,n){try{const i=await this.exists(e);if(i!=="-"){const t=i===false?`No such file ${e}`:`Not a regular file ${e}`;let n=new Error(t);n.code=I.badPath;throw n}const s=m(t);if(!s.status){let e=new Error(`Bad path: ${t}: ${s.details}`);e.code=I.badPath;throw e}await new Promise(((i,s)=>{if(_(this,"fastGet",s)){this.debugMsg(`fastGet -> remote: ${e} local: ${t} `,n);p(this,"fastGet",s);this.sftp.fastGet(e,t,n,(n=>{if(n){this.debugMsg(`fastGet error ${n.message} code: ${n.code}`);s(n)}i(`${e} was successfully download to ${t}!`)}))}})).finally((e=>{g(this,"fastGet");return e}))}catch(e){this._resetEventFlags();throw h(e,"fastGet")}}fastPut(e,t,n){this.debugMsg(`fastPut -> local ${e} remote ${t}`);return new Promise(((i,s)=>{const o=y(e);if(!o.status){s(h(`Bad path: ${e}: ${o.details}`,"fastPut",o.code))}else if(o.status&&b(e)==="d"){s(h(`Bad path: ${e} not a regular file`,"fastPut",I.badPath))}else if(_(this,"fastPut",s)){this.debugMsg(`fastPut -> local: ${e} remote: ${t} opts: ${JSON.stringify(n)}`);p(this,"fastPut",s);this.sftp.fastPut(e,t,n,(n=>{if(n){this.debugMsg(`fastPut error ${n.message} ${n.code}`);s(h(`${n.message} Local: ${e} Remote: ${t}`,"fastPut",n.code))}this.debugMsg("fastPut file transferred");i(`${e} was successfully uploaded to ${t}!`)}))}})).finally((e=>{g(this,"fastPut");this._resetEventFlags();return e}))}put(e,t,n={readStreamOptions:{},writeStreamOptions:{},pipeOptions:{}}){let i,o;return new Promise(((f,u)=>{if(typeof e==="string"){const t=y(e);if(!t.status){return u(h(`Bad path: ${e}: ${t.details}`,"put",t.code))}}if(_(this,"put")){p(this,"put",u);i=this.sftp.createWriteStream(t,n.writeStreamOptions?n.writeStreamOptions:{});i.once("error",(e=>{u(h(`${e.message} ${t}`,"put",e.code))}));i.once("finish",(()=>{f(`Uploaded data stream to ${t}`)}));if(e instanceof Buffer){this.debugMsg("put source is a buffer");i.end(e)}else{if(typeof e==="string"){this.debugMsg(`put source is a file path: ${e}`);o=s.createReadStream(e,n.readStreamOptions?n.readStreamOptons:{})}else{this.debugMsg("put source is a stream");o=e}o.once("error",(t=>{u(h(`${t.message} ${typeof e==="string"?e:""}`,"put",t.code))}));o.pipe(i,n.pipeOptions?n.pipeOptions:{})}}})).finally((t=>{g(this,"put");this._resetEventFlags();if(o&&n.readStreamOptions&&n.readStreamOptions.autoClose===false&&typeof e==="string"){o.destroy()}if(i&&n.writeStreamOptions&&n.writeStreamOptions.autoClose===false){i.destroy()}return t}))}append(e,t,n={}){return this.exists(t).then((i=>{if(i&&i==="d"){return Promise.reject(h(`Bad path: ${t}: cannot append to a directory`,"append",I.badPath))}return new Promise(((i,s)=>{if(_(this,"append",s)){if(typeof e==="string"){s(h("Cannot append one file to another","append"))}else{this.debugMsg(`append -> remote: ${t} `,n);p(this,"append",s);n.flags="a";let o=this.sftp.createWriteStream(t,n);o.on("error",(e=>{s(h(`${e.message} ${t}`,"append",e.code))}));o.on("finish",(()=>{i(`Appended data to ${t}`)}));if(e instanceof Buffer){o.write(e);o.end()}else{e.pipe(o)}}}})).finally((e=>{g(this,"append");this._resetEventFlags();return e}))}))}async mkdir(e,t=false){const _mkdir=e=>new Promise(((t,n)=>{this.debugMsg(`_mkdir: create ${e}`);p(this,"_mkdir",n);this.sftp.mkdir(e,(i=>{if(i){this.debugMsg(`_mkdir: Error ${i.message} code: ${i.code}`);if(i.code===4){let t=new Error(`Bad path: ${e} permission denied`);t.code=I.badPath;n(t)}else{n(i)}}else{this.debugMsg("_mkdir: directory created");t(`${e} directory created`)}}))})).finally((e=>{g(this,"_mkdir");this._resetEventFlags();return e}));try{_(this,"mkdir");let n=await E(this,e);if(!t){return await _mkdir(n)}let i=l(n).dir;if(i){let e=await this.exists(i);if(!e){await this.mkdir(i,true)}else if(e!=="d"){let e=new Error(`Bad path: ${i} not a directory`);e.code=I.badPath;throw e}}return await _mkdir(n)}catch(e){throw h(`${e.message}`,"mkdir",e.code)}}async rmdir(e,t=false){const _rmdir=e=>new Promise(((t,n)=>{this.debugMsg(`rmdir -> ${e}`);p(this,"rmdir",n);this.sftp.rmdir(e,(i=>{if(i){this.debugMsg(`rmdir error ${i.message} code: ${i.code}`);n(h(`${i.message} ${e}`,"_rmdir",i.code))}t("Successfully removed directory")}))})).finally((e=>{g(this,"rmdir");return e}));try{_(this,"rmdir");let n=await E(this,e);if(!t){return _rmdir(n)}let i=await this.list(n);if(i.length){let e=i.filter((e=>e.type!=="d"));let t=i.filter((e=>e.type==="d"));this.debugMsg("rmdir contents (files): ",e);this.debugMsg("rmdir contents (dirs): ",t);for(let t of e){await this.delete(`${n}${this.remotePathSep}${t.name}`)}for(let e of t){await this.rmdir(`${n}${this.remotePathSep}${e.name}`,true)}}return _rmdir(n)}catch(e){this._resetEventFlags();if(e.custom){throw e}else{throw h(e,"rmdir",e.code)}}}delete(e,t=false){return new Promise(((n,i)=>{if(_(this,"delete",i)){this.debugMsg(`delete -> ${e}`);p(this,"delete",i);this.sftp.unlink(e,(s=>{if(s){this.debugMsg(`delete error ${s.message} code: ${s.code}`);if(t&&s.code===2){this.debugMsg("delete ignore missing target error");n(`Successfully deleted ${e}`)}else{i(h(`${s.message} ${e}`,"delete",s.code))}}n(`Successfully deleted ${e}`)}))}})).finally((e=>{g(this,"delete");this._resetEventFlags();return e}))}rename(e,t){return new Promise(((n,i)=>{if(_(this,"rename",i)){this.debugMsg(`rename -> ${e} ${t}`);p(this,"rename",i);this.sftp.rename(e,t,(s=>{if(s){this.debugMsg(`rename error ${s.message} code: ${s.code}`);i(h(`${s.message} From: ${e} To: ${t}`,"rename",s.code))}n(`Successfully renamed ${e} to ${t}`)}))}})).finally((e=>{g(this,"rename");this._resetEventFlags();return e}))}posixRename(e,t){return new Promise(((n,i)=>{if(_(this,"posixRename",i)){this.debugMsg(`posixRename -> ${e} ${t}`);p(this,"posixRename",i);this.sftp.ext_openssh_rename(e,t,(s=>{if(s){this.debugMsg(`posixRename error ${s.message} code: ${s.code}`);i(h(`${s.message} From: ${e} To: ${t}`,"posixRename",s.code))}n(`Successful POSIX rename ${e} to ${t}`)}))}})).finally((e=>{g(this,"posixRename");this._resetEventFlags();return e}))}chmod(e,t){return new Promise(((n,i)=>{this.debugMsg(`chmod -> ${e} ${t}`);p(this,"chmod",i);this.sftp.chmod(e,t,(t=>{if(t){i(h(`${t.message} ${e}`,"chmod",t.code))}n("Successfully change file mode")}))})).finally((e=>{g(this,"chmod");this._resetEventFlags();return e}))}async uploadDir(e,t,n=/.*/){try{this.debugMsg(`uploadDir -> ${e} ${t}`);const i=b(e);if(i!=="d"){throw h(`Bad path: ${e}: not a directory`,"uploadDir",I.badPath)}_(this,"uploadDir");let o=await this.exists(t);if(o&&o!=="d"){throw h(`Bad path ${t}`,"uploadDir",I.badPath)}if(!o){await this.mkdir(t,true)}let f=s.readdirSync(e,{encoding:"utf8",withFileTypes:true});f=f.filter((e=>n.test(e.name)));for(let i of f){if(i.isDirectory()){let s=u(e,i.name);let o=t+this.remotePathSep+i.name;await this.uploadDir(s,o,n)}else if(i.isFile()){let n=u(e,i.name);let s=t+this.remotePathSep+i.name;await this.fastPut(n,s);this.client.emit("upload",{source:n,destination:s})}else{this.debugMsg(`uploadDir: File ignored: ${i.name} not a regular file`)}}return`${e} uploaded to ${t}`}catch(e){this._resetEventFlags();if(e.custom){throw e}else{throw h(e,"uploadDir")}}}async downloadDir(e,t,n=/.*/){try{this.debugMsg(`downloadDir -> ${e} ${t}`);_(this,"downloadDir");let i=await this.list(e,n);const o=m(t);if(!o.status&&o.details==="permission denied"){throw h(`Bad path: ${t}: ${o.details}`,"downloadDir",o.code)}else if(o.status&&!o.type){s.mkdirSync(t,{recursive:true})}else if(o.status&&o.type!=="d"){throw h(`Bad path: ${t}: not a directory`,"downloadDir",I.badPath)}for(let s of i){if(s.type==="d"){let i=e+this.remotePathSep+s.name;let o=u(t,s.name);await this.downloadDir(i,o,n)}else if(s.type==="-"){let n=e+this.remotePathSep+s.name;let i=u(t,s.name);await this.fastGet(n,i);this.client.emit("download",{source:n,destination:i})}else{this.debugMsg(`downloadDir: File ignored: ${s.name} not regular file`)}}return`${e} downloaded to ${t}`}catch(e){this._resetEventFlags();if(e.custom){throw e}else{throw h(e,"downloadDir",e.code)}}}end(){let e;return new Promise(((t,n)=>{this.endCalled=true;p(this,"end",n);e=()=>{this.sftp=undefined;this.debugMsg("end: Connection closed");t(true)};this.on("close",e);if(_(this,"end",n)){this.debugMsg("end: Have connection - calling end()");this.client.end()}})).finally((t=>{this.debugMsg("end: finally clause fired");g(this,"end");this.removeListener("close",e);this.endCalled=false;this._resetEventFlags();return t}))}}e.exports=SftpClient},3944:(e,t,n)=>{"use strict";const i=n(7147);const s=n(1017);const{errorCode:o}=n(5818);function fmtError(e,t="sftp",n,i){let s="";let f="";let u=i?` after ${i} ${i>1?"attempts":"attempt"}`:"";if(e===undefined){s=`${t}: Undefined error - probably a bug!`;f=o.generic}else if(typeof e==="string"){s=`${t}: ${e}${u}`;f=n?n:o.generic}else if(e.custom){s=`${t}->${e.message}${u}`;f=e.code}else{switch(e.code){case"ENOTFOUND":s=`${t}: ${e.level} error. `+`Address lookup failed for host ${e.hostname}${u}`;break;case"ECONNREFUSED":s=`${t}: ${e.level} error. Remote host at `+`${e.address} refused connection${u}`;break;case"ECONNRESET":s=`${t}: Remote host has reset the connection: `+`${e.message}${u}`;break;default:s=`${t}: ${e.message}${u}`}f=e.code?e.code:o.generic}let l=new Error(s);l.code=f;l.custom=true;return l}let f=[];function errorListener(e,t,n){let fn=i=>{if(e.endCalled||e.errorHandled){e.debugMsg(`${t}: Ignoring handled error: ${i.message}`)}else{e.debugMsg(`${t}: Handling error: ${i.message}`);e.errorHandled=true;if(n){e.debugMsg(`${t}: handled error with reject`);n(fmtError(i,t,i.code))}else{e.debugMsg(`${t}: handling error with throw`);throw fmtError(i,t,i.code)}}};f.push(["error",fn]);return fn}function endListener(e,t,n){let fn=function(){if(e.endCalled||e.endHandled){e.debugMsg(`${t}: Ignoring expected end event`)}else{e.debugMsg(`${t}: Handling end event`);e.sftp=undefined;e.endHandled=true;if(n){e.debugMsg(`${t}: handling end event with reject'`);n(fmtError("Unexpected end event raised",t))}else{e.debugMst(`${t}: handling end event with throw`);throw fmtError("Unexpected end event raised",t)}}};f.push(["end",fn]);return fn}function closeListener(e,t,n){let fn=function(){if(e.endCalled||e.closeHandled){e.debugMsg(`${t}: ignoring expected close event`)}else{e.debugMsg(`${t}: handling unexpected close event`);e.sftp=undefined;e.closeHandled=true;if(n){e.debugMsg(`${t}: handling close event with reject`);n(fmtError("Unexpected close event raised",t))}else{e.debugMsg(`${t}: handling close event with throw`);throw fmtError("Unexpected close event raised",t)}}};f.push(["close",fn]);return fn}function addTempListeners(e,t,n){e.debugMsg(`${t}: Adding temp event listeners`);e.client.prependListener("end",endListener(e,t,n));e.client.prependListener("close",closeListener(e,t,n));e.client.prependListener("error",errorListener(e,t,n))}function removeTempListeners(e,t){e.debugMsg(`${t}: Removing temp event listeners`);f.forEach((([t,n])=>{e.client.removeListener(t,n)}));f=[]}function localExists(e){try{const t=i.statSync(e);if(t.isSymbolicLink()){return"l"}else if(t.isDirectory()){return"d"}else if(t.isSocket()){return"s"}else if(t.isFile()){return"-"}else{throw fmtError(`Bad path: ${e}: unsupported file type`,"localExists",o.badPath)}}catch(t){throw fmtError(`Bad path: ${e}: not exist`,"localExists",o.badPath)}}function haveLocalAccess(e,t="r"){const n=i.constants.F_OK|t==="w"?i.constants.W_OK:i.constants.R_OK;try{i.accessSync(e,n);const t=localExists(e);return{status:true,type:t,details:"access OK",code:0}}catch(t){if(t.errno===-2){return{status:false,type:null,details:"not exist",code:-2}}else if(t.errno===-13){const t=localExists(e);return{status:false,type:t,details:"permission denied",code:-13}}else{throw t}}}function haveLocalCreate(e){const{status:t,details:n,type:i}=haveLocalAccess(e,"w");if(!t&&n==="permission denied"){throw new Error(`Bad path: ${e}: permission denied`)}else if(!t){const t=s.dirname(e);const n=haveLocalAccess(t,"w");if(n.status&&n.type!=="d"){throw new Error(`Bad path: ${t}: not a directory`)}else if(!n.status){throw new Error(`Bad path: ${t}: ${n.details}`)}else{return{status:true,details:"access OK",type:null,code:0}}}return{status:t,details:n,type:i}}async function normalizeRemotePath(e,t){try{if(t.startsWith("..")){let n=await e.realPath("..");return n+e.remotePathSep+t.substring(3)}else if(t.startsWith(".")){let n=await e.realPath(".");return n+e.remotePathSep+t.substring(2)}return t}catch(e){throw fmtError(e,"normalizeRemotePath")}}function haveConnection(e,t,n){if(!e.sftp){let e=fmtError("No SFTP connection available",t,o.connect);if(n){n(e);return false}else{throw e}}return true}function sleep(e){return new Promise(((t,n)=>{try{setTimeout((()=>{t(true)}),e)}catch(e){n(e)}}))}e.exports={fmtError:fmtError,errorListener:errorListener,endListener:endListener,closeListener:closeListener,addTempListeners:addTempListeners,removeTempListeners:removeTempListeners,haveLocalAccess:haveLocalAccess,haveLocalCreate:haveLocalCreate,normalizeRemotePath:normalizeRemotePath,localExists:localExists,haveConnection:haveConnection,sleep:sleep}},6885:(e,t,n)=>{"use strict";const{Duplex:i,Readable:s,Writable:o}=n(2781);const{CHANNEL_EXTENDED_DATATYPE:{STDERR:f}}=n(2246);const{bufferSlice:u}=n(8526);const l=32*1024;const h=2*1024*1024;const p=h/2;class ClientStderr extends s{constructor(e,t){super(t);this._channel=e}_read(e){if(this._channel._waitChanDrain){this._channel._waitChanDrain=false;if(this._channel.incoming.window<=p)windowAdjust(this._channel)}}}class ServerStderr extends o{constructor(e){super({highWaterMark:h});this._channel=e}_write(e,t,n){const i=this._channel;const s=i._client._protocol;const o=i.outgoing;const l=o.packetSize;const h=o.id;let p=o.window;const g=e.length;let _=0;if(o.state!=="open")return;while(g-_>0&&p>0){let t=g-_;if(t>p)t=p;if(t>l)t=l;if(_===0&&t===g)s.channelExtData(h,e,f);else s.channelExtData(h,u(e,_,_+t),f);_+=t;p-=t}o.window=p;if(g-_>0){if(p===0)i._waitWindow=true;if(_>0)i._chunkErr=u(e,_,g);else i._chunkErr=e;i._chunkcbErr=n;return}n()}}class Channel extends i{constructor(e,t,n){const i={highWaterMark:h,allowHalfOpen:!n||n&&n.allowHalfOpen!==false,emitClose:false};super(i);this.allowHalfOpen=i.allowHalfOpen;const s=!!(n&&n.server);this.server=s;this.type=t.type;this.subtype=undefined;this.incoming=t.incoming;this.outgoing=t.outgoing;this._callbacks=[];this._client=e;this._hasX11=false;this._exit={code:undefined,signal:undefined,dump:undefined,desc:undefined};this.stdin=this.stdout=this;if(s)this.stderr=new ServerStderr(this);else this.stderr=new ClientStderr(this,i);this._waitWindow=false;this._waitChanDrain=false;this._chunk=undefined;this._chunkcb=undefined;this._chunkErr=undefined;this._chunkcbErr=undefined;this.on("finish",onFinish).on("prefinish",onFinish);this.on("end",onEnd).on("close",onEnd)}_read(e){if(this._waitChanDrain){this._waitChanDrain=false;if(this.incoming.window<=p)windowAdjust(this)}}_write(e,t,n){const i=this._client._protocol;const s=this.outgoing;const o=s.packetSize;const f=s.id;let l=s.window;const h=e.length;let p=0;if(s.state!=="open")return;while(h-p>0&&l>0){let t=h-p;if(t>l)t=l;if(t>o)t=o;if(p===0&&t===h)i.channelData(f,e);else i.channelData(f,u(e,p,p+t));p+=t;l-=t}s.window=l;if(h-p>0){if(l===0)this._waitWindow=true;if(p>0)this._chunk=u(e,p,h);else this._chunk=e;this._chunkcb=n;return}n()}eof(){if(this.outgoing.state==="open"){this.outgoing.state="eof";this._client._protocol.channelEOF(this.outgoing.id)}}close(){if(this.outgoing.state==="open"||this.outgoing.state==="eof"){this.outgoing.state="closing";this._client._protocol.channelClose(this.outgoing.id)}}destroy(){this.end();this.close()}setWindow(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");if(this.type==="session"&&(this.subtype==="shell"||this.subtype==="exec")&&this.writable&&this.outgoing.state==="open"){this._client._protocol.windowChange(this.outgoing.id,e,t,n,i)}}signal(e){if(this.server)throw new Error("Client-only method called in server mode");if(this.type==="session"&&this.writable&&this.outgoing.state==="open"){this._client._protocol.signal(this.outgoing.id,e)}}exit(e,t,n){if(!this.server)throw new Error("Server-only method called in client mode");if(this.type==="session"&&this.writable&&this.outgoing.state==="open"){if(typeof e==="number"){this._client._protocol.exitStatus(this.outgoing.id,e)}else{this._client._protocol.exitSignal(this.outgoing.id,e,t,n)}}}}function onFinish(){this.eof();if(this.server||!this.allowHalfOpen)this.close();this.writable=false}function onEnd(){this.readable=false}function windowAdjust(e){if(e.outgoing.state==="closed")return;const t=h-e.incoming.window;if(t<=0)return;e.incoming.window+=t;e._client._protocol.channelWindowAdjust(e.outgoing.id,t)}e.exports={Channel:Channel,MAX_WINDOW:h,PACKET_SIZE:l,windowAdjust:windowAdjust,WINDOW_THRESHOLD:p}},9286:(e,t,n)=>{"use strict";const{Socket:i}=n(1808);const{Duplex:s}=n(2781);const{resolve:o}=n(1017);const{readFile:f}=n(7147);const{execFile:u,spawn:l}=n(2081);const{isParsedKey:h,parseKey:p}=n(2481);const{makeBufferParser:g,readUInt32BE:_,writeUInt32BE:E,writeUInt32LE:b}=n(8526);function once(e){let t=false;return(...n)=>{if(t)return;t=true;e(...n)}}function concat(e,t){const n=Buffer.allocUnsafe(e.length+t.length);e.copy(n,0);t.copy(n,e.length);return n}function noop(){}const y=Buffer.alloc(0);const m=g();class BaseAgent{getIdentities(e){e(new Error("Missing getIdentities() implementation"))}sign(e,t,n,i){if(typeof n==="function")i=n;i(new Error("Missing sign() implementation"))}}class OpenSSHAgent extends BaseAgent{constructor(e){super();this.socketPath=e}getStream(e){e=once(e);const t=new i;t.on("connect",(()=>{e(null,t)}));t.on("close",onFail).on("end",onFail).on("error",onFail);t.connect(this.socketPath);function onFail(){try{t.destroy()}catch{}e(new Error("Failed to connect to agent"))}}getIdentities(e){e=once(e);this.getStream(((t,n)=>{function onFail(t){if(n){try{n.destroy()}catch{}}if(!t)t=new Error("Failed to retrieve identities from agent");e(t)}if(t)return onFail(t);const i=new v(true);i.on("error",onFail);i.pipe(n).pipe(i);n.on("close",onFail).on("end",onFail).on("error",onFail);i.getIdentities(((t,i)=>{if(t)return onFail(t);try{n.destroy()}catch{}e(null,i)}))}))}sign(e,t,n,i){if(typeof n==="function"){i=n;n=undefined}else if(typeof n!=="object"||n===null){n=undefined}i=once(i);this.getStream(((s,o)=>{function onFail(e){if(o){try{o.destroy()}catch{}}if(!e)e=new Error("Failed to sign data with agent");i(e)}if(s)return onFail(s);const f=new v(true);f.on("error",onFail);f.pipe(o).pipe(f);o.on("close",onFail).on("end",onFail).on("error",onFail);f.sign(e,t,n,((e,t)=>{if(e)return onFail(e);try{o.destroy()}catch{}i(null,t)}))}))}}const w=(()=>{const e=10;const t=11;const i=12;const o=13;const f=14;const u=15;const h=n.ab+"pagent.exe";const p={[e]:new Error("Invalid pagent.exe arguments"),[t]:new Error("Pageant is not running"),[i]:new Error("pagent.exe could not create an mmap"),[o]:new Error("pagent.exe could not set mode for stdin"),[f]:new Error("pagent.exe could not set mode for stdout"),[u]:new Error("pagent.exe did not get expected input payload")};function destroy(e){e.buffer=null;if(e.proc){e.proc.kill();e.proc=undefined}}class PageantSocket extends s{constructor(){super();this.proc=undefined;this.buffer=null}_read(e){}_write(e,t,i){if(this.buffer===null){this.buffer=e}else{const t=Buffer.allocUnsafe(this.buffer.length+e.length);this.buffer.copy(t,0);e.copy(t,this.buffer.length);this.buffer=t}if(this.buffer.length<4)return i();const s=_(this.buffer,0);if(this.buffer.length-4<s)return i();e=this.buffer.slice(0,4+s);if(this.buffer.length>4+s)return i(new Error("Unexpected multiple agent requests"));this.buffer=null;let o;const f=this.proc=l(n.ab+"pagent.exe",[e.length]);f.stdout.on("data",(e=>{this.push(e)}));f.on("error",(e=>{o=e;i(o)}));f.on("close",(e=>{this.proc=undefined;if(!o){if(o=p[e])return i(o);i()}}));f.stdin.end(e)}_final(e){destroy(this);e()}_destroy(e,t){destroy(this);t()}}return class PageantAgent extends OpenSSHAgent{getStream(e){e(null,new PageantSocket)}}})();const I=(()=>{const e=/^!<socket >(\d+) s ([A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8})/;return class CygwinAgent extends OpenSSHAgent{getStream(t){t=once(t);let n=this.socketPath;let s=false;f(n,(function readCygsocket(o,l){if(o){if(s)return t(new Error("Invalid cygwin unix socket path"));u("cygpath",["-w",n],((e,i,o)=>{if(e||i.length===0)return t(new Error("Invalid cygwin unix socket path"));s=true;n=i.toString().replace(/[\r\n]/g,"");f(n,readCygsocket)}));return}const h=e.exec(l.toString("ascii"));if(!h)return t(new Error("Malformed cygwin unix socket file"));let p;let g=0;let E=false;const y=[];let m;let w=Buffer.alloc(12);const I=parseInt(h[1],10);const C=h[2].replace(/-/g,"");const v=Buffer.allocUnsafe(16);for(let e=0,t=0;t<32;++e,t+=2)v[e]=parseInt(C.substring(t,t+2),16);for(let e=0;e<16;e+=4)b(v,_(v,e),e);tryConnect();function _onconnect(){g=0;p="secret";m.write(v)}function _ondata(e){g+=e.length;if(p==="secret"){if(g===16){g=0;p="creds";m.write(w)}return}if(p==="creds"){if(!E)y.push(e);if(g===12){m.removeListener("connect",_onconnect);m.removeListener("data",_ondata);m.removeListener("error",onFail);m.removeListener("end",onFail);m.removeListener("close",onFail);if(E)return t(null,m);E=true;w=Buffer.concat(y);b(w,process.pid,0);m.on("error",(()=>{}));m.destroy();tryConnect()}}}function onFail(){t(new Error("Problem negotiating cygwin unix socket security"))}function tryConnect(){m=new i;m.on("connect",_onconnect);m.on("data",_ondata);m.on("error",onFail);m.on("end",onFail);m.on("close",onFail);m.connect(I)}}))}}})();const C=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;function createAgent(e){if(process.platform==="win32"&&!C.test(e)){return e==="pageant"?new w:new I(e)}return new OpenSSHAgent(e)}const v=(()=>{const e=11;const t=13;const n=5;const i=12;const o=14;const f=1<<1;const u=1<<2;const l=0;const g=1;function processResponses(e){let t;while(e[C].length){const n=e[C][0][w];if(n===undefined)break;e[C].shift();t=e.push(n)}return t}const b=Symbol("Inbound Request Type");const w=Symbol("Inbound Request Response");const I=Symbol("Inbound Request Context");class AgentInboundRequest{constructor(e,t){this[b]=e;this[w]=undefined;this[I]=t}hasResponded(){return this[w]!==undefined}getType(){return this[b]}getContext(){return this[I]}}function respond(e,t,n){t[w]=n;return processResponses(e)}function cleanup(e){e[B]=null;if(e[v]===l){const t=e[C];if(t&&t.length){e[C]=[];for(const e of t)e.cb(new Error("No reply from server"))}}try{e.end()}catch{}setImmediate((()=>{if(!e[T])e.emit("end");if(!e[R])e.emit("close")}))}function onClose(){this[R]=true}function onEnd(){this[T]=true}const C=Symbol("Requests");const v=Symbol("Agent Protocol Role");const B=Symbol("Agent Protocol Buffer");const k=Symbol("Agent Protocol Current Message Length");const R=Symbol("Agent Protocol Closed");const T=Symbol("Agent Protocol Ended");return class AgentProtocol extends s{constructor(e){super({autoDestroy:true,emitClose:false});this[v]=e?l:g;this[C]=[];this[B]=null;this[k]=-1;this.once("end",onEnd);this.once("close",onClose)}_read(e){}_write(s,h,g){if(this[B]===null)this[B]=s;else this[B]=concat(this[B],s);let E=this[B];let b=E.length;let y=0;while(y<b){if(b<5)break;if(this[k]===-1)this[k]=_(E,y);if(b<4+this[k])break;const s=E[y+=4];++y;if(this[v]===l){if(this[C].length===0)return g(new Error("Received unexpected message from server"));const f=this[C].shift();switch(s){case n:f.cb(new Error("Agent responded with failure"));break;case i:{if(f.type!==e)return g(new Error("Agent responded with wrong message type"));m.init(E,y);const t=m.readUInt32BE();if(t===undefined){m.clear();return g(new Error("Malformed agent response"))}const n=[];for(let e=0;e<t;++e){let e=m.readString();if(e===undefined){m.clear();return g(new Error("Malformed agent response"))}const t=m.readString(true);if(t===undefined){m.clear();return g(new Error("Malformed agent response"))}e=p(e);if(e instanceof Error)continue;e.comment=e.comment||t;n.push(e)}y=m.pos();m.clear();f.cb(null,n);break}case o:{if(f.type!==t)return g(new Error("Agent responded with wrong message type"));m.init(E,y);let e=m.readString();y=m.pos();m.clear();if(e===undefined)return g(new Error("Malformed agent response"));m.init(e,0);m.readString(true);e=m.readString();m.clear();if(e===undefined)return g(new Error("Malformed OpenSSH signature format"));f.cb(null,e);break}default:return g(new Error("Agent responded with unsupported message type"))}}else{switch(s){case e:{const e=new AgentInboundRequest(s);this[C].push(e);this.emit("identities",e);break}case t:{m.init(E,y);let e=m.readString();const t=m.readString();const n=m.readUInt32BE();y=m.pos();m.clear();if(n===undefined){const e=new AgentInboundRequest(s);this[C].push(e);return this.failureReply(e)}e=p(e);if(e instanceof Error){const e=new AgentInboundRequest(s);this[C].push(e);return this.failureReply(e)}const i={hash:undefined};let o;if(e.type==="ssh-rsa"){if(n&f){o="rsa-sha2-256";i.hash="sha256"}else if(n&u){o="rsa-sha2-512";i.hash="sha512"}}if(o===undefined)o=e.type;const l=new AgentInboundRequest(s,o);this[C].push(l);this.emit("sign",l,e,t,i);break}default:{const e=new AgentInboundRequest(s);this[C].push(e);this.failureReply(e)}}}this[k]=-1;if(y===b){this[B]=null;break}else{this[B]=E=E.slice(y);b=E.length;y=0}}g()}_destroy(e,t){cleanup(this);t()}_final(e){cleanup(this);e()}sign(e,n,i,s){if(this[v]!==l)throw new Error("Client-only method called with server role");if(typeof i==="function"){s=i;i=undefined}else if(typeof i!=="object"||i===null){i=undefined}let o=0;e=p(e);if(e instanceof Error)throw new Error("Invalid public key argument");if(e.type==="ssh-rsa"&&i){switch(i.hash){case"sha256":o=f;break;case"sha512":o=u;break}}e=e.getPublicSSH();const h=t;const g=e.length;const _=n.length;let b=0;const y=Buffer.allocUnsafe(4+1+4+g+4+_+4);E(y,y.length-4,b);y[b+=4]=h;E(y,g,++b);e.copy(y,b+=4);E(y,_,b+=g);n.copy(y,b+=4);E(y,o,b+=_);if(typeof s!=="function")s=noop;this[C].push({type:h,cb:s});return this.push(y)}getIdentities(t){if(this[v]!==l)throw new Error("Client-only method called with server role");const n=e;let i=0;const s=Buffer.allocUnsafe(4+1);E(s,s.length-4,i);s[i+=4]=n;if(typeof t!=="function")t=noop;this[C].push({type:n,cb:t});return this.push(s)}failureReply(e){if(this[v]!==g)throw new Error("Server-only method called with client role");if(!(e instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(e.hasResponded())return true;let t=0;const i=Buffer.allocUnsafe(4+1);E(i,i.length-4,t);i[t+=4]=n;return respond(this,e,i)}getIdentitiesReply(t,n){if(this[v]!==g)throw new Error("Server-only method called with client role");if(!(t instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(t.hasResponded())return true;if(t.getType()!==e)throw new Error("Invalid response to request");if(!Array.isArray(n))throw new Error("Keys argument must be an array");let s=4;const o=[];for(let e=0;e<n.length;++e){const t=n[e];if(typeof t!=="object"||t===null)throw new Error(`Invalid key entry: ${t}`);let i;let f;if(h(t)){i=t}else if(h(t.pubKey)){i=t.pubKey}else{if(typeof t.pubKey!=="object"||t.pubKey===null)continue;({pubKey:i,comment:f}=t.pubKey);i=p(i);if(i instanceof Error)continue}f=i.comment||f;i=i.getPublicSSH();s+=4+i.length;if(f&&typeof f==="string")f=Buffer.from(f);else if(!Buffer.isBuffer(f))f=y;s+=4+f.length;o.push({pubKey:i,comment:f})}let f=0;const u=Buffer.allocUnsafe(4+1+s);E(u,u.length-4,f);u[f+=4]=i;E(u,o.length,++f);f+=4;for(let e=0;e<o.length;++e){const{pubKey:t,comment:n}=o[e];E(u,t.length,f);t.copy(u,f+=4);E(u,n.length,f+=t.length);f+=4;if(n.length){n.copy(u,f);f+=n.length}}return respond(this,t,u)}signReply(e,n){if(this[v]!==g)throw new Error("Server-only method called with client role");if(!(e instanceof AgentInboundRequest))throw new Error("Wrong request argument");if(e.hasResponded())return true;if(e.getType()!==t)throw new Error("Invalid response to request");if(!Buffer.isBuffer(n))throw new Error("Signature argument must be a Buffer");if(n.length===0)throw new Error("Signature argument must be non-empty");let i=0;const s=e.getContext();const f=Buffer.byteLength(s);const u=Buffer.allocUnsafe(4+1+4+4+f+4+n.length);E(u,u.length-4,i);u[i+=4]=o;E(u,4+f+4+n.length,++i);E(u,f,i+=4);u.utf8Write(s,i+=4,f);E(u,n.length,i+=f);n.copy(u,i+=4);return respond(this,e,u)}}})();const B=Symbol("Agent");const k=Symbol("Agent Keys");const R=Symbol("Agent Keys Index");const T=Symbol("Agent Init Callbacks");class AgentContext{constructor(e){if(typeof e==="string")e=createAgent(e);else if(!isAgent(e))throw new Error("Invalid agent argument");this[B]=e;this[k]=null;this[R]=-1;this[T]=null}init(e){if(typeof e!=="function")e=noop;if(this[k]===null){if(this[T]===null){this[T]=[e];const doCbs=(...e)=>{process.nextTick((()=>{const t=this[T];this[T]=null;for(const n of t)n(...e)}))};this[B].getIdentities(once(((e,t)=>{if(e)return doCbs(e);if(!Array.isArray(t)){return doCbs(new Error("Agent implementation failed to provide keys"))}const n=[];for(let e of t){e=p(e);if(e instanceof Error){continue}n.push(e)}this[k]=n;this[R]=-1;doCbs()})))}else{this[T].push(e)}}else{process.nextTick(e)}}nextKey(){if(this[k]===null||++this[R]>=this[k].length){return false}return this[k][this[R]]}currentKey(){if(this[k]===null||this[R]>=this[k].length){return null}return this[k][this[R]]}pos(){if(this[k]===null||this[R]>=this[k].length){return-1}return this[R]}reset(){this[R]=-1}sign(...e){this[B].sign(...e)}}function isAgent(e){return e instanceof BaseAgent}e.exports={AgentContext:AgentContext,AgentProtocol:v,BaseAgent:BaseAgent,createAgent:createAgent,CygwinAgent:I,isAgent:isAgent,OpenSSHAgent:OpenSSHAgent,PageantAgent:w}},4360:(e,t,n)=>{"use strict";const{createHash:i,getHashes:s,randomFillSync:o}=n(6113);const{Socket:f}=n(1808);const{lookup:u}=n(9523);const l=n(2361);const h=s();const{COMPAT:p,CHANNEL_EXTENDED_DATATYPE:{STDERR:g},CHANNEL_OPEN_FAILURE:_,DEFAULT_CIPHER:E,DEFAULT_COMPRESSION:b,DEFAULT_KEX:y,DEFAULT_MAC:m,DEFAULT_SERVER_HOST_KEY:w,DISCONNECT_REASON:I,DISCONNECT_REASON_BY_VALUE:C,SUPPORTED_CIPHER:v,SUPPORTED_COMPRESSION:B,SUPPORTED_KEX:k,SUPPORTED_MAC:R,SUPPORTED_SERVER_HOST_KEY:T}=n(2246);const{init:O}=n(8822);const P=n(1472);const{parseKey:D}=n(2481);const{SFTP:U}=n(3801);const{bufferCopy:L,makeBufferParser:x,makeError:Q,readUInt32BE:W,sigSSHToASN1:q,writeUInt32BE:$}=n(8526);const{AgentContext:j,createAgent:G,isAgent:Y}=n(9286);const{Channel:V,MAX_WINDOW:z,PACKET_SIZE:J,windowAdjust:ee,WINDOW_THRESHOLD:te}=n(6885);const{ChannelManager:re,generateAlgorithmList:ne,isWritable:ie,onChannelOpenFailure:se,onCHANNEL_CLOSE:oe}=n(639);const ae=x();const ce=x();const fe=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/;const noop=e=>{};class Client extends l{constructor(){super();this.config={host:undefined,port:undefined,localAddress:undefined,localPort:undefined,forceIPv4:undefined,forceIPv6:undefined,keepaliveCountMax:undefined,keepaliveInterval:undefined,readyTimeout:undefined,ident:undefined,username:undefined,password:undefined,privateKey:undefined,tryKeyboard:undefined,agent:undefined,allowAgentFwd:undefined,authHandler:undefined,hostHashAlgo:undefined,hostHashCb:undefined,strictVendor:undefined,debug:undefined};this._agent=undefined;this._readyTimeout=undefined;this._chanMgr=undefined;this._callbacks=undefined;this._forwarding=undefined;this._forwardingUnix=undefined;this._acceptX11=undefined;this._agentFwdEnabled=undefined;this._remoteVer=undefined;this._protocol=undefined;this._sock=undefined;this._resetKA=undefined}connect(e){if(this._sock&&ie(this._sock)){this.once("close",(()=>{this.connect(e)}));this.end();return this}this.config.host=e.hostname||e.host||"localhost";this.config.port=e.port||22;this.config.localAddress=typeof e.localAddress==="string"?e.localAddress:undefined;this.config.localPort=typeof e.localPort==="string"||typeof e.localPort==="number"?e.localPort:undefined;this.config.forceIPv4=e.forceIPv4||false;this.config.forceIPv6=e.forceIPv6||false;this.config.keepaliveCountMax=typeof e.keepaliveCountMax==="number"&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3;this.config.keepaliveInterval=typeof e.keepaliveInterval==="number"&&e.keepaliveInterval>0?e.keepaliveInterval:0;this.config.readyTimeout=typeof e.readyTimeout==="number"&&e.readyTimeout>=0?e.readyTimeout:2e4;this.config.ident=typeof e.ident==="string"||Buffer.isBuffer(e.ident)?e.ident:undefined;const t={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:[]},sc:undefined};let n=true;if(typeof e.algorithms==="object"&&e.algorithms!==null){t.kex=ne(e.algorithms.kex,y,k);if(t.kex!==y)n=false;t.serverHostKey=ne(e.algorithms.serverHostKey,w,T);if(t.serverHostKey!==w)n=false;t.cs.cipher=ne(e.algorithms.cipher,E,v);if(t.cs.cipher!==E)n=false;t.cs.mac=ne(e.algorithms.hmac,m,R);if(t.cs.mac!==m)n=false;t.cs.compress=ne(e.algorithms.compress,b,B);if(t.cs.compress!==b)n=false;if(!n)t.sc=t.cs}if(typeof e.username==="string")this.config.username=e.username;else if(typeof e.user==="string")this.config.username=e.user;else throw new Error("Invalid username");this.config.password=typeof e.password==="string"?e.password:undefined;this.config.privateKey=typeof e.privateKey==="string"||Buffer.isBuffer(e.privateKey)?e.privateKey:undefined;this.config.localHostname=typeof e.localHostname==="string"?e.localHostname:undefined;this.config.localUsername=typeof e.localUsername==="string"?e.localUsername:undefined;this.config.tryKeyboard=e.tryKeyboard===true;if(typeof e.agent==="string"&&e.agent.length)this.config.agent=G(e.agent);else if(Y(e.agent))this.config.agent=e.agent;else this.config.agent=undefined;this.config.allowAgentFwd=e.agentForward===true&&this.config.agent!==undefined;let s=this.config.authHandler=typeof e.authHandler==="function"||Array.isArray(e.authHandler)?e.authHandler:undefined;this.config.strictVendor=typeof e.strictVendor==="boolean"?e.strictVendor:true;const o=this.config.debug=typeof e.debug==="function"?e.debug:undefined;if(e.agentForward===true&&!this.config.allowAgentFwd){throw new Error("You must set a valid agent path to allow agent forwarding")}let l=this._callbacks=[];this._chanMgr=new re(this);this._forwarding={};this._forwardingUnix={};this._acceptX11=0;this._agentFwdEnabled=false;this._agent=this.config.agent?this.config.agent:undefined;this._remoteVer=undefined;let p;if(this.config.privateKey){p=D(this.config.privateKey,e.passphrase);if(p instanceof Error)throw new Error(`Cannot parse privateKey: ${p.message}`);if(Array.isArray(p)){p=p[0]}if(p.getPrivatePEM()===null){throw new Error("privateKey value does not contain a (valid) private key")}}let _;if(typeof e.hostVerifier==="function"){const t=e.hostVerifier;let n;if(h.indexOf(e.hostHash)!==-1){n=i(e.hostHash)}_=(e,i)=>{if(n){n.update(e);e=n.digest("hex")}const s=t(e,i);if(s!==undefined)i(s)}}const L=this._sock=e.sock||new f;let x=false;let W=false;if(this._protocol)this._protocol.cleanup();const q=!o?undefined:(e,t,n)=>{o(`Debug output from server: ${JSON.stringify(n)}`)};const $=this._protocol=new P({ident:this.config.ident,offer:n?undefined:t,onWrite:e=>{if(ie(L))L.write(e)},onError:e=>{if(e.level==="handshake")clearTimeout(this._readyTimeout);if(!$._destruct)L.removeAllListeners("data");this.emit("error",e);try{L.end()}catch{}},onHeader:e=>{W=true;this._remoteVer=e.versions.software;if(e.greeting)this.emit("greeting",e.greeting)},onHandshakeComplete:e=>{this.emit("handshake",e);if(!x){x=true;$.service("ssh-userauth")}},debug:o,hostVerifier:_,messageHandlers:{DEBUG:q,DISCONNECT:(e,t,n)=>{if(t!==I.BY_APPLICATION){if(!n){n=C[t];if(n===undefined)n=`Unexpected disconnection reason: ${t}`}const e=new Error(n);e.code=t;this.emit("error",e)}L.end()},SERVICE_ACCEPT:(e,t)=>{if(t==="ssh-userauth")tryNextAuth()},USERAUTH_BANNER:(e,t)=>{this.emit("banner",t)},USERAUTH_SUCCESS:e=>{resetKA();clearTimeout(this._readyTimeout);this.emit("ready")},USERAUTH_FAILURE:(e,t,n)=>{if(pe.type==="agent"){const e=pe.agentCtx.pos();o&&o(`Client: Agent key #${e+1} failed`);return tryNextAgentKey()}o&&o(`Client: ${pe.type} auth failed`);ge=n;_e=t;tryNextAuth()},USERAUTH_PASSWD_CHANGEREQ:(e,t)=>{if(pe.type==="password"){this.emit("change password",t,(e=>{$.authPassword(this.config.username,this.config.password,e)}))}},USERAUTH_PK_OK:e=>{if(pe.type==="agent"){const e=pe.agentCtx.currentKey();$.authPK(pe.username,e,((t,n)=>{pe.agentCtx.sign(e,t,{},((e,t)=>{if(e){e.level="agent";this.emit("error",e)}else{return n(t)}tryNextAgentKey()}))}))}else if(pe.type==="publickey"){$.authPK(pe.username,pe.key,((e,t)=>{const n=pe.key.sign(e);if(n instanceof Error){n.message=`Error signing data with key: ${n.message}`;n.level="client-authentication";this.emit("error",n);return tryNextAuth()}t(n)}))}},USERAUTH_INFO_REQUEST:(e,t,n,i)=>{if(pe.type==="keyboard-interactive"){const e=Array.isArray(i)?i.length:0;if(e===0){o&&o("Client: Sending automatic USERAUTH_INFO_RESPONSE");$.authInfoRes();return}pe.prompt(t,n,"",i,(e=>{$.authInfoRes(e)}))}},REQUEST_SUCCESS:(e,t)=>{if(l.length)l.shift()(false,t)},REQUEST_FAILURE:e=>{if(l.length)l.shift()(true)},GLOBAL_REQUEST:(e,t,n,i)=>{switch(t){case"hostkeys-00@openssh.com":hostKeysProve(this,i,((e,t)=>{if(e)return;this.emit("hostkeys",t)}));if(n)$.requestSuccess();break;default:if(n)$.requestFailure()}},CHANNEL_OPEN:(e,t)=>{onCHANNEL_OPEN(this,t)},CHANNEL_OPEN_CONFIRMATION:(e,t)=>{const n=this._chanMgr.get(t.recipient);if(typeof n!=="function")return;const i=n.type==="sftp";const s=i?"session":n.type;const f={type:s,incoming:{id:t.recipient,window:z,packetSize:J,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};const u=i?new U(this,f,{debug:o}):new V(this,f);this._chanMgr.update(t.recipient,u);n(undefined,u)},CHANNEL_OPEN_FAILURE:(e,t,n,i)=>{const s=this._chanMgr.get(t);if(typeof s!=="function")return;const o={reason:n,description:i};se(this,t,o,s)},CHANNEL_DATA:(e,t,n)=>{const i=this._chanMgr.get(t);if(typeof i!=="object"||i===null)return;if(i.incoming.window===0)return;i.incoming.window-=n.length;if(i.push(n)===false){i._waitChanDrain=true;return}if(i.incoming.window<=te)ee(i)},CHANNEL_EXTENDED_DATA:(e,t,n,i)=>{if(i!==g)return;const s=this._chanMgr.get(t);if(typeof s!=="object"||s===null)return;if(s.incoming.window===0)return;s.incoming.window-=n.length;if(!s.stderr.push(n)){s._waitChanDrain=true;return}if(s.incoming.window<=te)ee(s)},CHANNEL_WINDOW_ADJUST:(e,t,n)=>{const i=this._chanMgr.get(t);if(typeof i!=="object"||i===null)return;i.outgoing.window+=n;if(i._waitWindow){i._waitWindow=false;if(i._chunk){i._write(i._chunk,null,i._chunkcb)}else if(i._chunkcb){i._chunkcb()}else if(i._chunkErr){i.stderr._write(i._chunkErr,null,i._chunkcbErr)}else if(i._chunkcbErr){i._chunkcbErr()}}},CHANNEL_SUCCESS:(e,t)=>{const n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;this._resetKA();if(n._callbacks.length)n._callbacks.shift()(false)},CHANNEL_FAILURE:(e,t)=>{const n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;this._resetKA();if(n._callbacks.length)n._callbacks.shift()(true)},CHANNEL_REQUEST:(e,t,n,i,s)=>{const o=this._chanMgr.get(t);if(typeof o!=="object"||o===null)return;const f=o._exit;if(f.code!==undefined)return;switch(n){case"exit-status":o.emit("exit",f.code=s);return;case"exit-signal":o.emit("exit",f.code=null,f.signal=`SIG${s.signal}`,f.dump=s.coreDumped,f.desc=s.errorMessage);return}if(i)e.channelFailure(o.outgoing.id)},CHANNEL_EOF:(e,t)=>{const n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;if(n.incoming.state!=="open")return;n.incoming.state="eof";if(n.readable)n.push(null);if(n.stderr.readable)n.stderr.push(null)},CHANNEL_CLOSE:(e,t)=>{oe(this,t,this._chanMgr.get(t))}}});L.pause();const ae=this.config.keepaliveInterval;const ce=this.config.keepaliveCountMax;let fe=0;let ue;const sendKA=()=>{if(++fe>ce){clearInterval(ue);if(L.readable){const e=new Error("Keepalive timeout");e.level="client-timeout";this.emit("error",e);L.destroy()}return}if(ie(L)){l.push(resetKA);$.ping()}else{clearInterval(ue)}};function resetKA(){if(ae>0){fe=0;clearInterval(ue);if(ie(L))ue=setInterval(sendKA,ae)}}this._resetKA=resetKA;const le=(()=>{let e=false;return()=>{if(e)return;e=true;if(de&&!W){const e=Q("Connection lost before handshake","protocol",true);this.emit("error",e)}}})();const he=(()=>{let e=false;return()=>{if(e)return;e=true;de=true;o&&o("Socket connected");this.emit("connect");O.then((()=>{L.on("data",(e=>{try{$.parse(e,0,e.length)}catch(e){this.emit("error",e);try{if(ie(L))L.end()}catch{}}}));if(L.stderr&&typeof L.stderr.resume==="function")L.stderr.resume();L.resume()})).catch((e=>{this.emit("error",e);try{if(ie(L))L.end()}catch{}}))}})();let de=false;L.on("connect",he).on("timeout",(()=>{this.emit("timeout")})).on("error",(e=>{o&&o(`Socket error: ${e.message}`);clearTimeout(this._readyTimeout);e.level="client-socket";this.emit("error",e)})).on("end",(()=>{o&&o("Socket ended");le();$.cleanup();clearTimeout(this._readyTimeout);clearInterval(ue);this.emit("end")})).on("close",(()=>{o&&o("Socket closed");le();$.cleanup();clearTimeout(this._readyTimeout);clearInterval(ue);this.emit("close");const e=l;l=this._callbacks=[];const t=new Error("No response from server");for(let n=0;n<e.length;++n)e[n](t);this._chanMgr.cleanup(t)}));let pe;let ge=null;let _e=null;const Ae=["none"];if(this.config.password!==undefined)Ae.push("password");if(p!==undefined)Ae.push("publickey");if(this._agent!==undefined)Ae.push("agent");if(this.config.tryKeyboard)Ae.push("keyboard-interactive");if(p!==undefined&&this.config.localHostname!==undefined&&this.config.localUsername!==undefined){Ae.push("hostbased")}if(Array.isArray(s))s=makeSimpleAuthHandler(s);else if(typeof s!=="function")s=makeSimpleAuthHandler(Ae);let Ee=false;const doNextAuth=e=>{if(Ee)return;Ee=true;if(e===false){const e=new Error("All configured authentication methods failed");e.level="client-authentication";this.emit("error",e);this.end();return}if(typeof e==="string"){const t=e;if(Ae.indexOf(t)===-1)return skipAuth(`Authentication method not allowed: ${t}`);const n=this.config.username;switch(t){case"password":e={type:t,username:n,password:this.config.password};break;case"publickey":e={type:t,username:n,key:p};break;case"hostbased":e={type:t,username:n,key:p,localHostname:this.config.localHostname,localUsername:this.config.localUsername};break;case"agent":e={type:t,username:n,agentCtx:new j(this._agent)};break;case"keyboard-interactive":e={type:t,username:n,prompt:(...e)=>this.emit("keyboard-interactive",...e)};break;case"none":e={type:t,username:n};break;default:return skipAuth(`Skipping unsupported authentication method: ${e}`)}}else if(typeof e!=="object"||e===null){return skipAuth(`Skipping invalid authentication attempt: ${e}`)}else{const t=e.username;if(typeof t!=="string"){return skipAuth(`Skipping invalid authentication attempt: ${e}`)}const n=e.type;switch(n){case"password":{const{password:i}=e;if(typeof i!=="string"&&!Buffer.isBuffer(i))return skipAuth("Skipping invalid password auth attempt");e={type:n,username:t,password:i};break}case"publickey":{const i=D(e.key,e.passphrase);if(i instanceof Error)return skipAuth("Skipping invalid key auth attempt");if(!i.isPrivateKey())return skipAuth("Skipping non-private key");e={type:n,username:t,key:i};break}case"hostbased":{const{localHostname:i,localUsername:s}=e;const o=D(e.key,e.passphrase);if(o instanceof Error||typeof i!=="string"||typeof s!=="string"){return skipAuth("Skipping invalid hostbased auth attempt")}if(!o.isPrivateKey())return skipAuth("Skipping non-private key");e={type:n,username:t,key:o,localHostname:i,localUsername:s};break}case"agent":{let i=e.agent;if(typeof i==="string"&&i.length){i=G(i)}else if(!Y(i)){return skipAuth(`Skipping invalid agent: ${e.agent}`)}e={type:n,username:t,agentCtx:new j(i)};break}case"keyboard-interactive":{const{prompt:i}=e;if(typeof i!=="function"){return skipAuth("Skipping invalid keyboard-interactive auth attempt")}e={type:n,username:t,prompt:i};break}case"none":e={type:n,username:t};break;default:return skipAuth(`Skipping unsupported authentication method: ${e}`)}}pe=e;try{const e=pe.username;switch(pe.type){case"password":$.authPassword(e,pe.password);break;case"publickey":$.authPK(e,pe.key);break;case"hostbased":$.authHostbased(e,pe.key,pe.localHostname,pe.localUsername,((e,t)=>{const n=pe.key.sign(e);if(n instanceof Error){n.message=`Error while signing with key: ${n.message}`;n.level="client-authentication";this.emit("error",n);return tryNextAuth()}t(n)}));break;case"agent":pe.agentCtx.init((e=>{if(e){e.level="agent";this.emit("error",e);return tryNextAuth()}tryNextAgentKey()}));break;case"keyboard-interactive":$.authKeyboard(e);break;case"none":$.authNone(e);break}}finally{Ee=false}};function skipAuth(e){o&&o(e);process.nextTick(tryNextAuth)}function tryNextAuth(){Ee=false;const e=s(_e,ge,doNextAuth);if(Ee||e===undefined)return;doNextAuth(e)}const tryNextAgentKey=()=>{if(pe.type==="agent"){const e=pe.agentCtx.nextKey();if(e===false){o&&o("Agent: No more keys left to try");o&&o("Client: agent auth failed");tryNextAuth()}else{const t=pe.agentCtx.pos();o&&o(`Agent: Trying key #${t+1}`);$.authPK(pe.username,e)}}};const startTimeout=()=>{if(this.config.readyTimeout>0){this._readyTimeout=setTimeout((()=>{const e=new Error("Timed out while waiting for handshake");e.level="client-timeout";this.emit("error",e);L.destroy()}),this.config.readyTimeout)}};if(!e.sock){let t=this.config.host;const n=this.config.forceIPv4;const i=this.config.forceIPv6;o&&o(`Client: Trying ${t} on port ${this.config.port} ...`);const doConnect=()=>{startTimeout();L.connect({host:t,port:this.config.port,localAddress:this.config.localAddress,localPort:this.config.localPort});L.setNoDelay(true);L.setMaxListeners(0);L.setTimeout(typeof e.timeout==="number"?e.timeout:0)};if(!n&&!i||n&&i){doConnect()}else{u(t,n?4:6,((e,i,s)=>{if(e){const i=n?"IPv4":"IPv6";const s=new Error(`Error while looking up ${i} address for '${t}': ${e}`);clearTimeout(this._readyTimeout);s.level="client-dns";this.emit("error",s);this.emit("close");return}t=i;doConnect()}))}}else{startTimeout();if(typeof L.connecting==="boolean"){if(!L.connecting){he()}}else{he()}}return this}end(){if(this._sock&&ie(this._sock)){this._protocol.disconnect(I.BY_APPLICATION);this._sock.end()}return this}destroy(){this._sock&&ie(this._sock)&&this._sock.destroy();return this}exec(e,t,n){if(!this._sock||!ie(this._sock))throw new Error("Not connected");if(typeof t==="function"){n=t;t={}}const i={allowHalfOpen:t.allowHalfOpen!==false};openChannel(this,"session",i,((i,s)=>{if(i){n(i);return}const o=[];function reqCb(e){if(e){s.close();n(e);return}if(o.length)o.shift()()}if(this.config.allowAgentFwd===true||t&&t.agentForward===true&&this._agent!==undefined){o.push((()=>reqAgentFwd(s,reqCb)))}if(typeof t==="object"&&t!==null){if(typeof t.env==="object"&&t.env!==null)reqEnv(s,t.env);if(typeof t.pty==="object"&&t.pty!==null||t.pty===true){o.push((()=>reqPty(s,t.pty,reqCb)))}if(typeof t.x11==="object"&&t.x11!==null||t.x11==="number"||t.x11===true){o.push((()=>reqX11(s,t.x11,reqCb)))}}o.push((()=>reqExec(s,e,t,n)));o.shift()()}));return this}shell(e,t,n){if(!this._sock||!ie(this._sock))throw new Error("Not connected");if(typeof e==="function"){n=e;e=t=undefined}else if(typeof t==="function"){n=t;t=undefined}if(e&&(e.x11!==undefined||e.env!==undefined)){t=e;e=undefined}openChannel(this,"session",((i,s)=>{if(i){n(i);return}const o=[];function reqCb(e){if(e){s.close();n(e);return}if(o.length)o.shift()()}if(this.config.allowAgentFwd===true||t&&t.agentForward===true&&this._agent!==undefined){o.push((()=>reqAgentFwd(s,reqCb)))}if(e!==false)o.push((()=>reqPty(s,e,reqCb)));if(typeof t==="object"&&t!==null){if(typeof t.env==="object"&&t.env!==null)reqEnv(s,t.env);if(typeof t.x11==="object"&&t.x11!==null||t.x11==="number"||t.x11===true){o.push((()=>reqX11(s,t.x11,reqCb)))}}o.push((()=>reqShell(s,n)));o.shift()()}));return this}subsys(e,t){if(!this._sock||!ie(this._sock))throw new Error("Not connected");openChannel(this,"session",((n,i)=>{if(n){t(n);return}reqSubsystem(i,e,((e,n)=>{if(e){t(e);return}t(undefined,n)}))}));return this}forwardIn(e,t,n){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const i=typeof n==="function";if(i){this._callbacks.push(((i,s)=>{if(i){n(i!==true?i:new Error(`Unable to bind to ${e}:${t}`));return}let o=t;if(t===0&&s&&s.length>=4){o=W(s,0);if(!(this._protocol._compatFlags&p.DYN_RPORT_BUG))t=o}this._forwarding[`${e}:${t}`]=o;n(undefined,o)}))}this._protocol.tcpipForward(e,t,i);return this}unforwardIn(e,t,n){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const i=typeof n==="function";if(i){this._callbacks.push((i=>{if(i){n(i!==true?i:new Error(`Unable to unbind from ${e}:${t}`));return}delete this._forwarding[`${e}:${t}`];n()}))}this._protocol.cancelTcpipForward(e,t,i);return this}forwardOut(e,t,n,i,s){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const o={srcIP:e,srcPort:t,dstIP:n,dstPort:i};if(typeof s!=="function")s=noop;openChannel(this,"direct-tcpip",o,s);return this}openssh_noMoreSessions(e){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const t=typeof e==="function";if(!this.config.strictVendor||this.config.strictVendor&&fe.test(this._remoteVer)){if(t){this._callbacks.push((t=>{if(t){e(t!==true?t:new Error("Unable to disable future sessions"));return}e()}))}this._protocol.openssh_noMoreSessions(t);return this}if(!t)return this;process.nextTick(e,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_forwardInStreamLocal(e,t){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const n=typeof t==="function";if(!this.config.strictVendor||this.config.strictVendor&&fe.test(this._remoteVer)){if(n){this._callbacks.push((n=>{if(n){t(n!==true?n:new Error(`Unable to bind to ${e}`));return}this._forwardingUnix[e]=true;t()}))}this._protocol.openssh_streamLocalForward(e,n);return this}if(!n)return this;process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_unforwardInStreamLocal(e,t){if(!this._sock||!ie(this._sock))throw new Error("Not connected");const n=typeof t==="function";if(!this.config.strictVendor||this.config.strictVendor&&fe.test(this._remoteVer)){if(n){this._callbacks.push((n=>{if(n){t(n!==true?n:new Error(`Unable to unbind from ${e}`));return}delete this._forwardingUnix[e];t()}))}this._protocol.openssh_cancelStreamLocalForward(e,n);return this}if(!n)return this;process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}openssh_forwardOutStreamLocal(e,t){if(!this._sock||!ie(this._sock))throw new Error("Not connected");if(typeof t!=="function")t=noop;if(!this.config.strictVendor||this.config.strictVendor&&fe.test(this._remoteVer)){openChannel(this,"direct-streamlocal@openssh.com",{socketPath:e},t);return this}process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version"));return this}sftp(e){if(!this._sock||!ie(this._sock))throw new Error("Not connected");openChannel(this,"sftp",((t,n)=>{if(t){e(t);return}reqSubsystem(n,"sftp",((t,i)=>{if(t){e(t);return}function removeListeners(){n.removeListener("ready",onReady);n.removeListener("error",onError);n.removeListener("exit",onExit);n.removeListener("close",onExit)}function onReady(){removeListeners();e(undefined,n)}function onError(t){removeListeners();e(t)}function onExit(t,n){removeListeners();let i;if(typeof t==="number")i=`Received exit code ${t} while establishing SFTP session`;else if(n!==undefined)i=`Received signal ${n} while establishing SFTP session`;else i="Received unexpected SFTP session termination";const s=new Error(i);s.code=t;s.signal=n;e(s)}n.on("ready",onReady).on("error",onError).on("exit",onExit).on("close",onExit);n._init()}))}));return this}}function openChannel(e,t,n,i){const s=z;const o=J;if(typeof n==="function"){i=n;n={}}const wrapper=(e,t)=>{i(e,t)};wrapper.type=t;const f=e._chanMgr.add(wrapper);if(f===-1){i(new Error("No free channels available"));return}switch(t){case"session":case"sftp":e._protocol.session(f,s,o);break;case"direct-tcpip":e._protocol.directTcpip(f,s,o,n);break;case"direct-streamlocal@openssh.com":e._protocol.openssh_directStreamLocal(f,s,o,n);break;default:throw new Error(`Unsupported channel type: ${t}`)}}function reqX11(e,t,n){const i={single:false,protocol:"MIT-MAGIC-COOKIE-1",cookie:undefined,screen:0};if(typeof t==="function"){n=t}else if(typeof t==="object"&&t!==null){if(typeof t.single==="boolean")i.single=t.single;if(typeof t.screen==="number")i.screen=t.screen;if(typeof t.protocol==="string")i.protocol=t.protocol;if(typeof t.cookie==="string")i.cookie=t.cookie;else if(Buffer.isBuffer(t.cookie))i.cookie=t.cookie.hexSlice(0,t.cookie.length)}if(i.cookie===undefined)i.cookie=ue();const s=typeof n==="function";if(e.outgoing.state!=="open"){if(s)n(new Error("Channel is not open"));return}if(s){e._callbacks.push((t=>{if(t){n(t!==true?t:new Error("Unable to request X11"));return}e._hasX11=true;++e._client._acceptX11;e.once("close",(()=>{if(e._client._acceptX11)--e._client._acceptX11}));n()}))}e._client._protocol.x11Forward(e.outgoing.id,i,s)}function reqPty(e,t,n){let i=24;let s=80;let o=640;let f=480;let u="vt100";let l=null;if(typeof t==="function"){n=t}else if(typeof t==="object"&&t!==null){if(typeof t.rows==="number")i=t.rows;if(typeof t.cols==="number")s=t.cols;if(typeof t.width==="number")o=t.width;if(typeof t.height==="number")f=t.height;if(typeof t.term==="string")u=t.term;if(typeof t.modes==="object")l=t.modes}const h=typeof n==="function";if(e.outgoing.state!=="open"){if(h)n(new Error("Channel is not open"));return}if(h){e._callbacks.push((e=>{if(e){n(e!==true?e:new Error("Unable to request a pseudo-terminal"));return}n()}))}e._client._protocol.pty(e.outgoing.id,i,s,f,o,u,l,h)}function reqAgentFwd(e,t){const n=typeof t==="function";if(e.outgoing.state!=="open"){n&&t(new Error("Channel is not open"));return}if(e._client._agentFwdEnabled){n&&t(false);return}e._client._agentFwdEnabled=true;e._callbacks.push((i=>{if(i){e._client._agentFwdEnabled=false;if(n){t(i!==true?i:new Error("Unable to request agent forwarding"))}return}if(n)t()}));e._client._protocol.openssh_agentForward(e.outgoing.id,true)}function reqShell(e,t){if(e.outgoing.state!=="open"){t(new Error("Channel is not open"));return}e._callbacks.push((n=>{if(n){t(n!==true?n:new Error("Unable to open shell"));return}e.subtype="shell";t(undefined,e)}));e._client._protocol.shell(e.outgoing.id,true)}function reqExec(e,t,n,i){if(e.outgoing.state!=="open"){i(new Error("Channel is not open"));return}e._callbacks.push((t=>{if(t){i(t!==true?t:new Error("Unable to exec"));return}e.subtype="exec";e.allowHalfOpen=n.allowHalfOpen!==false;i(undefined,e)}));e._client._protocol.exec(e.outgoing.id,t,true)}function reqEnv(e,t){if(e.outgoing.state!=="open")return;const n=Object.keys(t||{});for(let i=0;i<n.length;++i){const s=n[i];const o=t[s];e._client._protocol.env(e.outgoing.id,s,o,false)}}function reqSubsystem(e,t,n){if(e.outgoing.state!=="open"){n(new Error("Channel is not open"));return}e._callbacks.push((i=>{if(i){n(i!==true?i:new Error(`Unable to start subsystem: ${t}`));return}e.subtype="subsystem";n(undefined,e)}));e._client._protocol.subsystem(e.outgoing.id,t,true)}function onCHANNEL_OPEN(e,t){let n=-1;let i;const accept=()=>{const i={type:t.type,incoming:{id:n,window:z,packetSize:J,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};const s=new V(e,i);e._chanMgr.update(n,s);e._protocol.channelOpenConfirm(t.sender,n,z,J);return s};const reject=()=>{if(i===undefined){if(n===-1)i=_.RESOURCE_SHORTAGE;else i=_.CONNECT_FAILED}if(n!==-1)e._chanMgr.remove(n);e._protocol.channelOpenFail(t.sender,i,"")};const reserveChannel=()=>{n=e._chanMgr.add();if(n===-1){i=_.RESOURCE_SHORTAGE;if(e.config.debug){e.config.debug("Client: Automatic rejection of incoming channel open: "+"no channels available")}}return n!==-1};const s=t.data;switch(t.type){case"forwarded-tcpip":{const t=e._forwarding[`${s.destIP}:${s.destPort}`];if(t!==undefined&&reserveChannel()){if(s.destPort===0)s.destPort=t;e.emit("tcp connection",s,accept,reject);return}break}case"forwarded-streamlocal@openssh.com":if(e._forwardingUnix[s.socketPath]!==undefined&&reserveChannel()){e.emit("unix connection",s,accept,reject);return}break;case"auth-agent@openssh.com":if(e._agentFwdEnabled&&typeof e._agent.getStream==="function"&&reserveChannel()){e._agent.getStream(((e,t)=>{if(e)return reject();const n=accept();n.pipe(t).pipe(n)}));return}break;case"x11":if(e._acceptX11!==0&&reserveChannel()){e.emit("x11",s,accept,reject);return}break;default:i=_.UNKNOWN_CHANNEL_TYPE;if(e.config.debug){e.config.debug("Client: Automatic rejection of unsupported incoming channel open "+`type: ${t.type}`)}}if(i===undefined){i=_.ADMINISTRATIVELY_PROHIBITED;if(e.config.debug){e.config.debug("Client: Automatic rejection of unexpected incoming channel open for: "+t.type)}}reject()}const ue=(()=>{const e=Buffer.allocUnsafe(16);return()=>{o(e,0,16);return e.hexSlice(0,16)}})();function makeSimpleAuthHandler(e){if(!Array.isArray(e))throw new Error("authList must be an array");let t=0;return(n,i,s)=>{if(t===e.length)return false;return e[t++]}}function hostKeysProve(e,t,n){if(!e._sock||!ie(e._sock))return;if(typeof n!=="function")n=noop;if(!Array.isArray(t))throw new TypeError("Invalid keys argument type");const i=[];for(const e of t){const t=D(e);if(t instanceof Error)throw t;i.push(t)}if(!e.config.strictVendor||e.config.strictVendor&&fe.test(e._remoteVer)){e._callbacks.push(((t,s)=>{if(t){n(t!==true?t:new Error("Server failed to prove supplied keys"));return}const o=[];let f=0;ae.init(s,0);while(ae.avail()){if(f===i.length)break;const t=i[f++];const n=t.getPublicSSH();const s=ae.readString();ce.init(s,0);const u=ce.readString(true);let l=ce.readString();let h;if(u!==t.type){if(t.type==="ssh-rsa"){switch(u){case"rsa-sha2-256":h="sha256";break;case"rsa-sha2-512":h="sha512";break;default:continue}}else{continue}}const p=e._protocol._kex.sessionID;const g=Buffer.allocUnsafe(4+29+4+p.length+4+n.length);let _=0;$(g,29,_);g.utf8Write("hostkeys-prove-00@openssh.com",_+=4,29);$(g,p.length,_+=29);L(p,g,0,p.length,_+=4);$(g,n.length,_+=p.length);L(n,g,0,n.length,_+=4);if(!(l=q(l,u)))continue;if(t.verify(g,l,h)===true)o.push(t)}ce.clear();ae.clear();n(null,o)}));e._protocol.openssh_hostKeysProve(i);return}process.nextTick(n,new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}e.exports=Client},6792:(e,t,n)=>{"use strict";const{Agent:i}=n(3685);const{Agent:s}=n(5687);const{connect:o}=n(4404);let f;for(const e of[i,s]){class SSHAgent extends e{constructor(e,t){super(t);this._connectCfg=e;this._defaultSrcIP=t&&t.srcIP||"localhost"}createConnection(t,i){const s=t&&t.localAddress||this._defaultSrcIP;const o=t&&t.localPort||0;const u=t.host;const l=t.port;if(f===undefined)f=n(4360);const h=new f;let p=false;h.on("ready",(()=>{h.forwardOut(s,o,u,l,((n,s)=>{p=true;if(n){h.end();return i(n)}s.once("close",(()=>h.end()));i(null,decorateStream(s,e,t))}))})).on("error",i).on("close",(()=>{if(!p)i(new Error("Unexpected connection close"))})).connect(this._connectCfg)}}t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=SSHAgent}function noop(){}function decorateStream(e,t,n){if(t===i){e.setKeepAlive=noop;e.setNoDelay=noop;e.setTimeout=noop;e.ref=noop;e.unref=noop;e.destroySoon=e.destroy;return e}n.socket=e;const s=o(n);const f=(()=>{let t=false;return()=>{if(t)return;t=true;if(e.isPaused())e.resume()}})();s.on("end",f).on("close",f);return s}},3705:(e,t,n)=>{"use strict";const{AgentProtocol:i,BaseAgent:s,createAgent:o,CygwinAgent:f,OpenSSHAgent:u,PageantAgent:l}=n(9286);const{SSHTTPAgent:h,SSHTTPSAgent:p}=n(6792);const{parseKey:g}=n(2481);const{flagsToString:_,OPEN_MODE:E,STATUS_CODE:b,stringToFlags:y}=n(3801);e.exports={AgentProtocol:i,BaseAgent:s,createAgent:o,Client:n(4360),CygwinAgent:f,HTTPAgent:h,HTTPSAgent:p,OpenSSHAgent:u,PageantAgent:l,Server:n(6202),utils:{parseKey:g,sftp:{flagsToString:_,OPEN_MODE:E,STATUS_CODE:b,stringToFlags:y}}}},1472:(e,t,n)=>{"use strict";const{inspect:i}=n(3837);const{bindingAvailable:s,NullCipher:o,NullDecipher:f}=n(8822);const{COMPAT_CHECKS:u,DISCONNECT_REASON:l,MESSAGE:h,SIGNALS:p,TERMINAL_MODE:g}=n(2246);const{DEFAULT_KEXINIT:_,KexInit:E,kexinit:b,onKEXPayload:y}=n(4782);const{parseKey:m}=n(2481);const w=n(6696);const{bufferCopy:I,bufferFill:C,bufferSlice:v,convertSignature:B,sendPacket:k,writeUInt32BE:R}=n(8526);const{PacketReader:T,PacketWriter:O,ZlibPacketReader:P,ZlibPacketWriter:D}=n(923);const U=n(6674).i8;const L=new Map(Object.values(l).map((e=>[e,1])));const x=Buffer.from(`SSH-2.0-ssh2js${U}`);const Q=Buffer.from(`${x}\r\n`);const W=8192;const q=1024;const $=Buffer.from([h.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]);const j=Buffer.from([g.TTY_OP_END]);function noop(){}class Protocol{constructor(e){const t=e.onWrite;if(typeof t!=="function")throw new Error("Missing onWrite function");this._onWrite=e=>{t(e)};const n=e.onError;if(typeof n!=="function")throw new Error("Missing onError function");this._onError=e=>{n(e)};const f=e.debug;this._debug=typeof f==="function"?e=>{f(e)}:undefined;const u=e.onHeader;this._onHeader=typeof u==="function"?(...e)=>{u(...e)}:noop;const l=e.onPacket;this._onPacket=typeof l==="function"?()=>{l()}:noop;let h=e.onHandshakeComplete;if(typeof h!=="function")h=noop;this._onHandshakeComplete=(...e)=>{this._debug&&this._debug("Handshake completed");const t=this._queue;if(t){this._queue=undefined;this._debug&&this._debug(`Draining outbound queue (${t.length}) ...`);for(let e=0;e<t.length;++e){const n=t[e];let i=this._packetRW.write.finalize(n);if(i===n){const e=this._cipher.allocPacket(n.length);e.set(n,5);i=e}k(this,i)}this._debug&&this._debug("... finished draining outbound queue")}h(...e)};this._queue=undefined;const p=e.messageHandlers;if(typeof p==="object"&&p!==null)this._handlers=p;else this._handlers={};this._onPayload=onPayload.bind(this);this._server=!!e.server;this._banner=undefined;let g;if(this._server){if(typeof e.hostKeys!=="object"||e.hostKeys===null)throw new Error("Missing server host key(s)");this._hostKeys=e.hostKeys;if(typeof e.greeting==="string"&&e.greeting.length){g=e.greeting.slice(-2)==="\r\n"?e.greeting:`${e.greeting}\r\n`}if(typeof e.banner==="string"&&e.banner.length){this._banner=e.banner.slice(-2)==="\r\n"?e.banner:`${e.banner}\r\n`}}else{this._hostKeys=undefined}let b=e.offer;if(typeof b!=="object"||b===null)b=_;else if(b.constructor!==E)b=new E(b);this._kex=undefined;this._kexinit=undefined;this._offer=b;this._cipher=new o(0,this._onWrite);this._decipher=undefined;this._skipNextInboundPacket=false;this._packetRW={read:new T,write:new O(this)};this._hostVerifier=!this._server&&typeof e.hostVerifier==="function"?e.hostVerifier:undefined;this._parse=parseHeader;this._buffer=undefined;this._authsQueue=[];this._authenticated=false;this._remoteIdentRaw=undefined;let y;if(typeof e.ident==="string"){this._identRaw=Buffer.from(`SSH-2.0-${e.ident}`);y=Buffer.allocUnsafe(this._identRaw.length+2);y.set(this._identRaw,0);y[y.length-2]=13;y[y.length-1]=10}else if(Buffer.isBuffer(e.ident)){const t=Buffer.allocUnsafe(8+e.ident.length);t.latin1Write("SSH-2.0-",0,8);t.set(e.ident,8);this._identRaw=t;y=Buffer.allocUnsafe(t.length+2);y.set(t,0);y[y.length-2]=13;y[y.length-1]=10}else{this._identRaw=x;y=Q}this._compatFlags=0;if(this._debug){if(s)this._debug("Custom crypto binding available");else this._debug("Custom crypto binding not available")}process.nextTick((()=>{this._debug&&this._debug(`Local ident: ${i(this._identRaw.toString())}`);if(g)this._onWrite(g);this._onWrite(y)}))}_destruct(e){this._packetRW.read.cleanup();this._packetRW.write.cleanup();this._cipher&&this._cipher.free();this._decipher&&this._decipher.free();if(typeof e!=="string"||e.length===0)e="fatal error";this.parse=()=>{throw new Error(`Instance unusable after ${e}`)};this._onWrite=()=>{throw new Error(`Instance unusable after ${e}`)};this._destruct=undefined}cleanup(){this._destruct&&this._destruct()}parse(e,t,n){while(t<n)t=this._parse(e,t,n)}disconnect(e){const t=1+4+4+4;let n=this._packetRW.write.allocStartKEX;const i=this._packetRW.write.alloc(t,true);const s=n+t;if(!L.has(e))e=l.PROTOCOL_ERROR;i[n]=h.DISCONNECT;R(i,e,++n);i.fill(0,n+=4,s);this._debug&&this._debug(`Outbound: Sending DISCONNECT (${e})`);k(this,this._packetRW.write.finalize(i,true),true)}ping(){const e=this._packetRW.write.allocStart;const t=this._packetRW.write.alloc($.length);t.set($,e);this._debug&&this._debug("Outbound: Sending ping (GLOBAL_REQUEST: keepalive@openssh.com)");k(this,this._packetRW.write.finalize(t))}rekey(){if(this._kexinit===undefined){this._debug&&this._debug("Outbound: Initiated explicit rekey");this._queue=[];b(this)}else{this._debug&&this._debug("Outbound: Ignoring rekey during handshake")}}requestSuccess(e){let t=this._packetRW.write.allocStart;let n;if(Buffer.isBuffer(e)){n=this._packetRW.write.alloc(1+e.length);n[t]=h.REQUEST_SUCCESS;n.set(e,++t)}else{n=this._packetRW.write.alloc(1);n[t]=h.REQUEST_SUCCESS}this._debug&&this._debug("Outbound: Sending REQUEST_SUCCESS");k(this,this._packetRW.write.finalize(n))}requestFailure(){const e=this._packetRW.write.allocStart;const t=this._packetRW.write.alloc(1);t[e]=h.REQUEST_FAILURE;this._debug&&this._debug("Outbound: Sending REQUEST_FAILURE");k(this,this._packetRW.write.finalize(t))}channelSuccess(e){let t=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[t]=h.CHANNEL_SUCCESS;R(n,e,++t);this._debug&&this._debug(`Outbound: Sending CHANNEL_SUCCESS (r:${e})`);k(this,this._packetRW.write.finalize(n))}channelFailure(e){let t=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[t]=h.CHANNEL_FAILURE;R(n,e,++t);this._debug&&this._debug(`Outbound: Sending CHANNEL_FAILURE (r:${e})`);k(this,this._packetRW.write.finalize(n))}channelEOF(e){let t=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[t]=h.CHANNEL_EOF;R(n,e,++t);this._debug&&this._debug(`Outbound: Sending CHANNEL_EOF (r:${e})`);k(this,this._packetRW.write.finalize(n))}channelClose(e){let t=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4);n[t]=h.CHANNEL_CLOSE;R(n,e,++t);this._debug&&this._debug(`Outbound: Sending CHANNEL_CLOSE (r:${e})`);k(this,this._packetRW.write.finalize(n))}channelWindowAdjust(e,t){let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4);i[n]=h.CHANNEL_WINDOW_ADJUST;R(i,e,++n);R(i,t,n+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_WINDOW_ADJUST (r:${e}, ${t})`);k(this,this._packetRW.write.finalize(i))}channelData(e,t){const n=Buffer.isBuffer(t);const i=n?t.length:Buffer.byteLength(t);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+i);o[s]=h.CHANNEL_DATA;R(o,e,++s);R(o,i,s+=4);if(n)o.set(t,s+=4);else o.utf8Write(t,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_DATA (r:${e}, ${i})`);k(this,this._packetRW.write.finalize(o))}channelExtData(e,t,n){const i=Buffer.isBuffer(t);const s=i?t.length:Buffer.byteLength(t);let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+4+4+s);f[o]=h.CHANNEL_EXTENDED_DATA;R(f,e,++o);R(f,n,o+=4);R(f,s,o+=4);if(i)f.set(t,o+=4);else f.utf8Write(t,o+=4,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_EXTENDED_DATA (r:${e})`);k(this,this._packetRW.write.finalize(f))}channelOpenConfirm(e,t,n,i){let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+4+4);o[s]=h.CHANNEL_OPEN_CONFIRMATION;R(o,e,++s);R(o,t,s+=4);R(o,n,s+=4);R(o,i,s+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_CONFIRMATION (r:${e}, l:${t})`);k(this,this._packetRW.write.finalize(o))}channelOpenFail(e,t,n){if(typeof n!=="string")n="";const i=Buffer.byteLength(n);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+4+i+4);o[s]=h.CHANNEL_OPEN_FAILURE;R(o,e,++s);R(o,t,s+=4);R(o,i,s+=4);s+=4;if(i){o.utf8Write(n,s,i);s+=i}R(o,0,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN_FAILURE (r:${e})`);k(this,this._packetRW.write.finalize(o))}service(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t);i[n]=h.SERVICE_REQUEST;R(i,t,++n);i.utf8Write(e,n+=4,t);this._debug&&this._debug(`Outbound: Sending SERVICE_REQUEST (${e})`);k(this,this._packetRW.write.finalize(i))}authPassword(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);const s=Buffer.byteLength(t);const o=n?Buffer.byteLength(n):0;let f=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+i+4+14+4+8+1+4+s+(n?4+o:0));u[f]=h.USERAUTH_REQUEST;R(u,i,++f);u.utf8Write(e,f+=4,i);R(u,14,f+=i);u.utf8Write("ssh-connection",f+=4,14);R(u,8,f+=14);u.utf8Write("password",f+=4,8);u[f+=8]=n?1:0;R(u,s,++f);if(Buffer.isBuffer(t))I(t,u,0,s,f+=4);else u.utf8Write(t,f+=4,s);if(n){R(u,o,f+=s);if(Buffer.isBuffer(n))I(n,u,0,o,f+=4);else u.utf8Write(n,f+=4,o);this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (changed password)")}else{this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (password)")}this._authsQueue.push("password");k(this,this._packetRW.write.finalize(u))}authPK(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");t=m(t);if(t instanceof Error)throw new Error("Invalid key");const i=t.type;t=t.getPublicSSH();const s=Buffer.byteLength(e);const o=Buffer.byteLength(i);const f=t.length;const u=this._kex.sessionID;const l=u.length;const p=(n?4+l:0)+1+4+s+4+14+4+9+1+4+o+4+f;let g;let _;if(n){g=Buffer.allocUnsafe(p);_=0;R(g,l,_);g.set(u,_+=4);_+=l}else{g=this._packetRW.write.alloc(p);_=this._packetRW.write.allocStart}g[_]=h.USERAUTH_REQUEST;R(g,s,++_);g.utf8Write(e,_+=4,s);R(g,14,_+=s);g.utf8Write("ssh-connection",_+=4,14);R(g,9,_+=14);g.utf8Write("publickey",_+=4,9);g[_+=9]=n?1:0;R(g,o,++_);g.utf8Write(i,_+=4,o);R(g,f,_+=o);g.set(t,_+=4);if(!n){this._authsQueue.push("publickey");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey -- check)");k(this,this._packetRW.write.finalize(g));return}n(g,(n=>{n=B(n,i);if(n===false)throw new Error("Error while converting handshake signature");const u=n.length;_=this._packetRW.write.allocStart;g=this._packetRW.write.alloc(1+4+s+4+14+4+9+1+4+o+4+f+4+4+o+4+u);g[_]=h.USERAUTH_REQUEST;R(g,s,++_);g.utf8Write(e,_+=4,s);R(g,14,_+=s);g.utf8Write("ssh-connection",_+=4,14);R(g,9,_+=14);g.utf8Write("publickey",_+=4,9);g[_+=9]=1;R(g,o,++_);g.utf8Write(i,_+=4,o);R(g,f,_+=o);g.set(t,_+=4);R(g,4+o+4+u,_+=f);R(g,o,_+=4);g.utf8Write(i,_+=4,o);R(g,u,_+=o);g.set(n,_+=4);this._authsQueue.push("publickey");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey)");k(this,this._packetRW.write.finalize(g))}))}authHostbased(e,t,n,i,s){if(this._server)throw new Error("Client-only method called in server mode");t=m(t);if(t instanceof Error)throw new Error("Invalid key");const o=t.type;t=t.getPublicSSH();const f=Buffer.byteLength(e);const u=Buffer.byteLength(o);const l=t.length;const p=this._kex.sessionID;const g=p.length;const _=Buffer.byteLength(n);const E=Buffer.byteLength(i);const b=Buffer.allocUnsafe(4+g+1+4+f+4+14+4+9+4+u+4+l+4+_+4+E);let y=0;R(b,g,y);b.set(p,y+=4);b[y+=g]=h.USERAUTH_REQUEST;R(b,f,++y);b.utf8Write(e,y+=4,f);R(b,14,y+=f);b.utf8Write("ssh-connection",y+=4,14);R(b,9,y+=14);b.utf8Write("hostbased",y+=4,9);R(b,u,y+=9);b.utf8Write(o,y+=4,u);R(b,l,y+=u);b.set(t,y+=4);R(b,_,y+=l);b.utf8Write(n,y+=4,_);R(b,E,y+=_);b.utf8Write(i,y+=4,E);s(b,(e=>{e=B(e,o);if(!e)throw new Error("Error while converting handshake signature");const t=e.length;const n=b.length-g-4;y=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(n+4+4+u+4+t);I(b,i,4+g,b.length,y);R(i,4+u+4+t,y+=n);R(i,u,y+=4);i.utf8Write(o,y+=4,u);R(i,t,y+=u);i.set(e,y+=4);this._authsQueue.push("hostbased");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (hostbased)");k(this,this._packetRW.write.finalize(i))}))}authKeyboard(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t+4+14+4+20+4+4);i[n]=h.USERAUTH_REQUEST;R(i,t,++n);i.utf8Write(e,n+=4,t);R(i,14,n+=t);i.utf8Write("ssh-connection",n+=4,14);R(i,20,n+=14);i.utf8Write("keyboard-interactive",n+=4,20);R(i,0,n+=20);R(i,0,n+=4);this._authsQueue.push("keyboard-interactive");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (keyboard-interactive)");k(this,this._packetRW.write.finalize(i))}authNone(e){if(this._server)throw new Error("Client-only method called in server mode");const t=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t+4+14+4+4);i[n]=h.USERAUTH_REQUEST;R(i,t,++n);i.utf8Write(e,n+=4,t);R(i,14,n+=t);i.utf8Write("ssh-connection",n+=4,14);R(i,4,n+=14);i.utf8Write("none",n+=4,4);this._authsQueue.push("none");this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (none)");k(this,this._packetRW.write.finalize(i))}authInfoRes(e){if(this._server)throw new Error("Client-only method called in server mode");let t=0;let n;if(e){n=new Array(e.length);for(let i=0;i<e.length;++i){const s=Buffer.byteLength(e[i]);n[i]=s;t+=4+s}}let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+t);s[i]=h.USERAUTH_INFO_RESPONSE;if(e){R(s,e.length,++i);i+=4;for(let t=0;t<e.length;++t){const o=n[t];R(s,o,i);i+=4;if(o){s.utf8Write(e[t],i,o);i+=o}}}else{R(s,0,++i)}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_RESPONSE");k(this,this._packetRW.write.finalize(s))}tcpipForward(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+13+1+4+i+4);o[s]=h.GLOBAL_REQUEST;R(o,13,++s);o.utf8Write("tcpip-forward",s+=4,13);o[s+=13]=n===undefined||n===true?1:0;R(o,i,++s);o.utf8Write(e,s+=4,i);R(o,t,s+=i);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (tcpip-forward)");k(this,this._packetRW.write.finalize(o))}cancelTcpipForward(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+20+1+4+i+4);o[s]=h.GLOBAL_REQUEST;R(o,20,++s);o.utf8Write("cancel-tcpip-forward",s+=4,20);o[s+=20]=n===undefined||n===true?1:0;R(o,i,++s);o.utf8Write(e,s+=4,i);R(o,t,s+=i);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-tcpip-forward)");k(this,this._packetRW.write.finalize(o))}openssh_streamLocalForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+31+1+4+n);s[i]=h.GLOBAL_REQUEST;R(s,31,++i);s.utf8Write("streamlocal-forward@openssh.com",i+=4,31);s[i+=31]=t===undefined||t===true?1:0;R(s,n,++i);s.utf8Write(e,i+=4,n);this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (streamlocal-forward@openssh.com)");k(this,this._packetRW.write.finalize(s))}openssh_cancelStreamLocalForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+38+1+4+n);s[i]=h.GLOBAL_REQUEST;R(s,38,++i);s.utf8Write("cancel-streamlocal-forward@openssh.com",i+=4,38);s[i+=38]=t===undefined||t===true?1:0;R(s,n,++i);s.utf8Write(e,i+=4,n);if(this._debug){this._debug("Outbound: Sending GLOBAL_REQUEST "+"(cancel-streamlocal-forward@openssh.com)")}k(this,this._packetRW.write.finalize(s))}directTcpip(e,t,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(i.srcIP);const o=Buffer.byteLength(i.dstIP);let f=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+12+4+4+4+4+s+4+4+o+4);u[f]=h.CHANNEL_OPEN;R(u,12,++f);u.utf8Write("direct-tcpip",f+=4,12);R(u,e,f+=12);R(u,t,f+=4);R(u,n,f+=4);R(u,o,f+=4);u.utf8Write(i.dstIP,f+=4,o);R(u,i.dstPort,f+=o);R(u,s,f+=4);u.utf8Write(i.srcIP,f+=4,s);R(u,i.srcPort,f+=s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, direct-tcpip)`);k(this,this._packetRW.write.finalize(u))}openssh_directStreamLocal(e,t,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(i.socketPath);let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+30+4+4+4+4+s+4+4);f[o]=h.CHANNEL_OPEN;R(f,30,++o);f.utf8Write("direct-streamlocal@openssh.com",o+=4,30);R(f,e,o+=30);R(f,t,o+=4);R(f,n,o+=4);R(f,s,o+=4);f.utf8Write(i.socketPath,o+=4,s);C(f,0,o+=s,o+8);if(this._debug){this._debug("Outbound: Sending CHANNEL_OPEN "+`(r:${e}, direct-streamlocal@openssh.com)`)}k(this,this._packetRW.write.finalize(f))}openssh_noMoreSessions(e){if(this._server)throw new Error("Client-only method called in server mode");let t=this._packetRW.write.allocStart;const n=this._packetRW.write.alloc(1+4+28+1);n[t]=h.GLOBAL_REQUEST;R(n,28,++t);n.utf8Write("no-more-sessions@openssh.com",t+=4,28);n[t+=28]=e===undefined||e===true?1:0;this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (no-more-sessions@openssh.com)");k(this,this._packetRW.write.finalize(n))}session(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+7+4+4+4);s[i]=h.CHANNEL_OPEN;R(s,7,++i);s.utf8Write("session",i+=4,7);R(s,e,i+=7);R(s,t,i+=4);R(s,n,i+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, session)`);k(this,this._packetRW.write.finalize(s))}windowChange(e,t,n,i,s){if(this._server)throw new Error("Client-only method called in server mode");let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+4+13+1+4+4+4+4);f[o]=h.CHANNEL_REQUEST;R(f,e,++o);R(f,13,o+=4);f.utf8Write("window-change",o+=4,13);f[o+=13]=0;R(f,n,++o);R(f,t,o+=4);R(f,s,o+=4);R(f,i,o+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, window-change)`);k(this,this._packetRW.write.finalize(f))}pty(e,t,n,i,s,o,f,u){if(this._server)throw new Error("Client-only method called in server mode");if(!o||!o.length)o="vt100";if(f&&!Buffer.isBuffer(f)&&!Array.isArray(f)&&typeof f==="object"&&f!==null){f=modesToBytes(f)}if(!f||!f.length)f=j;const l=o.length;const p=f.length;let g=this._packetRW.write.allocStart;const _=this._packetRW.write.alloc(1+4+4+7+1+4+l+4+4+4+4+4+p);_[g]=h.CHANNEL_REQUEST;R(_,e,++g);R(_,7,g+=4);_.utf8Write("pty-req",g+=4,7);_[g+=7]=u===undefined||u===true?1:0;R(_,l,++g);_.utf8Write(o,g+=4,l);R(_,n,g+=l);R(_,t,g+=4);R(_,s,g+=4);R(_,i,g+=4);R(_,p,g+=4);g+=4;if(Array.isArray(f)){for(let e=0;e<p;++e)_[g++]=f[e]}else if(Buffer.isBuffer(f)){_.set(f,g)}this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, pty-req)`);k(this,this._packetRW.write.finalize(_))}shell(e,t){if(this._server)throw new Error("Client-only method called in server mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+5+1);i[n]=h.CHANNEL_REQUEST;R(i,e,++n);R(i,5,n+=4);i.utf8Write("shell",n+=4,5);i[n+=5]=t===undefined||t===true?1:0;this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, shell)`);k(this,this._packetRW.write.finalize(i))}exec(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.isBuffer(t);const s=i?t.length:Buffer.byteLength(t);let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+4+4+1+4+s);f[o]=h.CHANNEL_REQUEST;R(f,e,++o);R(f,4,o+=4);f.utf8Write("exec",o+=4,4);f[o+=4]=n===undefined||n===true?1:0;R(f,s,++o);if(i)f.set(t,o+=4);else f.utf8Write(t,o+=4,s);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exec: ${t})`);k(this,this._packetRW.write.finalize(f))}signal(e,t){if(this._server)throw new Error("Client-only method called in server mode");const n=t;t=t.toUpperCase();if(t.slice(0,3)==="SIG")t=t.slice(3);if(p[t]!==1)throw new Error(`Invalid signal: ${n}`);const i=t.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+6+1+4+i);o[s]=h.CHANNEL_REQUEST;R(o,e,++s);R(o,6,s+=4);o.utf8Write("signal",s+=4,6);o[s+=6]=0;R(o,i,++s);o.utf8Write(t,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, signal: ${t})`);k(this,this._packetRW.write.finalize(o))}env(e,t,n,i){if(this._server)throw new Error("Client-only method called in server mode");const s=Buffer.byteLength(t);const o=Buffer.isBuffer(n);const f=o?n.length:Buffer.byteLength(n);let u=this._packetRW.write.allocStart;const l=this._packetRW.write.alloc(1+4+4+3+1+4+s+4+f);l[u]=h.CHANNEL_REQUEST;R(l,e,++u);R(l,3,u+=4);l.utf8Write("env",u+=4,3);l[u+=3]=i===undefined||i===true?1:0;R(l,s,++u);l.utf8Write(t,u+=4,s);R(l,f,u+=s);if(o)l.set(n,u+=4);else l.utf8Write(n,u+=4,f);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, env: ${t}=${n})`);k(this,this._packetRW.write.finalize(l))}x11Forward(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=t.protocol;const s=t.cookie;const o=Buffer.isBuffer(i);const f=o?i.length:Buffer.byteLength(i);const u=Buffer.isBuffer(s);const l=u?s.length:Buffer.byteLength(s);let p=this._packetRW.write.allocStart;const g=this._packetRW.write.alloc(1+4+4+7+1+1+4+f+4+l+4);g[p]=h.CHANNEL_REQUEST;R(g,e,++p);R(g,7,p+=4);g.utf8Write("x11-req",p+=4,7);g[p+=7]=n===undefined||n===true?1:0;g[++p]=t.single?1:0;R(g,f,++p);if(o)g.set(i,p+=4);else g.utf8Write(i,p+=4,f);R(g,l,p+=f);if(u)g.set(s,p+=4);else g.latin1Write(s,p+=4,l);R(g,t.screen||0,p+=l);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, x11-req)`);k(this,this._packetRW.write.finalize(g))}subsystem(e,t,n){if(this._server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(t);let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+4+9+1+4+i);o[s]=h.CHANNEL_REQUEST;R(o,e,++s);R(o,9,s+=4);o.utf8Write("subsystem",s+=4,9);o[s+=9]=n===undefined||n===true?1:0;R(o,i,++s);o.utf8Write(t,s+=4,i);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, subsystem: ${t})`);k(this,this._packetRW.write.finalize(o))}openssh_agentForward(e,t){if(this._server)throw new Error("Client-only method called in server mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+26+1);i[n]=h.CHANNEL_REQUEST;R(i,e,++n);R(i,26,n+=4);i.utf8Write("auth-agent-req@openssh.com",n+=4,26);i[n+=26]=t===undefined||t===true?1:0;if(this._debug){this._debug("Outbound: Sending CHANNEL_REQUEST "+`(r:${e}, auth-agent-req@openssh.com)`)}k(this,this._packetRW.write.finalize(i))}openssh_hostKeysProve(e){if(this._server)throw new Error("Client-only method called in server mode");let t=0;const n=[];for(const i of e){const e=i.getPublicSSH();t+=4+e.length;n.push(e)}let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+29+1+t);s[i]=h.GLOBAL_REQUEST;R(s,29,++i);s.utf8Write("hostkeys-prove-00@openssh.com",i+=4,29);s[i+=29]=1;++i;for(const e of n){R(s,e.length,i);I(e,s,0,e.length,i+=4);i+=e.length}if(this._debug){this._debug("Outbound: Sending GLOBAL_REQUEST (hostkeys-prove-00@openssh.com)")}k(this,this._packetRW.write.finalize(s))}serviceAccept(e){if(!this._server)throw new Error("Server-only method called in client mode");const t=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t);i[n]=h.SERVICE_ACCEPT;R(i,t,++n);i.utf8Write(e,n+=4,t);this._debug&&this._debug(`Outbound: Sending SERVICE_ACCEPT (${e})`);k(this,this._packetRW.write.finalize(i));if(this._server&&this._banner&&e==="ssh-userauth"){const e=this._banner;this._banner=undefined;const t=Buffer.byteLength(e);n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t+4);i[n]=h.USERAUTH_BANNER;R(i,t,++n);i.utf8Write(e,n+=4,t);R(i,0,n+=t);this._debug&&this._debug("Outbound: Sending USERAUTH_BANNER");k(this,this._packetRW.write.finalize(i))}}forwardedTcpip(e,t,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.boundAddr);const o=Buffer.byteLength(i.remoteAddr);let f=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+15+4+4+4+4+s+4+4+o+4);u[f]=h.CHANNEL_OPEN;R(u,15,++f);u.utf8Write("forwarded-tcpip",f+=4,15);R(u,e,f+=15);R(u,t,f+=4);R(u,n,f+=4);R(u,s,f+=4);u.utf8Write(i.boundAddr,f+=4,s);R(u,i.boundPort,f+=s);R(u,o,f+=4);u.utf8Write(i.remoteAddr,f+=4,o);R(u,i.remotePort,f+=o);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, forwarded-tcpip)`);k(this,this._packetRW.write.finalize(u))}x11(e,t,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.originAddr);let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+3+4+4+4+4+s+4);f[o]=h.CHANNEL_OPEN;R(f,3,++o);f.utf8Write("x11",o+=4,3);R(f,e,o+=3);R(f,t,o+=4);R(f,n,o+=4);R(f,s,o+=4);f.utf8Write(i.originAddr,o+=4,s);R(f,i.originPort,o+=s);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, x11)`);k(this,this._packetRW.write.finalize(f))}openssh_authAgent(e,t,n){if(!this._server)throw new Error("Server-only method called in client mode");let i=this._packetRW.write.allocStart;const s=this._packetRW.write.alloc(1+4+22+4+4+4);s[i]=h.CHANNEL_OPEN;R(s,22,++i);s.utf8Write("auth-agent@openssh.com",i+=4,22);R(s,e,i+=22);R(s,t,i+=4);R(s,n,i+=4);this._debug&&this._debug(`Outbound: Sending CHANNEL_OPEN (r:${e}, auth-agent@openssh.com)`);k(this,this._packetRW.write.finalize(s))}openssh_forwardedStreamLocal(e,t,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=Buffer.byteLength(i.socketPath);let o=this._packetRW.write.allocStart;const f=this._packetRW.write.alloc(1+4+33+4+4+4+4+s+4);f[o]=h.CHANNEL_OPEN;R(f,33,++o);f.utf8Write("forwarded-streamlocal@openssh.com",o+=4,33);R(f,e,o+=33);R(f,t,o+=4);R(f,n,o+=4);R(f,s,o+=4);f.utf8Write(i.socketPath,o+=4,s);R(f,0,o+=s);if(this._debug){this._debug("Outbound: Sending CHANNEL_OPEN "+`(r:${e}, forwarded-streamlocal@openssh.com)`)}k(this,this._packetRW.write.finalize(f))}exitStatus(e,t){if(!this._server)throw new Error("Server-only method called in client mode");let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+4+11+1+4);i[n]=h.CHANNEL_REQUEST;R(i,e,++n);R(i,11,n+=4);i.utf8Write("exit-status",n+=4,11);i[n+=11]=0;R(i,t,++n);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-status: ${t})`);k(this,this._packetRW.write.finalize(i))}exitSignal(e,t,n,i){if(!this._server)throw new Error("Server-only method called in client mode");const s=t;if(typeof s!=="string"||!s)throw new Error(`Invalid signal: ${s}`);let o=t.toUpperCase();if(o.slice(0,3)==="SIG")o=o.slice(3);if(p[o]!==1)throw new Error(`Invalid signal: ${s}`);const f=Buffer.byteLength(o);const u=i?Buffer.byteLength(i):0;let l=this._packetRW.write.allocStart;const g=this._packetRW.write.alloc(1+4+4+11+1+4+f+1+4+u+4);g[l]=h.CHANNEL_REQUEST;R(g,e,++l);R(g,11,l+=4);g.utf8Write("exit-signal",l+=4,11);g[l+=11]=0;R(g,f,++l);g.utf8Write(o,l+=4,f);g[l+=f]=n?1:0;R(g,u,++l);l+=4;if(u){g.utf8Write(i,l,u);l+=u}R(g,0,l);this._debug&&this._debug(`Outbound: Sending CHANNEL_REQUEST (r:${e}, exit-signal: ${t})`);k(this,this._packetRW.write.finalize(g))}authFailure(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0)throw new Error("No auth in progress");let n;if(typeof e==="boolean"){t=e;e=undefined}if(e){n=[];for(let t=0;t<e.length;++t){if(e[t].toLowerCase()==="none")continue;n.push(e[t])}n=n.join(",")}else{n=""}const i=n.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+i+1);o[s]=h.USERAUTH_FAILURE;R(o,i,++s);o.utf8Write(n,s+=4,i);o[s+=i]=t===true?1:0;this._authsQueue.shift();this._debug&&this._debug("Outbound: Sending USERAUTH_FAILURE");k(this,this._packetRW.write.finalize(o))}authSuccess(){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0)throw new Error("No auth in progress");const e=this._packetRW.write.allocStart;const t=this._packetRW.write.alloc(1);t[e]=h.USERAUTH_SUCCESS;this._authsQueue.shift();this._authenticated=true;this._debug&&this._debug("Outbound: Sending USERAUTH_SUCCESS");k(this,this._packetRW.write.finalize(t));if(this._kex.negotiated.cs.compress==="zlib@openssh.com")this._packetRW.read=new P;if(this._kex.negotiated.sc.compress==="zlib@openssh.com")this._packetRW.write=new D(this)}authPKOK(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(this._authsQueue.length===0||this._authsQueue[0]!=="publickey")throw new Error('"publickey" auth not in progress');const n=Buffer.byteLength(e);const i=t.length;let s=this._packetRW.write.allocStart;const o=this._packetRW.write.alloc(1+4+n+4+i);o[s]=h.USERAUTH_PK_OK;R(o,n,++s);o.utf8Write(e,s+=4,n);R(o,i,s+=n);o.set(t,s+=4);this._authsQueue.shift();this._debug&&this._debug("Outbound: Sending USERAUTH_PK_OK");k(this,this._packetRW.write.finalize(o))}authPasswdChg(e){if(!this._server)throw new Error("Server-only method called in client mode");const t=Buffer.byteLength(e);let n=this._packetRW.write.allocStart;const i=this._packetRW.write.alloc(1+4+t+4);i[n]=h.USERAUTH_PASSWD_CHANGEREQ;R(i,t,++n);i.utf8Write(e,n+=4,t);R(i,0,n+=t);this._debug&&this._debug("Outbound: Sending USERAUTH_PASSWD_CHANGEREQ");k(this,this._packetRW.write.finalize(i))}authInfoReq(e,t,n){if(!this._server)throw new Error("Server-only method called in client mode");let i=0;const s=e?Buffer.byteLength(e):0;const o=t?Buffer.byteLength(t):0;for(let e=0;e<n.length;++e)i+=4+Buffer.byteLength(n[e].prompt)+1;let f=this._packetRW.write.allocStart;const u=this._packetRW.write.alloc(1+4+s+4+o+4+4+i);u[f]=h.USERAUTH_INFO_REQUEST;R(u,s,++f);f+=4;if(e){u.utf8Write(e,f,s);f+=s}R(u,o,f);f+=4;if(t){u.utf8Write(t,f,o);f+=o}R(u,0,f);R(u,n.length,f+=4);f+=4;for(let e=0;e<n.length;++e){const t=n[e];const i=Buffer.byteLength(t.prompt);R(u,i,f);f+=4;if(i){u.utf8Write(t.prompt,f,i);f+=i}u[f++]=t.echo?1:0}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_REQUEST");k(this,this._packetRW.write.finalize(u))}}const G=/^SSH-(2\.0|1\.99)-([^ ]+)(?: (.*))?$/;function parseHeader(e,t,n){let s;let o;if(this._buffer){s=Buffer.allocUnsafe(this._buffer.length+(n-t));s.set(this._buffer,0);if(t===0){s.set(e,this._buffer.length)}else{s.set(new Uint8Array(e.buffer,e.byteOffset+t,n-t),this._buffer.length)}o=this._buffer.length;t=0}else{s=e;o=0}const u=t;let l=t;let h=t;let p=false;let g=0;let _=0;for(;t<s.length;++t){const e=s[t];if(e===13){p=true;continue}if(e===10){if(h>l&&h-l>4&&s[l]===83&&s[l+1]===83&&s[l+2]===72&&s[l+3]===45){const e=s.latin1Slice(u,h+1);const p=l===u?e:e.slice(l-u);const g=G.exec(p);if(!g)throw new Error("Invalid identification string");const _={greeting:l===u?"":e.slice(0,l-u),identRaw:p,versions:{protocol:g[1],software:g[2]},comments:g[3]};this._remoteIdentRaw=Buffer.from(p);this._debug&&this._debug(`Remote ident: ${i(p)}`);this._compatFlags=getCompatFlags(_);this._buffer=undefined;this._decipher=new f(0,y.bind(this,{firstPacket:true}));this._parse=parsePacket;this._onHeader(_);if(!this._destruct){return n}b(this);return t+1-o}if(this._server)throw new Error("Greetings from clients not permitted");if(++_>q)throw new Error("Max greeting lines exceeded");p=false;l=t+1;g=0}else if(p){throw new Error("Invalid header: expected newline")}else if(++g>=W){throw new Error("Header line too long")}h=t}if(!this._buffer)this._buffer=v(s,u);return t-o}function parsePacket(e,t,n){return this._decipher.decrypt(e,t,n)}function onPayload(e){this._onPacket();if(e.length===0){this._debug&&this._debug("Inbound: Skipping empty packet payload");return}e=this._packetRW.read.read(e);const t=e[0];if(t===h.USERAUTH_SUCCESS&&!this._server&&!this._authenticated){this._authenticated=true;if(this._kex.negotiated.cs.compress==="zlib@openssh.com")this._packetRW.write=new D(this);if(this._kex.negotiated.sc.compress==="zlib@openssh.com")this._packetRW.read=new P}const n=w[t];if(n===undefined){this._debug&&this._debug(`Inbound: Unsupported message type: ${t}`);return}return n(this,e)}function getCompatFlags(e){const t=e.versions.software;let n=0;for(const e of u){if(typeof e[0]==="string"){if(t===e[0])n|=e[1]}else if(e[0].test(t)){n|=e[1]}}return n}function modesToBytes(e){const t=Object.keys(e);const n=Buffer.allocUnsafe(5*t.length+1);let i=0;for(let s=0;s<t.length;++s){const o=t[s];if(o==="TTY_OP_END")continue;const f=g[o];if(f===undefined)continue;const u=e[o];if(typeof u==="number"&&isFinite(u)){n[i++]=f;n[i++]=u>>>24;n[i++]=u>>>16;n[i++]=u>>>8;n[i++]=u}}n[i++]=g.TTY_OP_END;if(i<n.length)return v(n,0,i);return n}e.exports=Protocol},3801:(e,t,n)=>{"use strict";const i=n(2361);const s=n(7147);const{constants:o}=s;const{Readable:f,Writable:u}=n(2781);const{inherits:l,isDate:h}=n(3837);const p=Buffer[Symbol.species];const{bufferCopy:g,bufferSlice:_,makeBufferParser:E,writeUInt32BE:b}=n(8526);const y={SIZE:1,UIDGID:2,PERMISSIONS:4,ACMODTIME:8,EXTENDED:2147483648};const m=Buffer.alloc(28);const w={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};const I=new Map(Object.values(w).map((e=>[e,1])));const C={[w.OK]:"No error",[w.EOF]:"End of file",[w.NO_SUCH_FILE]:"No such file or directory",[w.PERMISSION_DENIED]:"Permission denied",[w.FAILURE]:"Failure",[w.BAD_MESSAGE]:"Bad message",[w.NO_CONNECTION]:"No connection",[w.CONNECTION_LOST]:"Connection lost",[w.OP_UNSUPPORTED]:"Operation unsupported"};const v={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};const B={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};const k={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};const R=2*1024;const T=2**32-1;const O=Buffer.from([0,0,0,5,v.INIT,0,0,0,3]);const P=Buffer.from([0,0,0,5,B.VERSION,0,0,0,3]);const D=/^SSH-2.0-(?:OpenSSH|dropbear)/;const U=256*1024;const L=E();const x={readable:false,writable:false,push:e=>{},once:()=>{},on:()=>{},emit:()=>{},end:()=>{}};function noop(){}class SFTP extends i{constructor(e,t,n){super();if(typeof n!=="object"||!n)n={};const i=e._protocol._remoteIdentRaw;this.server=!!n.server;this._debug=typeof n.debug==="function"?n.debug:undefined;this._isOpenSSH=i&&D.test(i);this._version=-1;this._extensions={};this._biOpt=n.biOpt;this._pktLenBytes=0;this._pktLen=0;this._pktPos=0;this._pktType=0;this._pktData=undefined;this._writeReqid=-1;this._requests={};this._maxInPktLen=U;this._maxOutPktLen=34e3;this._maxReadLen=(this._isOpenSSH?U:34e3)-R;this._maxWriteLen=(this._isOpenSSH?U:34e3)-R;this.maxOpenHandles=undefined;this._client=e;this._protocol=e._protocol;this._callbacks=[];this._hasX11=false;this._exit={code:undefined,signal:undefined,dump:undefined,desc:undefined};this._waitWindow=false;this._chunkcb=undefined;this._buffer=[];this.type=t.type;this.subtype=undefined;this.incoming=t.incoming;this.outgoing=t.outgoing;this.stderr=x;this.readable=true}push(e){if(e===null){cleanupRequests(this);if(!this.readable)return;this.readable=false;this.emit("end");return}let t=0;while(t<e.length){if(this._pktLenBytes<4){let n=Math.min(4-this._pktLenBytes,e.length-t);this._pktLenBytes+=n;while(n--)this._pktLen=(this._pktLen<<8)+e[t++];if(this._pktLenBytes<4)return;if(this._pktLen===0)return doFatalSFTPError(this,"Invalid packet length");if(this._pktLen>this._maxInPktLen){const e=this._maxInPktLen;return doFatalSFTPError(this,`Packet length ${this._pktLen} exceeds max length of ${e}`)}if(t>=e.length)return}if(this._pktPos<this._pktLen){const n=Math.min(this._pktLen-this._pktPos,e.length-t);if(t!==0||n!==e.length){if(n===this._pktLen){this._pkt=new p(e.buffer,e.byteOffset+t,n)}else{if(!this._pkt)this._pkt=Buffer.allocUnsafe(this._pktLen);this._pkt.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._pktPos)}}else if(n===this._pktLen){this._pkt=e}else{if(!this._pkt)this._pkt=Buffer.allocUnsafe(this._pktLen);this._pkt.set(e,this._pktPos)}t+=n;this._pktPos+=n;if(this._pktPos<this._pktLen)return}const n=this._pkt[0];const i=this._pkt;this._pktLen=0;this._pktLenBytes=0;this._pkt=undefined;this._pktPos=0;const s=this.server?$[n]:q[n];if(!s)return doFatalSFTPError(this,`Unknown packet type ${n}`);if(this._version===-1){if(this.server){if(n!==v.INIT)return doFatalSFTPError(this,`Expected INIT packet, got ${n}`)}else if(n!==B.VERSION){return doFatalSFTPError(this,`Expected VERSION packet, got ${n}`)}}if(s(this,i)===false)return}}end(){this.destroy()}destroy(){if(this.outgoing.state==="open"||this.outgoing.state==="eof"){this.outgoing.state="closing";this._protocol.channelClose(this.outgoing.id)}}_init(){this._init=noop;if(!this.server)sendOrBuffer(this,O)}createReadStream(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new ReadStream(this,e,t)}createWriteStream(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new WriteStream(this,e,t)}open(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");if(typeof n==="function"){i=n;n=undefined}const s=typeof t==="number"?t:stringToFlags(t);if(s===null)throw new Error(`Unknown flags string: ${t}`);let o=0;let f=0;if(typeof n==="string"||typeof n==="number")n={mode:n};if(typeof n==="object"&&n!==null){n=attrsToBytes(n);o=n.flags;f=n.nb}const u=Buffer.byteLength(e);let l=9;const h=Buffer.allocUnsafe(4+1+4+4+u+4+4+f);b(h,h.length-4,0);h[4]=v.OPEN;const p=this._writeReqid=this._writeReqid+1&T;b(h,p,5);b(h,u,l);h.utf8Write(e,l+=4,u);b(h,s,l+=u);b(h,o,l+=4);if(f){l+=4;if(f===m.length)h.set(m,l);else g(m,h,0,f,l);l+=f}this._requests[p]={cb:i};const _=sendOrBuffer(this,h);this._debug&&this._debug(`SFTP: Outbound: ${_?"Buffered":"Sending"} OPEN`)}close(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const n=e.length;let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.CLOSE;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.set(e,i+=4);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} CLOSE`)}read(e,t,n,i,s,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(n>=t.length)throw new Error("offset is out of bounds");if(n+i>t.length)throw new Error("length extends beyond buffer");if(s===null)throw new Error("null position currently unsupported");read_(this,e,t,n,i,s,o)}readData(e,t,n,i,s,o){this.read(e,t,n,i,s,o)}write(e,t,n,i,s,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(n>t.length)throw new Error("offset is out of bounds");if(n+i>t.length)throw new Error("length extends beyond buffer");if(s===null)throw new Error("null position currently unsupported");if(!i){o&&process.nextTick(o,undefined,0);return}const f=this._maxWriteLen;const u=Math.max(i-f,0);const l=s;if(u)i=f;const h=e.length;let p=9;const _=Buffer.allocUnsafe(4+1+4+4+h+8+4+i);b(_,_.length-4,0);_[4]=v.WRITE;const E=this._writeReqid=this._writeReqid+1&T;b(_,E,5);b(_,h,p);_.set(e,p+=4);p+=h;for(let e=7;e>=0;--e){_[p+e]=s&255;s/=256}b(_,i,p+=8);g(t,_,n,n+i,p+=4);this._requests[E]={cb:s=>{if(s){if(typeof o==="function")o(s)}else if(u){this.write(e,t,n+i,u,l+i,o)}else if(typeof o==="function"){o(undefined,n+i)}}};const y=sendOrBuffer(this,_);if(this._debug){const e=y?"Sent":"Buffered";this._debug(`SFTP: Outbound: ${e} WRITE (id:${E})`)}}writeData(e,t,n,i,s,o){this.write(e,t,n,i,s,o)}fastGet(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");fastXfer(this,s,e,t,n,i)}fastPut(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");fastXfer(s,this,e,t,n,i)}readFile(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");let i;if(typeof n==="function"){i=n}else if(typeof t==="function"){i=t;t=undefined}if(typeof t==="string")t={encoding:t,flag:"r"};else if(!t)t={encoding:null,flag:"r"};else if(typeof t!=="object")throw new TypeError("Bad arguments");const s=t.encoding;if(s&&!Buffer.isEncoding(s))throw new Error(`Unknown encoding: ${s}`);let o;let f;let u;let l=0;let h;let p=0;const g=t.flag||"r";const read=()=>{if(o===0){f=Buffer.allocUnsafe(8192);this.read(h,f,0,8192,p,afterRead)}else{this.read(h,f,l,o-l,p,afterRead)}};const afterRead=(e,t)=>{let n;if(e){n=e.code===w.EOF;if(!n){return this.close(h,(()=>i&&i(e)))}}else{n=false}if(n||o===0&&t===0)return close();p+=t;l+=t;if(o!==0){if(l===o)close();else read()}else{u.push(_(f,0,t));read()}};afterRead._wantEOFError=true;const close=()=>{this.close(h,(e=>{if(o===0){f=Buffer.concat(u,l)}else if(l<o){f=_(f,0,l)}if(s)f=f.toString(s);return i&&i(e,f)}))};this.open(e,g,438,((t,n)=>{if(t)return i&&i(t);h=n;const tryStat=(t,n)=>{if(t){this.stat(e,((e,n)=>{if(e){return this.close(h,(()=>{i&&i(t)}))}tryStat(null,n)}));return}o=n.size||0;if(o===0){u=[];return read()}f=Buffer.allocUnsafe(o);read()};this.fstat(h,tryStat)}))}writeFile(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");let s;if(typeof i==="function"){s=i}else if(typeof n==="function"){s=n;n=undefined}if(typeof n==="string")n={encoding:n,mode:438,flag:"w"};else if(!n)n={encoding:"utf8",mode:438,flag:"w"};else if(typeof n!=="object")throw new TypeError("Bad arguments");if(n.encoding&&!Buffer.isEncoding(n.encoding))throw new Error(`Unknown encoding: ${n.encoding}`);const o=n.flag||"w";this.open(e,o,n.mode,((i,f)=>{if(i){s&&s(i)}else{const i=Buffer.isBuffer(t)?t:Buffer.from(""+t,n.encoding||"utf8");const u=/a/.test(o)?null:0;if(u===null){const tryStat=(t,n)=>{if(t){this.stat(e,((e,n)=>{if(e){return this.close(f,(()=>{s&&s(t)}))}tryStat(null,n)}));return}writeAll(this,f,i,0,i.length,n.size,s)};this.fstat(f,tryStat);return}writeAll(this,f,i,0,i.length,u,s)}}))}appendFile(e,t,n,i){if(this.server)throw new Error("Client-only method called in server mode");let s;if(typeof i==="function"){s=i}else if(typeof n==="function"){s=n;n=undefined}if(typeof n==="string")n={encoding:n,mode:438,flag:"a"};else if(!n)n={encoding:"utf8",mode:438,flag:"a"};else if(typeof n!=="object")throw new TypeError("Bad arguments");if(!n.flag)n=Object.assign({flag:"a"},n);this.writeFile(e,t,n,s)}exists(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(e=>{t&&t(e?false:true)}))}unlink(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.REMOVE;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} REMOVE`)}rename(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(e);const s=Buffer.byteLength(t);let o=9;const f=Buffer.allocUnsafe(4+1+4+4+i+4+s);b(f,f.length-4,0);f[4]=v.RENAME;const u=this._writeReqid=this._writeReqid+1&T;b(f,u,5);b(f,i,o);f.utf8Write(e,o+=4,i);b(f,s,o+=i);f.utf8Write(t,o+=4,s);this._requests[u]={cb:n};const l=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} RENAME`)}mkdir(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");let i=0;let s=0;if(typeof t==="function"){n=t;t=undefined}if(typeof t==="object"&&t!==null){t=attrsToBytes(t);i=t.flags;s=t.nb}const o=Buffer.byteLength(e);let f=9;const u=Buffer.allocUnsafe(4+1+4+4+o+4+s);b(u,u.length-4,0);u[4]=v.MKDIR;const l=this._writeReqid=this._writeReqid+1&T;b(u,l,5);b(u,o,f);u.utf8Write(e,f+=4,o);b(u,i,f+=o);if(s){f+=4;if(s===m.length)u.set(m,f);else g(m,u,0,s,f);f+=s}this._requests[l]={cb:n};const h=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${h?"Buffered":"Sending"} MKDIR`)}rmdir(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.RMDIR;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} RMDIR`)}readdir(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");if(typeof t==="function"){n=t;t={}}if(typeof t!=="object"||t===null)t={};const i=t&&t.full?false:true;if(!Buffer.isBuffer(e)&&typeof e!=="string")throw new Error("missing directory handle or path");if(typeof e==="string"){const i=[];let s=0;const reread=(e,o)=>{if(e)return n(e);this.readdir(o,t,((e,t)=>{const f=e&&e.code===w.EOF;if(e&&!f)return this.close(o,(()=>n(e)));if(f){return this.close(o,(e=>{if(e)return n(e);n(undefined,i)}))}for(let e=0;e<t.length;++e,++s)i[s]=t[e];reread(undefined,o)}))};return this.opendir(e,reread)}const s=e.length;let o=9;const f=Buffer.allocUnsafe(4+1+4+4+s);b(f,f.length-4,0);f[4]=v.READDIR;const u=this._writeReqid=this._writeReqid+1&T;b(f,u,5);b(f,s,o);f.set(e,o+=4);this._requests[u]={cb:i?(e,t)=>{if(typeof n!=="function")return;if(e)return n(e);for(let e=t.length-1;e>=0;--e){if(t[e].filename==="."||t[e].filename==="..")t.splice(e,1)}n(undefined,t)}:n};const l=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} READDIR`)}fstat(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const n=e.length;let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.FSTAT;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.set(e,i+=4);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} FSTAT`)}stat(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.STAT;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} STAT`)}lstat(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.LSTAT;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} LSTAT`)}opendir(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.OPENDIR;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:t};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} OPENDIR`)}setstat(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");let i=0;let s=0;if(typeof t==="object"&&t!==null){t=attrsToBytes(t);i=t.flags;s=t.nb}else if(typeof t==="function"){n=t}const o=Buffer.byteLength(e);let f=9;const u=Buffer.allocUnsafe(4+1+4+4+o+4+s);b(u,u.length-4,0);u[4]=v.SETSTAT;const l=this._writeReqid=this._writeReqid+1&T;b(u,l,5);b(u,o,f);u.utf8Write(e,f+=4,o);b(u,i,f+=o);if(s){f+=4;if(s===m.length)u.set(m,f);else g(m,u,0,s,f);f+=s}this._requests[l]={cb:n};const h=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${h?"Buffered":"Sending"} SETSTAT`)}fsetstat(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");let i=0;let s=0;if(typeof t==="object"&&t!==null){t=attrsToBytes(t);i=t.flags;s=t.nb}else if(typeof t==="function"){n=t}const o=e.length;let f=9;const u=Buffer.allocUnsafe(4+1+4+4+o+4+s);b(u,u.length-4,0);u[4]=v.FSETSTAT;const l=this._writeReqid=this._writeReqid+1&T;b(u,l,5);b(u,o,f);u.set(e,f+=4);b(u,i,f+=o);if(s){f+=4;if(s===m.length)u.set(m,f);else g(m,u,0,s,f);f+=s}this._requests[l]={cb:n};const h=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${h?"Buffered":"Sending"} FSETSTAT`)}futimes(e,t,n,i){return this.fsetstat(e,{atime:toUnixTimestamp(t),mtime:toUnixTimestamp(n)},i)}utimes(e,t,n,i){return this.setstat(e,{atime:toUnixTimestamp(t),mtime:toUnixTimestamp(n)},i)}fchown(e,t,n,i){return this.fsetstat(e,{uid:t,gid:n},i)}chown(e,t,n,i){return this.setstat(e,{uid:t,gid:n},i)}fchmod(e,t,n){return this.fsetstat(e,{mode:t},n)}chmod(e,t,n){return this.setstat(e,{mode:t},n)}readlink(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.READLINK;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:(e,n)=>{if(typeof t!=="function")return;if(e)return t(e);if(!n||!n.length)return t(new Error("Response missing link info"));t(undefined,n[0].filename)}};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} READLINK`)}symlink(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");const i=Buffer.byteLength(t);const s=Buffer.byteLength(e);let o=9;const f=Buffer.allocUnsafe(4+1+4+4+i+4+s);b(f,f.length-4,0);f[4]=v.SYMLINK;const u=this._writeReqid=this._writeReqid+1&T;b(f,u,5);if(this._isOpenSSH){b(f,s,o);f.utf8Write(e,o+=4,s);b(f,i,o+=s);f.utf8Write(t,o+=4,i)}else{b(f,i,o);f.utf8Write(t,o+=4,i);b(f,s,o+=i);f.utf8Write(e,o+=4,s)}this._requests[u]={cb:n};const l=sendOrBuffer(this,f);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} SYMLINK`)}realpath(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=Buffer.byteLength(e);let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=v.REALPATH;const o=this._writeReqid=this._writeReqid+1&T;b(s,o,5);b(s,n,i);s.utf8Write(e,i+=4,n);this._requests[o]={cb:(e,n)=>{if(typeof t!=="function")return;if(e)return t(e);if(!n||!n.length)return t(new Error("Response missing path info"));t(undefined,n[0].filename)}};const f=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} REALPATH`)}ext_openssh_rename(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["posix-rename@openssh.com"];if(!i||i!=="1")throw new Error("Server does not support this extended request");const s=Buffer.byteLength(e);const o=Buffer.byteLength(t);let f=9;const u=Buffer.allocUnsafe(4+1+4+4+24+4+s+4+o);b(u,u.length-4,0);u[4]=v.EXTENDED;const l=this._writeReqid=this._writeReqid+1&T;b(u,l,5);b(u,24,f);u.utf8Write("posix-rename@openssh.com",f+=4,24);b(u,s,f+=24);u.utf8Write(e,f+=4,s);b(u,o,f+=s);u.utf8Write(t,f+=4,o);this._requests[l]={cb:n};const h=sendOrBuffer(this,u);if(this._debug){const e=h?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} posix-rename@openssh.com`)}}ext_openssh_statvfs(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["statvfs@openssh.com"];if(!n||n!=="2")throw new Error("Server does not support this extended request");const i=Buffer.byteLength(e);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+19+4+i);b(o,o.length-4,0);o[4]=v.EXTENDED;const f=this._writeReqid=this._writeReqid+1&T;b(o,f,5);b(o,19,s);o.utf8Write("statvfs@openssh.com",s+=4,19);b(o,i,s+=19);o.utf8Write(e,s+=4,i);this._requests[f]={extended:"statvfs@openssh.com",cb:t};const u=sendOrBuffer(this,o);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} statvfs@openssh.com`)}}ext_openssh_fstatvfs(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["fstatvfs@openssh.com"];if(!n||n!=="2")throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const i=e.length;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+20+4+i);b(o,o.length-4,0);o[4]=v.EXTENDED;const f=this._writeReqid=this._writeReqid+1&T;b(o,f,5);b(o,20,s);o.utf8Write("fstatvfs@openssh.com",s+=4,20);b(o,i,s+=20);o.set(e,s+=4);this._requests[f]={extended:"fstatvfs@openssh.com",cb:t};const u=sendOrBuffer(this,o);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} fstatvfs@openssh.com`)}}ext_openssh_hardlink(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["hardlink@openssh.com"];if(i!=="1")throw new Error("Server does not support this extended request");const s=Buffer.byteLength(e);const o=Buffer.byteLength(t);let f=9;const u=Buffer.allocUnsafe(4+1+4+4+20+4+s+4+o);b(u,u.length-4,0);u[4]=v.EXTENDED;const l=this._writeReqid=this._writeReqid+1&T;b(u,l,5);b(u,20,f);u.utf8Write("hardlink@openssh.com",f+=4,20);b(u,s,f+=20);u.utf8Write(e,f+=4,s);b(u,o,f+=s);u.utf8Write(t,f+=4,o);this._requests[l]={cb:n};const h=sendOrBuffer(this,u);if(this._debug){const e=h?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} hardlink@openssh.com`)}}ext_openssh_fsync(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["fsync@openssh.com"];if(n!=="1")throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");const i=e.length;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+17+4+i);b(o,o.length-4,0);o[4]=v.EXTENDED;const f=this._writeReqid=this._writeReqid+1&T;b(o,f,5);b(o,17,s);o.utf8Write("fsync@openssh.com",s+=4,17);b(o,i,s+=17);o.set(e,s+=4);this._requests[f]={cb:t};const u=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${u?"Buffered":"Sending"} fsync@openssh.com`)}ext_openssh_lsetstat(e,t,n){if(this.server)throw new Error("Client-only method called in server mode");const i=this._extensions["lsetstat@openssh.com"];if(i!=="1")throw new Error("Server does not support this extended request");let s=0;let o=0;if(typeof t==="object"&&t!==null){t=attrsToBytes(t);s=t.flags;o=t.nb}else if(typeof t==="function"){n=t}const f=Buffer.byteLength(e);let u=9;const l=Buffer.allocUnsafe(4+1+4+4+20+4+f+4+o);b(l,l.length-4,0);l[4]=v.EXTENDED;const h=this._writeReqid=this._writeReqid+1&T;b(l,h,5);b(l,20,u);l.utf8Write("lsetstat@openssh.com",u+=4,20);b(l,f,u+=20);l.utf8Write(e,u+=4,f);b(l,s,u+=f);if(o){u+=4;if(o===m.length)l.set(m,u);else g(m,l,0,o,u);u+=o}this._requests[h]={cb:n};const p=sendOrBuffer(this,l);if(this._debug){const e=p?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} lsetstat@openssh.com`)}}ext_openssh_expandPath(e,t){if(this.server)throw new Error("Client-only method called in server mode");const n=this._extensions["expand-path@openssh.com"];if(n!=="1")throw new Error("Server does not support this extended request");const i=Buffer.byteLength(e);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+23+4+i);b(o,o.length-4,0);o[4]=v.EXTENDED;const f=this._writeReqid=this._writeReqid+1&T;b(o,f,5);b(o,23,s);o.utf8Write("expand-path@openssh.com",s+=4,23);b(o,i,s+=20);o.utf8Write(e,s+=4,i);this._requests[f]={cb:t};const u=sendOrBuffer(this,o);if(this._debug){const e=u?"Buffered":"Sending";this._debug(`SFTP: Outbound: ${e} expand-path@openssh.com`)}}handle(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");const n=t.length;if(n>256)throw new Error("handle too large (> 256 bytes)");let i=9;const s=Buffer.allocUnsafe(4+1+4+4+n);b(s,s.length-4,0);s[4]=B.HANDLE;b(s,e,5);b(s,n,i);if(n)s.set(t,i+=4);const o=sendOrBuffer(this,s);this._debug&&this._debug(`SFTP: Outbound: ${o?"Buffered":"Sending"} HANDLE`)}status(e,t,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!I.has(t))throw new Error(`Bad status code: ${t}`);n||(n="");const i=Buffer.byteLength(n);let s=9;const o=Buffer.allocUnsafe(4+1+4+4+4+i+4);b(o,o.length-4,0);o[4]=B.STATUS;b(o,e,5);b(o,t,s);b(o,i,s+=4);s+=4;if(i){o.utf8Write(n,s,i);s+=i}b(o,0,s);const f=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} STATUS`)}data(e,t,n){if(!this.server)throw new Error("Server-only method called in client mode");const i=Buffer.isBuffer(t);if(!i&&typeof t!=="string")throw new Error("data is not a Buffer or string");let s;if(!i&&!n){n=undefined;s=true}const o=i?t.length:Buffer.byteLength(t,n);let f=9;const u=Buffer.allocUnsafe(4+1+4+4+o);b(u,u.length-4,0);u[4]=B.DATA;b(u,e,5);b(u,o,f);if(o){if(i)u.set(t,f+=4);else if(s)u.utf8Write(t,f+=4,o);else u.write(t,f+=4,o,n)}const l=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} DATA`)}name(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if(typeof t!=="object"||t===null)throw new Error("names is not an object or array");t=[t]}const n=t.length;let i=0;let s;const o=[];for(let e=0;e<n;++e){const n=t[e];const f=!n||!n.filename||typeof n.filename!=="string"?"":n.filename;i+=4+Buffer.byteLength(f);const u=!n||!n.longname||typeof n.longname!=="string"?"":n.longname;i+=4+Buffer.byteLength(u);if(typeof n.attrs==="object"&&n.attrs!==null){s=attrsToBytes(n.attrs);i+=4+s.nb;if(s.nb){let e;if(s.nb===m.length){e=new Uint8Array(m)}else{e=new Uint8Array(s.nb);g(m,e,0,s.nb,0)}s.bytes=e}o.push(s)}else{i+=4;o.push(null)}}let f=9;const u=Buffer.allocUnsafe(4+1+4+4+i);b(u,u.length-4,0);u[4]=B.NAME;b(u,e,5);b(u,n,f);f+=4;for(let e=0;e<n;++e){const n=t[e];{const e=!n||!n.filename||typeof n.filename!=="string"?"":n.filename;const t=Buffer.byteLength(e);b(u,t,f);f+=4;if(t){u.utf8Write(e,f,t);f+=t}}{const e=!n||!n.longname||typeof n.longname!=="string"?"":n.longname;const t=Buffer.byteLength(e);b(u,t,f);f+=4;if(t){u.utf8Write(e,f,t);f+=t}}const i=o[e];if(i){b(u,i.flags,f);f+=4;if(i.flags&&i.bytes){u.set(i.bytes,f);f+=i.nb}}else{b(u,0,f);f+=4}}const l=sendOrBuffer(this,u);this._debug&&this._debug(`SFTP: Outbound: ${l?"Buffered":"Sending"} NAME`)}attrs(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(typeof t!=="object"||t===null)throw new Error("attrs is not an object");t=attrsToBytes(t);const n=t.flags;const i=t.nb;let s=9;const o=Buffer.allocUnsafe(4+1+4+4+i);b(o,o.length-4,0);o[4]=B.ATTRS;b(o,e,5);b(o,n,s);if(i){s+=4;if(i===m.length)o.set(m,s);else g(m,o,0,i,s);s+=i}const f=sendOrBuffer(this,o);this._debug&&this._debug(`SFTP: Outbound: ${f?"Buffered":"Sending"} ATTRS`)}}function tryCreateBuffer(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}function read_(e,t,n,i,s,o,f,u){const l=e._maxReadLen;const h=Math.max(s-l,0);if(h)s=l;const p=t.length;let g=9;let E=o;const y=Buffer.allocUnsafe(4+1+4+4+p+8+4);b(y,y.length-4,0);y[4]=v.READ;const m=e._writeReqid=e._writeReqid+1&T;b(y,m,5);b(y,p,g);y.set(t,g+=4);g+=p;for(let e=7;e>=0;--e){y[g+e]=E&255;E/=256}b(y,s,g+=8);if(typeof f!=="function")f=noop;const I=u||{nb:0,position:o,off:i,origOff:i,len:undefined,overflow:undefined,cb:(i,s,o)=>{const u=I.len;const l=I.overflow;if(i){if(f._wantEOFError||i.code!==w.EOF)return f(i)}else if(o>u){return f(new Error("Received more data than requested"))}else if(o===u&&l){I.nb+=o;I.position+=o;I.off+=o;read_(e,t,n,I.off,l,I.position,f,I);return}if(I.origOff===0&&n.length===I.nb)s=n;else s=_(n,I.origOff,I.origOff+I.nb);f(undefined,I.nb+(o||0),s,I.position)},buffer:undefined};I.len=s;I.overflow=h;I.buffer=_(n,i,i+s);e._requests[m]=I;const C=sendOrBuffer(e,y);e._debug&&e._debug(`SFTP: Outbound: ${C?"Buffered":"Sending"} READ`)}function fastXfer(e,t,n,i,o,f){let u=64;let l=32768;let h;let p;let g;if(typeof o==="function"){f=o}else if(typeof o==="object"&&o!==null){if(typeof o.concurrency==="number"&&o.concurrency>0&&!isNaN(o.concurrency)){u=o.concurrency}if(typeof o.chunkSize==="number"&&o.chunkSize>0&&!isNaN(o.chunkSize)){l=o.chunkSize}if(typeof o.fileSize==="number"&&o.fileSize>0&&!isNaN(o.fileSize)){g=o.fileSize}if(typeof o.step==="function")h=o.step;if(typeof o.mode==="string"||typeof o.mode==="number")p=modeNum(o.mode)}let _;let E=0;let b=0;let y=false;let m;let w;let I;let C=l*u;function onerror(n){if(y)return;y=true;let i=0;let o;if(m||w){o=()=>{if(--i===0)f(n)};if(m&&(e===s||e.outgoing.state==="open"))++i;if(w&&(t===s||t.outgoing.state==="open"))++i;if(m&&(e===s||e.outgoing.state==="open"))e.close(m,o);if(w&&(t===s||t.outgoing.state==="open"))t.close(w,o)}else{f(n)}}e.open(n,"r",((o,y)=>{if(o)return onerror(o);m=y;if(g===undefined)e.fstat(m,tryStat);else tryStat(null,{size:g});function tryStat(o,g){if(o){if(e!==s){e.stat(n,((e,t)=>{if(e)return onerror(o);tryStat(null,t)}));return}return onerror(o)}_=g.size;t.open(i,"w",((n,s)=>{if(n)return onerror(n);w=s;if(_<=0)return onerror();while(C>_){if(u===1){C=_;break}C-=l;--u}I=tryCreateBuffer(C);if(I instanceof Error)return onerror(I);if(p!==undefined){t.fchmod(w,p,(function tryAgain(e){if(e){t.chmod(i,p,(e=>tryAgain()));return}startReads()}))}else{startReads()}function onread(n,i,s,o,u,p){if(n)return onerror(n);u=u||0;t.write(w,I,u,i,o,writeCb);function writeCb(n){if(n)return onerror(n);b+=i;h&&h(b,i,_);if(i<p)return singleRead(u,o+i,p-i);if(b===_){t.close(w,(t=>{w=undefined;if(t)return onerror(t);e.close(m,(e=>{m=undefined;if(e)return onerror(e);f()}))}));return}if(E>=_)return;const s=E+l>_?_-E:l;singleRead(u,E,s);E+=s}}function makeCb(e,t,n){return(i,s,o)=>{onread(i,s,o,t,e,n)}}function singleRead(t,n,i){e.read(m,I,t,i,n,makeCb(t,n,i))}function startReads(){let e=0;let t=0;while(E<_&&e<u){const n=E+l>_?_-E:l;singleRead(t,E,n);t+=n;E+=n;++e}}}))}}))}function writeAll(e,t,n,i,s,o,f){const u=typeof f==="function"?f:undefined;e.write(t,n,i,s,o,((f,l)=>{if(f){return e.close(t,(()=>{u&&u(f)}))}if(l===s){e.close(t,u)}else{i+=l;s-=l;o+=l;writeAll(e,t,n,i,s,o,u)}}))}class Stats{constructor(e){this.mode=e&&e.mode;this.uid=e&&e.uid;this.gid=e&&e.gid;this.size=e&&e.size;this.atime=e&&e.atime;this.mtime=e&&e.mtime;this.extended=e&&e.extended}isDirectory(){return(this.mode&o.S_IFMT)===o.S_IFDIR}isFile(){return(this.mode&o.S_IFMT)===o.S_IFREG}isBlockDevice(){return(this.mode&o.S_IFMT)===o.S_IFBLK}isCharacterDevice(){return(this.mode&o.S_IFMT)===o.S_IFCHR}isSymbolicLink(){return(this.mode&o.S_IFMT)===o.S_IFLNK}isFIFO(){return(this.mode&o.S_IFMT)===o.S_IFIFO}isSocket(){return(this.mode&o.S_IFMT)===o.S_IFSOCK}}function attrsToBytes(e){let t=0;let n=0;if(typeof e==="object"&&e!==null){if(typeof e.size==="number"){t|=y.SIZE;const i=e.size;m[n++]=i/72057594037927940;m[n++]=i/281474976710656;m[n++]=i/1099511627776;m[n++]=i/4294967296;m[n++]=i/16777216;m[n++]=i/65536;m[n++]=i/256;m[n++]=i}if(typeof e.uid==="number"&&typeof e.gid==="number"){t|=y.UIDGID;const i=e.uid;const s=e.gid;m[n++]=i>>>24;m[n++]=i>>>16;m[n++]=i>>>8;m[n++]=i;m[n++]=s>>>24;m[n++]=s>>>16;m[n++]=s>>>8;m[n++]=s}if(typeof e.mode==="number"||typeof e.mode==="string"){const i=modeNum(e.mode);t|=y.PERMISSIONS;m[n++]=i>>>24;m[n++]=i>>>16;m[n++]=i>>>8;m[n++]=i}if((typeof e.atime==="number"||h(e.atime))&&(typeof e.mtime==="number"||h(e.mtime))){const i=toUnixTimestamp(e.atime);const s=toUnixTimestamp(e.mtime);t|=y.ACMODTIME;m[n++]=i>>>24;m[n++]=i>>>16;m[n++]=i>>>8;m[n++]=i;m[n++]=s>>>24;m[n++]=s>>>16;m[n++]=s>>>8;m[n++]=s}}return{flags:t,nb:n}}function toUnixTimestamp(e){if(typeof e==="number"&&e===e)return e;if(h(e))return parseInt(e.getTime()/1e3,10);throw new Error(`Cannot parse time: ${e}`)}function modeNum(e){if(typeof e==="number"&&e===e)return e;if(typeof e==="string")return modeNum(parseInt(e,8));throw new Error(`Cannot parse mode: ${e}`)}const Q={r:k.READ,"r+":k.READ|k.WRITE,w:k.TRUNC|k.CREAT|k.WRITE,wx:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,xw:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,"w+":k.TRUNC|k.CREAT|k.READ|k.WRITE,"wx+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,"xw+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,a:k.APPEND|k.CREAT|k.WRITE,ax:k.APPEND|k.CREAT|k.WRITE|k.EXCL,xa:k.APPEND|k.CREAT|k.WRITE|k.EXCL,"a+":k.APPEND|k.CREAT|k.READ|k.WRITE,"ax+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL,"xa+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL};function stringToFlags(e){const t=Q[e];return t!==undefined?t:null}const W=(()=>{const e=Object.keys(Q);return t=>{for(let n=0;n<e.length;++n){const i=e[n];if(Q[i]===t)return i}return null}})();function readAttrs(e){const t=L.readUInt32BE();if(t===undefined)return;const n=new Stats;if(t&y.SIZE){const t=L.readUInt64BE(e);if(t===undefined)return;n.size=t}if(t&y.UIDGID){const e=L.readUInt32BE();const t=L.readUInt32BE();if(t===undefined)return;n.uid=e;n.gid=t}if(t&y.PERMISSIONS){const e=L.readUInt32BE();if(e===undefined)return;n.mode=e}if(t&y.ACMODTIME){const e=L.readUInt32BE();const t=L.readUInt32BE();if(t===undefined)return;n.atime=e;n.mtime=t}if(t&y.EXTENDED){const e=L.readUInt32BE();if(e===undefined)return;const t={};for(let n=0;n<e;++n){const e=L.readString(true);const n=L.readString();if(n===undefined)return;t[e]=n}n.extended=t}return n}function sendOrBuffer(e,t){const n=tryWritePayload(e,t);if(n!==undefined){e._buffer.push(n);return false}return true}function tryWritePayload(e,t){const n=e.outgoing;if(n.state!=="open")return;if(n.window===0){e._waitWindow=true;return t}let i;const s=t.length;let o=0;while(s-o>0&&n.window>0){const i=Math.min(s-o,n.window,n.packetSize);n.window-=i;if(n.window===0){e._waitWindow=true;e._chunkcb=drainBuffer}if(o===0&&i===s){e._protocol.channelData(e.outgoing.id,t)}else{e._protocol.channelData(e.outgoing.id,_(t,o,o+i))}o+=i}if(s-o>0){if(o>0)i=_(t,o,s);else i=t}return i}function drainBuffer(){this._chunkcb=undefined;const e=this._buffer;let t=0;while(t<e.length){const n=e[t];const i=tryWritePayload(this,n);if(i!==undefined){if(i!==n)e[t]=i;if(t>0)this._buffer=e.slice(t);return}++t}if(t>0)this._buffer=[]}function doFatalSFTPError(e,t,n){const i=new Error(t);i.level="sftp-protocol";if(!n&&e._debug)e._debug(`SFTP: Inbound: ${t}`);e.emit("error",i);e.destroy();cleanupRequests(e);return false}function cleanupRequests(e){const t=Object.keys(e._requests);if(t.length===0)return;const n=e._requests;e._requests={};const i=new Error("No response from server");for(let e=0;e<t.length;++e){const s=n[t[e]];if(typeof s.cb==="function")s.cb(i)}}function requestLimits(e,t){let n=9;const i=Buffer.allocUnsafe(4+1+4+4+18);b(i,i.length-4,0);i[4]=v.EXTENDED;const s=e._writeReqid=e._writeReqid+1&T;b(i,s,5);b(i,18,n);i.utf8Write("limits@openssh.com",n+=4,18);e._requests[s]={extended:"limits@openssh.com",cb:t};const o=sendOrBuffer(e,i);if(e._debug){const t=o?"Buffered":"Sending";e._debug(`SFTP: Outbound: ${t} limits@openssh.com`)}}const q={[B.VERSION]:(e,t)=>{if(e._version!==-1)return doFatalSFTPError(e,"Duplicate VERSION packet");const n={};L.init(t,1);let i=L.readUInt32BE();while(L.avail()){const e=L.readString(true);const t=L.readString(true);if(t===undefined){i=undefined;break}n[e]=t}L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed VERSION packet");if(e._debug){const t=Object.keys(n);if(t.length){e._debug(`SFTP: Inbound: Received VERSION (v${i}, exts:${t})`)}else{e._debug(`SFTP: Inbound: Received VERSION (v${i})`)}}e._version=i;e._extensions=n;if(n["limits@openssh.com"]==="1"){return requestLimits(e,((t,n)=>{if(!t){if(n.maxPktLen>0)e._maxOutPktLen=n.maxPktLen;if(n.maxReadLen>0)e._maxReadLen=n.maxReadLen;if(n.maxWriteLen>0)e._maxWriteLen=n.maxWriteLen;e.maxOpenHandles=n.maxOpenHandles>0?n.maxOpenHandles:Infinity}e.emit("ready")}))}e.emit("ready")},[B.STATUS]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readUInt32BE();const s=L.readString(true);const o=L.skipString();L.clear();if(o===undefined){if(n!==undefined)delete e._requests[n];return doFatalSFTPError(e,"Malformed STATUS packet")}if(e._debug){const t=JSON.stringify(s);e._debug(`SFTP: Inbound: Received STATUS (id:${n}, ${i}, ${t})`)}const f=e._requests[n];delete e._requests[n];if(f&&typeof f.cb==="function"){if(i===w.OK){f.cb();return}const e=new Error(s||C[i]||"Unknown status");e.code=i;f.cb(e)}},[B.HANDLE]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();L.clear();if(i===undefined){if(n!==undefined)delete e._requests[n];return doFatalSFTPError(e,"Malformed HANDLE packet")}e._debug&&e._debug(`SFTP: Inbound: Received HANDLE (id:${n})`);const s=e._requests[n];delete e._requests[n];if(s&&typeof s.cb==="function")s.cb(undefined,i)},[B.DATA]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}if(i&&typeof i.cb==="function"){if(i.buffer){const t=L.readString(i.buffer);L.clear();if(t!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${t})`);i.cb(undefined,i.buffer,t);return}}else{const t=L.readString();L.clear();if(t!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${t.length})`);i.cb(undefined,t);return}}}else{const t=L.skipString();L.clear();if(t!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received DATA (id:${n}, ${t})`);return}}return doFatalSFTPError(e,"Malformed DATA packet")},[B.NAME]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}const s=L.readUInt32BE();if(s!==undefined){let t=[];for(let n=0;n<s;++n){const n=L.readString(true);const i=L.readString(true);const s=readAttrs(e._biOpt);if(s===undefined){t=undefined;break}t.push({filename:n,longname:i,attrs:s})}if(t!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received NAME (id:${n}, ${t.length})`);L.clear();if(i&&typeof i.cb==="function")i.cb(undefined,t);return}}L.clear();return doFatalSFTPError(e,"Malformed NAME packet")},[B.ATTRS]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();let i;if(n!==undefined){i=e._requests[n];delete e._requests[n]}const s=readAttrs(e._biOpt);L.clear();if(s!==undefined){e._debug&&e._debug(`SFTP: Inbound: Received ATTRS (id:${n})`);if(i&&typeof i.cb==="function")i.cb(undefined,s);return}return doFatalSFTPError(e,"Malformed ATTRS packet")},[B.EXTENDED]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();if(n!==undefined){const t=e._requests[n];if(t){delete e._requests[n];switch(t.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":{const i=e._biOpt;const s={f_bsize:L.readUInt64BE(i),f_frsize:L.readUInt64BE(i),f_blocks:L.readUInt64BE(i),f_bfree:L.readUInt64BE(i),f_bavail:L.readUInt64BE(i),f_files:L.readUInt64BE(i),f_ffree:L.readUInt64BE(i),f_favail:L.readUInt64BE(i),f_sid:L.readUInt64BE(i),f_flag:L.readUInt64BE(i),f_namemax:L.readUInt64BE(i)};if(s.f_namemax===undefined)break;if(e._debug){e._debug("SFTP: Inbound: Received EXTENDED_REPLY "+`(id:${n}, ${t.extended})`)}L.clear();if(typeof t.cb==="function")t.cb(undefined,s);return}case"limits@openssh.com":{const i={maxPktLen:L.readUInt64BE(),maxReadLen:L.readUInt64BE(),maxWriteLen:L.readUInt64BE(),maxOpenHandles:L.readUInt64BE()};if(i.maxOpenHandles===undefined)break;if(e._debug){e._debug("SFTP: Inbound: Received EXTENDED_REPLY "+`(id:${n}, ${t.extended})`)}L.clear();if(typeof t.cb==="function")t.cb(undefined,i);return}default:e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${n}, ???)`);L.clear();if(typeof t.cb==="function")t.cb();return}}else{e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED_REPLY (id:${n}, ???)`);L.clear();return}}L.clear();return doFatalSFTPError(e,"Malformed EXTENDED_REPLY packet")}};const $={[v.INIT]:(e,t)=>{if(e._version!==-1)return doFatalSFTPError(e,"Duplicate INIT packet");const n={};L.init(t,1);let i=L.readUInt32BE();while(L.avail()){const e=L.readString(true);const t=L.readString(true);if(t===undefined){i=undefined;break}n[e]=t}L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed INIT packet");if(e._debug){const t=Object.keys(n);if(t.length){e._debug(`SFTP: Inbound: Received INIT (v${i}, exts:${t})`)}else{e._debug(`SFTP: Inbound: Received INIT (v${i})`)}}sendOrBuffer(e,P);e._version=i;e._extensions=n;e.emit("ready")},[v.OPEN]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);const s=L.readUInt32BE();const o=readAttrs(e._biOpt);L.clear();if(o===undefined)return doFatalSFTPError(e,"Malformed OPEN packet");e._debug&&e._debug(`SFTP: Inbound: Received OPEN (id:${n})`);if(!e.emit("OPEN",n,i,s,o)){e.status(n,w.OP_UNSUPPORTED)}},[v.CLOSE]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();L.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed CLOSE packet");e._debug&&e._debug(`SFTP: Inbound: Received CLOSE (id:${n})`);if(!e.emit("CLOSE",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.READ]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();const s=L.readUInt64BE(e._biOpt);const o=L.readUInt32BE();L.clear();if(o===undefined||i.length>256)return doFatalSFTPError(e,"Malformed READ packet");e._debug&&e._debug(`SFTP: Inbound: Received READ (id:${n})`);if(!e.emit("READ",n,i,s,o)){e.status(n,w.OP_UNSUPPORTED)}},[v.WRITE]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();const s=L.readUInt64BE(e._biOpt);const o=L.readString();L.clear();if(o===undefined||i.length>256)return doFatalSFTPError(e,"Malformed WRITE packet");e._debug&&e._debug(`SFTP: Inbound: Received WRITE (id:${n})`);if(!e.emit("WRITE",n,i,s,o)){e.status(n,w.OP_UNSUPPORTED)}},[v.LSTAT]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed LSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received LSTAT (id:${n})`);if(!e.emit("LSTAT",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.FSTAT]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();L.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed FSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSTAT (id:${n})`);if(!e.emit("FSTAT",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.SETSTAT]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);const s=readAttrs(e._biOpt);L.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed SETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received SETSTAT (id:${n})`);if(!e.emit("SETSTAT",n,i,s)){e.status(n,w.OP_UNSUPPORTED)}},[v.FSETSTAT]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();const s=readAttrs(e._biOpt);L.clear();if(s===undefined||i.length>256)return doFatalSFTPError(e,"Malformed FSETSTAT packet");e._debug&&e._debug(`SFTP: Inbound: Received FSETSTAT (id:${n})`);if(!e.emit("FSETSTAT",n,i,s)){e.status(n,w.OP_UNSUPPORTED)}},[v.OPENDIR]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed OPENDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received OPENDIR (id:${n})`);if(!e.emit("OPENDIR",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.READDIR]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString();L.clear();if(i===undefined||i.length>256)return doFatalSFTPError(e,"Malformed READDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received READDIR (id:${n})`);if(!e.emit("READDIR",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.REMOVE]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed REMOVE packet");e._debug&&e._debug(`SFTP: Inbound: Received REMOVE (id:${n})`);if(!e.emit("REMOVE",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.MKDIR]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);const s=readAttrs(e._biOpt);L.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed MKDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received MKDIR (id:${n})`);if(!e.emit("MKDIR",n,i,s)){e.status(n,w.OP_UNSUPPORTED)}},[v.RMDIR]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed RMDIR packet");e._debug&&e._debug(`SFTP: Inbound: Received RMDIR (id:${n})`);if(!e.emit("RMDIR",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.REALPATH]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed REALPATH packet");e._debug&&e._debug(`SFTP: Inbound: Received REALPATH (id:${n})`);if(!e.emit("REALPATH",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.STAT]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed STAT packet");e._debug&&e._debug(`SFTP: Inbound: Received STAT (id:${n})`);if(!e.emit("STAT",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.RENAME]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);const s=L.readString(true);L.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed RENAME packet");e._debug&&e._debug(`SFTP: Inbound: Received RENAME (id:${n})`);if(!e.emit("RENAME",n,i,s)){e.status(n,w.OP_UNSUPPORTED)}},[v.READLINK]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);L.clear();if(i===undefined)return doFatalSFTPError(e,"Malformed READLINK packet");e._debug&&e._debug(`SFTP: Inbound: Received READLINK (id:${n})`);if(!e.emit("READLINK",n,i)){e.status(n,w.OP_UNSUPPORTED)}},[v.SYMLINK]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);const s=L.readString(true);L.clear();if(s===undefined)return doFatalSFTPError(e,"Malformed SYMLINK packet");e._debug&&e._debug(`SFTP: Inbound: Received SYMLINK (id:${n})`);let o;if(e._isOpenSSH){o=e.emit("SYMLINK",n,s,i)}else{o=e.emit("SYMLINK",n,i,s)}if(!o){e.status(n,w.OP_UNSUPPORTED)}},[v.EXTENDED]:(e,t)=>{L.init(t,1);const n=L.readUInt32BE();const i=L.readString(true);if(i===undefined){L.clear();return doFatalSFTPError(e,"Malformed EXTENDED packet")}let s;if(L.avail())s=L.readRaw();L.clear();e._debug&&e._debug(`SFTP: Inbound: Received EXTENDED (id:${n})`);if(!e.emit("EXTENDED",n,i,s)){e.status(n,w.OP_UNSUPPORTED)}}};const{ERR_INVALID_ARG_TYPE:j,ERR_OUT_OF_RANGE:G,validateNumber:Y}=n(5953);const V=128;let z;const J=[];function allocNewPool(e){if(J.length>0)z=J.pop();else z=Buffer.allocUnsafe(e);z.used=0}function checkPosition(e,t){if(!Number.isSafeInteger(e)){Y(e,t);if(!Number.isInteger(e))throw new G(t,"an integer",e);throw new G(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new G(t,">= 0 and <= 2 ** 53 - 1",e)}function roundUpToMultipleOf8(e){return e+7&~7}function ReadStream(e,t,n){if(n===undefined)n={};else if(typeof n==="string")n={encoding:n};else if(n===null||typeof n!=="object")throw new TypeError('"options" argument must be a string or an object');else n=Object.create(n);if(n.highWaterMark===undefined)n.highWaterMark=64*1024;n.emitClose=false;n.autoDestroy=false;f.call(this,n);this.path=t;this.flags=n.flags===undefined?"r":n.flags;this.mode=n.mode===undefined?438:n.mode;this.start=n.start;this.end=n.end;this.autoClose=n.autoClose===undefined?true:n.autoClose;this.pos=0;this.bytesRead=0;this.closed=false;this.handle=n.handle===undefined?null:n.handle;this.sftp=e;this._opening=false;if(this.start!==undefined){checkPosition(this.start,"start");this.pos=this.start}if(this.end===undefined){this.end=Infinity}else if(this.end!==Infinity){checkPosition(this.end,"end");if(this.start!==undefined&&this.start>this.end){throw new G("start",`<= "end" (here: ${this.end})`,this.start)}}this.on("end",(function(){if(this.autoClose)this.destroy()}));if(!Buffer.isBuffer(this.handle))this.open()}l(ReadStream,f);ReadStream.prototype.open=function(){if(this._opening)return;this._opening=true;this.sftp.open(this.path,this.flags,this.mode,((e,t)=>{this._opening=false;if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}this.handle=t;this.emit("open",t);this.emit("ready");this.read()}))};ReadStream.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",(()=>this._read(e)));if(this.destroyed)return;if(!z||z.length-z.used<V){allocNewPool(this.readableHighWaterMark||this._readableState.highWaterMark)}const t=z;let n=Math.min(z.length-z.used,e);const i=z.used;if(this.end!==undefined)n=Math.min(this.end-this.pos+1,n);if(n<=0)return this.push(null);this.sftp.read(this.handle,z,z.used,n,this.pos,((e,s)=>{if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}let o=null;if(i+n===t.used&&t===z){t.used=roundUpToMultipleOf8(t.used+s-n)}else{const e=i+n&~7;const o=roundUpToMultipleOf8(i+s);if(e-o>=V)J.push(t.slice(o,e))}if(s>0){this.bytesRead+=s;o=t.slice(i,i+s)}this.pos+=s;this.push(o)}));z.used=roundUpToMultipleOf8(z.used+n)};ReadStream.prototype._destroy=function(e,t){if(this._opening&&!Buffer.isBuffer(this.handle)){this.once("open",closeStream.bind(null,this,t,e));return}closeStream(this,t,e);this.handle=null;this._opening=false};function closeStream(e,t,n){if(!e.handle)return onclose();e.sftp.close(e.handle,onclose);function onclose(i){i=i||n;t(i);e.closed=true;if(!i)e.emit("close")}}ReadStream.prototype.close=function(e){this.destroy(null,e)};Object.defineProperty(ReadStream.prototype,"pending",{get(){return this.handle===null},configurable:true});function WriteStream(e,t,n){if(n===undefined)n={};else if(typeof n==="string")n={encoding:n};else if(n===null||typeof n!=="object")throw new TypeError('"options" argument must be a string or an object');else n=Object.create(n);n.emitClose=false;n.autoDestroy=false;u.call(this,n);this.path=t;this.flags=n.flags===undefined?"w":n.flags;this.mode=n.mode===undefined?438:n.mode;this.start=n.start;this.autoClose=n.autoClose===undefined?true:n.autoClose;this.pos=0;this.bytesWritten=0;this.closed=false;this.handle=n.handle===undefined?null:n.handle;this.sftp=e;this._opening=false;if(this.start!==undefined){checkPosition(this.start,"start");this.pos=this.start}if(n.encoding)this.setDefaultEncoding(n.encoding);this.on("finish",(function(){if(this._writableState.finalCalled)return;if(this.autoClose)this.destroy()}));if(!Buffer.isBuffer(this.handle))this.open()}l(WriteStream,u);WriteStream.prototype._final=function(e){if(this.autoClose)this.destroy();e()};WriteStream.prototype.open=function(){if(this._opening)return;this._opening=true;this.sftp.open(this.path,this.flags,this.mode,((e,t)=>{this._opening=false;if(e){this.emit("error",e);if(this.autoClose)this.destroy();return}this.handle=t;const tryAgain=e=>{if(e){this.sftp.chmod(this.path,this.mode,(e=>tryAgain()));return}if(this.flags[0]==="a"){const tryStat=(e,n)=>{if(e){this.sftp.stat(this.path,((t,n)=>{if(t){this.destroy();this.emit("error",e);return}tryStat(null,n)}));return}this.pos=n.size;this.emit("open",t);this.emit("ready")};this.sftp.fstat(t,tryStat);return}this.emit("open",t);this.emit("ready")};this.sftp.fchmod(t,this.mode,tryAgain)}))};WriteStream.prototype._write=function(e,t,n){if(!Buffer.isBuffer(e)){const t=new j("data","Buffer",e);return this.emit("error",t)}if(!Buffer.isBuffer(this.handle)){return this.once("open",(function(){this._write(e,t,n)}))}this.sftp.write(this.handle,e,0,e.length,this.pos,((e,t)=>{if(e){if(this.autoClose)this.destroy();return n(e)}this.bytesWritten+=t;n()}));this.pos+=e.length};WriteStream.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle)){return this.once("open",(function(){this._writev(e,t)}))}const n=this.sftp;const i=this.handle;let s=e.length;const onwrite=(e,n)=>{if(e){this.destroy();return t(e)}this.bytesWritten+=n;if(--s===0)t()};for(let t=0;t<e.length;++t){const s=e[t].chunk;n.write(i,s,0,s.length,this.pos,onwrite);this.pos+=s.length}};if(typeof u.prototype.destroy!=="function")WriteStream.prototype.destroy=ReadStream.prototype.destroy;WriteStream.prototype._destroy=ReadStream.prototype._destroy;WriteStream.prototype.close=function(e){if(e){if(this.closed){process.nextTick(e);return}this.on("close",e)}if(!this.autoClose)this.on("finish",this.destroy.bind(this));this.end()};WriteStream.prototype.destroySoon=WriteStream.prototype.end;Object.defineProperty(WriteStream.prototype,"pending",{get(){return this.handle===null},configurable:true});e.exports={flagsToString:W,OPEN_MODE:k,SFTP:SFTP,Stats:Stats,STATUS_CODE:w,stringToFlags:stringToFlags}},2246:(e,t,n)=>{"use strict";const i=n(6113);let s;try{s=n(2651)()}catch{}const{bindingAvailable:o}=n(8822);const f=(()=>{if(typeof i.sign==="function"&&typeof i.verify==="function"){const e="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD"+"/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----";const t=Buffer.from("a");let n;let s;try{n=i.sign(null,t,e);s=i.verify(null,t,e,n)}catch{}return Buffer.isBuffer(n)&&n.length===64&&s===true}return false})();const u=typeof i.diffieHellman==="function"&&typeof i.generateKeyPairSync==="function"&&typeof i.createPublicKey==="function";const l=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512"];if(u){l.unshift("curve25519-sha256");l.unshift("curve25519-sha256@libssh.org")}const h=l.concat(["diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1"]);const p=["ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa"];if(f)p.unshift("ssh-ed25519");const g=p.concat(["ssh-dss"]);const _=["aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr"];if(s&&s.flags&&!s.flags.aes){if(o)_.unshift("chacha20-poly1305@openssh.com");else _.push("chacha20-poly1305@openssh.com")}else if(o&&s&&s.arch==="x86"){_.splice(4,0,"chacha20-poly1305@openssh.com")}else{_.push("chacha20-poly1305@openssh.com")}const E=_.concat(["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"]);const b=["hmac-sha2-256-etm@openssh.com","hmac-sha2-512-etm@openssh.com","hmac-sha1-etm@openssh.com","hmac-sha2-256","hmac-sha2-512","hmac-sha1"];const y=b.concat(["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"]);const m=["none","zlib@openssh.com","zlib"];const w=m.concat([]);const I={BAD_DHGEX:1<<0,OLD_EXIT:1<<1,DYN_RPORT_BUG:1<<2,BUG_DHGEX_LARGE:1<<3};e.exports={MESSAGE:{DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,KEXDH_INIT:30,KEXDH_REPLY:31,KEXDH_GEX_GROUP:31,KEXDH_GEX_INIT:32,KEXDH_GEX_REPLY:33,KEXDH_GEX_REQUEST:34,KEXECDH_INIT:30,KEXECDH_REPLY:31,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,USERAUTH_PASSWD_CHANGEREQ:60,USERAUTH_PK_OK:60,USERAUTH_INFO_REQUEST:60,USERAUTH_INFO_RESPONSE:61,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100},DISCONNECT_REASON:{HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15},DISCONNECT_REASON_STR:undefined,CHANNEL_OPEN_FAILURE:{ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4},TERMINAL_MODE:{TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129},CHANNEL_EXTENDED_DATATYPE:{STDERR:1},SIGNALS:["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"].reduce(((e,t)=>({...e,[t]:1})),{}),COMPAT:I,COMPAT_CHECKS:[["Cisco-1.25",I.BAD_DHGEX],[/^Cisco-1\./,I.BUG_DHGEX_LARGE],[/^[0-9.]+$/,I.OLD_EXIT],[/^OpenSSH_5\.\d+/,I.DYN_RPORT_BUG]],DEFAULT_KEX:l,SUPPORTED_KEX:h,DEFAULT_SERVER_HOST_KEY:p,SUPPORTED_SERVER_HOST_KEY:g,DEFAULT_CIPHER:_,SUPPORTED_CIPHER:E,DEFAULT_MAC:b,SUPPORTED_MAC:y,DEFAULT_COMPRESSION:m,SUPPORTED_COMPRESSION:w,curve25519Supported:u,eddsaSupported:f};e.exports.DISCONNECT_REASON_BY_VALUE=Array.from(Object.entries(e.exports.DISCONNECT_REASON)).reduce(((e,[t,n])=>({...e,[n]:t})),{})},8822:(e,t,n)=>{"use strict";const{createCipheriv:i,createDecipheriv:s,createHmac:o,randomFillSync:f,timingSafeEqual:u}=n(6113);const{readUInt32BE:l,writeUInt32BE:h}=n(8526);const p=Buffer[Symbol.species];const g=2**32-1;const _=Buffer.alloc(0);const E=Buffer.alloc(4);const b=new Map;const y=35e3;let m;let w;let I;let C;let v;let B;let k;try{m=n(4865);({AESGCMCipher:w,ChaChaPolyCipher:I,GenericCipher:C,AESGCMDecipher:v,ChaChaPolyDecipher:B,GenericDecipher:k}=m)}catch{}const R=1<<0;const T=(()=>{function info(e,t,n,i,s,o,f){return{sslName:e,blockLen:t,keyLen:n,ivLen:i!==0||f&R?i:t,authLen:s,discardLen:o,stream:!!(f&R)}}return{"chacha20-poly1305@openssh.com":info("chacha20",8,64,0,16,0,R),"aes128-gcm":info("aes-128-gcm",16,16,12,16,0,R),"aes256-gcm":info("aes-256-gcm",16,32,12,16,0,R),"aes128-gcm@openssh.com":info("aes-128-gcm",16,16,12,16,0,R),"aes256-gcm@openssh.com":info("aes-256-gcm",16,32,12,16,0,R),"aes128-cbc":info("aes-128-cbc",16,16,0,0,0,0),"aes192-cbc":info("aes-192-cbc",16,24,0,0,0,0),"aes256-cbc":info("aes-256-cbc",16,32,0,0,0,0),"rijndael-cbc@lysator.liu.se":info("aes-256-cbc",16,32,0,0,0,0),"3des-cbc":info("des-ede3-cbc",8,24,0,0,0,0),"blowfish-cbc":info("bf-cbc",8,16,0,0,0,0),"idea-cbc":info("idea-cbc",8,16,0,0,0,0),"cast128-cbc":info("cast-cbc",8,16,0,0,0,0),"aes128-ctr":info("aes-128-ctr",16,16,16,0,0,R),"aes192-ctr":info("aes-192-ctr",16,24,16,0,0,R),"aes256-ctr":info("aes-256-ctr",16,32,16,0,0,R),"3des-ctr":info("des-ede3",8,24,8,0,0,R),"blowfish-ctr":info("bf-ecb",8,16,8,0,0,R),"cast128-ctr":info("cast5-ecb",8,16,8,0,0,R),arcfour:info("rc4",8,16,0,0,1536,R),arcfour128:info("rc4",8,16,0,0,1536,R),arcfour256:info("rc4",8,32,0,0,1536,R),arcfour512:info("rc4",8,64,0,0,1536,R)}})();const O=(()=>{function info(e,t,n,i){return{sslName:e,len:t,actualLen:n,isETM:i}}return{"hmac-md5":info("md5",16,16,false),"hmac-md5-96":info("md5",16,12,false),"hmac-ripemd160":info("ripemd160",20,20,false),"hmac-sha1":info("sha1",20,20,false),"hmac-sha1-etm@openssh.com":info("sha1",20,20,true),"hmac-sha1-96":info("sha1",20,12,false),"hmac-sha2-256":info("sha256",32,32,false),"hmac-sha2-256-etm@openssh.com":info("sha256",32,32,true),"hmac-sha2-256-96":info("sha256",32,12,false),"hmac-sha2-512":info("sha512",64,64,false),"hmac-sha2-512-etm@openssh.com":info("sha512",64,64,true),"hmac-sha2-512-96":info("sha512",64,12,false)}})();class NullCipher{constructor(e,t){this.outSeqno=e;this._onWrite=t;this._dead=false}free(){this._dead=true}allocPacket(e){let t=4+1+e;let n=8-(t&8-1);if(n<4)n+=8;t+=n;const i=Buffer.allocUnsafe(t);h(i,t-4,0);i[4]=n;f(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}const P=Buffer.alloc(32);const D=Buffer.alloc(16);let U;let L;let x;class ChaChaPolyCipherNative{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._encKeyMain=t.cipherKey.slice(0,32);this._encKeyPktLen=t.cipherKey.slice(32);this._dead=false}free(){this._dead=true}allocPacket(e){let t=4+1+e;let n=8-(t-4&8-1);if(n<4)n+=8;t+=n;const i=Buffer.allocUnsafe(t);h(i,t-4,0);i[4]=n;f(i,5+e,n);return i}encrypt(e){if(this._dead)return;D[0]=0;h(D,this.outSeqno,12);const t=i("chacha20",this._encKeyMain,D).update(P);const n=i("chacha20",this._encKeyPktLen,D).update(e.slice(0,4));this._onWrite(n);D[0]=1;const s=i("chacha20",this._encKeyMain,D).update(e.slice(4));this._onWrite(s);x(L,n,n.length,s,s.length,t);const o=Buffer.allocUnsafe(16);o.set(new Uint8Array(U.HEAPU8.buffer,L,16),0);this._onWrite(o);this.outSeqno=this.outSeqno+1>>>0}}class ChaChaPolyCipherBinding{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._instance=new I(t.cipherKey);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){let t=4+1+e;let n=8-(t-4&8-1);if(n<4)n+=8;t+=n;const i=Buffer.allocUnsafe(t+16);h(i,t-4,0);i[4]=n;f(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._instance.encrypt(e,this.outSeqno);this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class AESGCMCipherNative{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._encSSLName=t.cipherInfo.sslName;this._encKey=t.cipherKey;this._encIV=t.cipherIV;this._dead=false}free(){this._dead=true}allocPacket(e){let t=4+1+e;let n=16-(t-4&16-1);if(n<4)n+=16;t+=n;const i=Buffer.allocUnsafe(t);h(i,t-4,0);i[4]=n;f(i,5+e,n);return i}encrypt(e){if(this._dead)return;const t=i(this._encSSLName,this._encKey,this._encIV);t.setAutoPadding(false);const n=e.slice(0,4);t.setAAD(n);this._onWrite(n);const s=t.update(e.slice(4));this._onWrite(s);const o=t.final();if(o.length)this._onWrite(o);const f=t.getAuthTag();this._onWrite(f);ivIncrement(this._encIV);this.outSeqno=this.outSeqno+1>>>0}}class AESGCMCipherBinding{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._instance=new w(t.cipherInfo.sslName,t.cipherKey,t.cipherIV);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){let t=4+1+e;let n=16-(t-4&16-1);if(n<4)n+=16;t+=n;const i=Buffer.allocUnsafe(t+16);h(i,t-4,0);i[4]=n;f(i,5+e,n);return i}encrypt(e){if(this._dead)return;this._instance.encrypt(e);this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class GenericCipherNative{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._encBlockLen=t.cipherInfo.blockLen;this._cipherInstance=i(t.cipherInfo.sslName,t.cipherKey,t.cipherIV);this._macSSLName=t.macInfo.sslName;this._macKey=t.macKey;this._macActualLen=t.macInfo.actualLen;this._macETM=t.macInfo.isETM;this._aadLen=this._macETM?4:0;this._dead=false;const n=t.cipherInfo.discardLen;if(n){let e=b.get(n);if(e===undefined){e=Buffer.alloc(n);b.set(n,e)}this._cipherInstance.update(e)}}free(){this._dead=true}allocPacket(e){const t=this._encBlockLen;let n=4+1+e;let i=t-(n-this._aadLen&t-1);if(i<4)i+=t;n+=i;const s=Buffer.allocUnsafe(n);h(s,n-4,0);s[4]=i;f(s,5+e,i);return s}encrypt(e){if(this._dead)return;let t;if(this._macETM){const n=new Uint8Array(e.buffer,e.byteOffset,4);const i=this._cipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+4,e.length-4));this._onWrite(n);this._onWrite(i);t=o(this._macSSLName,this._macKey);h(E,this.outSeqno,0);t.update(E);t.update(n);t.update(i)}else{const n=this._cipherInstance.update(e);this._onWrite(n);t=o(this._macSSLName,this._macKey);h(E,this.outSeqno,0);t.update(E);t.update(e)}let n=t.digest();if(n.length>this._macActualLen)n=n.slice(0,this._macActualLen);this._onWrite(n);this.outSeqno=this.outSeqno+1>>>0}}class GenericCipherBinding{constructor(e){const t=e.outbound;this.outSeqno=t.seqno;this._onWrite=t.onWrite;this._encBlockLen=t.cipherInfo.blockLen;this._macLen=t.macInfo.len;this._macActualLen=t.macInfo.actualLen;this._aadLen=t.macInfo.isETM?4:0;this._instance=new C(t.cipherInfo.sslName,t.cipherKey,t.cipherIV,t.macInfo.sslName,t.macKey,t.macInfo.isETM);this._dead=false}free(){this._dead=true;this._instance.free()}allocPacket(e){const t=this._encBlockLen;let n=4+1+e;let i=t-(n-this._aadLen&t-1);if(i<4)i+=t;n+=i;const s=Buffer.allocUnsafe(n+this._macLen);h(s,n-4,0);s[4]=i;f(s,5+e,i);return s}encrypt(e){if(this._dead)return;this._instance.encrypt(e,this.outSeqno);if(this._macActualLen<this._macLen){e=new p(e.buffer,e.byteOffset,e.length-(this._macLen-this._macActualLen))}this._onWrite(e);this.outSeqno=this.outSeqno+1>>>0}}class NullDecipher{constructor(e,t){this.inSeqno=e;this._onPayload=t;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0}free(){}decrypt(e,t,n){while(t<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-t);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len>y||this._len<8||(4+this._len&7)!==0){throw new Error("Bad packet length")}if(t>=n)return}if(this._packetPos<this._len){const i=Math.min(this._len-this._packetPos,n-t);if(t!==0||i!==n){if(i===this._len){this._packet=new p(e.buffer,e.byteOffset+t,i)}else{this._packet=Buffer.allocUnsafe(this._len);this._packet.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._packetPos)}}else if(i===this._len){this._packet=e}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(e,this._packetPos)}t+=i;this._packetPos+=i;if(this._packetPos<this._len)return}const i=!this._packet?_:new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?t:e}}}}class ChaChaPolyDecipherNative{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._decKeyMain=t.decipherKey.slice(0,32);this._decKeyPktLen=t.decipherKey.slice(32);this._len=0;this._lenBuf=Buffer.alloc(4);this._lenPos=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(16);this._calcMac=Buffer.allocUnsafe(16);this._macPos=0}free(){}decrypt(e,t,n){while(t<n){if(this._lenPos<4){let i=Math.min(4-this._lenPos,n-t);while(i--)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;D[0]=0;h(D,this.inSeqno,12);const o=s("chacha20",this._decKeyPktLen,D).update(this._lenBuf);this._len=l(o,0);if(this._len>y||this._len<8||(this._len&7)!==0){throw new Error("Bad packet length")}}if(this._pktLen<this._len){if(t>=n)return;const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+t,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(16-this._macPos,n-t);if(t!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._macPos)}else{this._mac.set(e,this._macPos)}t+=i;this._macPos+=i;if(this._macPos<16)return}D[0]=0;h(D,this.inSeqno,12);const o=i("chacha20",this._decKeyMain,D).update(P);x(L,this._lenBuf,4,this._packet,this._packet.length,o);this._calcMac.set(new Uint8Array(U.HEAPU8.buffer,L,16),0);if(!u(this._calcMac,this._mac))throw new Error("Invalid MAC");D[0]=1;const f=s("chacha20",this._decKeyMain,D).update(this._packet);const g=new p(f.buffer,f.byteOffset+1,f.length-f[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenPos=0;this._packet=null;this._pktLen=0;this._macPos=0;{const e=this._onPayload(g);if(e!==undefined)return e===false?t:e}}}}class ChaChaPolyDecipherBinding{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._instance=new B(t.decipherKey);this._len=0;this._lenBuf=Buffer.alloc(4);this._lenPos=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(16);this._macPos=0}free(){this._instance.free()}decrypt(e,t,n){while(t<n){if(this._lenPos<4){let i=Math.min(4-this._lenPos,n-t);while(i--)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;this._len=this._instance.decryptLen(this._lenBuf,this.inSeqno);if(this._len>y||this._len<8||(this._len&7)!==0){throw new Error("Bad packet length")}if(t>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+t,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(16-this._macPos,n-t);if(t!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._macPos)}else{this._mac.set(e,this._macPos)}t+=i;this._macPos+=i;if(this._macPos<16)return}this._instance.decrypt(this._packet,this._mac,this.inSeqno);const i=new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenPos=0;this._packet=null;this._pktLen=0;this._macPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?t:e}}}}class AESGCMDecipherNative{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._decipherInstance=null;this._decipherSSLName=t.decipherInfo.sslName;this._decipherKey=t.decipherKey;this._decipherIV=t.decipherIV;this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._tag=Buffer.allocUnsafe(16);this._tagPos=0}free(){}decrypt(e,t,n){while(t<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-t);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>y||this._len<16||(this._len&15)!==0){throw new Error("Bad packet length")}this._decipherInstance=s(this._decipherSSLName,this._decipherKey,this._decipherIV);this._decipherInstance.setAutoPadding(false);this._decipherInstance.setAAD(Q(this._len))}if(this._pktLen<this._len){if(t>=n)return;const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n){s=this._decipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+t,i))}else{s=this._decipherInstance.update(e)}if(s.length){if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._packetPos)}this._packetPos+=s.length}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(16-this._tagPos,n-t);if(t!==0||i!==n){this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._tagPos)}else{this._tag.set(e,this._tagPos)}t+=i;this._tagPos+=i;if(this._tagPos<16)return}{this._decipherInstance.setAuthTag(this._tag);const e=this._decipherInstance.final();if(e.length){if(this._packet)this._packet.set(e,this._packetPos);else this._packet=e}}const i=!this._packet?_:new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;ivIncrement(this._decipherIV);this._len=0;this._lenBytes=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._tagPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?t:e}}}}class AESGCMDecipherBinding{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._instance=new v(t.decipherInfo.sslName,t.decipherKey,t.decipherIV);this._len=0;this._lenBytes=0;this._packet=null;this._pktLen=0;this._tag=Buffer.allocUnsafe(16);this._tagPos=0}free(){}decrypt(e,t,n){while(t<n){if(this._lenBytes<4){let i=Math.min(4-this._lenBytes,n-t);this._lenBytes+=i;while(i--)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>y||this._len<16||(this._len&15)!==0){throw new Error(`Bad packet length: ${this._len}`)}}if(this._pktLen<this._len){if(t>=n)return;const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+t,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(16-this._tagPos,n-t);if(t!==0||i!==n){this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._tagPos)}else{this._tag.set(e,this._tagPos)}t+=i;this._tagPos+=i;if(this._tagPos<16)return}this._instance.decrypt(this._packet,this._len,this._tag);const i=new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._len=0;this._lenBytes=0;this._packet=null;this._pktLen=0;this._tagPos=0;{const e=this._onPayload(i);if(e!==undefined)return e===false?t:e}}}}class GenericDecipherNative{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._decipherInstance=s(t.decipherInfo.sslName,t.decipherKey,t.decipherIV);this._decipherInstance.setAutoPadding(false);this._block=Buffer.allocUnsafe(t.macInfo.isETM?4:t.decipherInfo.blockLen);this._blockSize=t.decipherInfo.blockLen;this._blockPos=0;this._len=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._mac=Buffer.allocUnsafe(t.macInfo.actualLen);this._macPos=0;this._macSSLName=t.macInfo.sslName;this._macKey=t.macKey;this._macActualLen=t.macInfo.actualLen;this._macETM=t.macInfo.isETM;this._macInstance=null;const n=t.decipherInfo.discardLen;if(n){let e=b.get(n);if(e===undefined){e=Buffer.alloc(n);b.set(n,e)}this._decipherInstance.update(e)}}free(){}decrypt(e,t,n){while(t<n){if(this._blockPos<this._block.length){const i=Math.min(this._block.length-this._blockPos,n-t);if(t!==0||i!==n||i<e.length){this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._blockPos)}else{this._block.set(e,this._blockPos)}t+=i;this._blockPos+=i;if(this._blockPos<this._block.length)return;let s;let f;if(this._macETM){this._len=f=l(this._block,0)}else{s=this._decipherInstance.update(this._block);this._len=l(s,0);f=4+this._len-this._blockSize}if(this._len>y||this._len<5||(f&this._blockSize-1)!==0){throw new Error("Bad packet length")}this._macInstance=o(this._macSSLName,this._macKey);h(E,this.inSeqno,0);this._macInstance.update(E);if(this._macETM){this._macInstance.update(this._block)}else{this._macInstance.update(new Uint8Array(s.buffer,s.byteOffset,4));this._pktLen=s.length-4;this._packetPos=this._pktLen;this._packet=Buffer.allocUnsafe(this._len);this._packet.set(new Uint8Array(s.buffer,s.byteOffset+4,this._packetPos),0)}if(t>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+t,i);else s=e;if(this._macETM)this._macInstance.update(s);const o=this._decipherInstance.update(s);if(o.length){if(i===this._len){this._packet=o}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(o,this._packetPos)}this._packetPos+=o.length}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(this._macActualLen-this._macPos,n-t);if(t!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._macPos)}else{this._mac.set(e,this._macPos)}t+=i;this._macPos+=i;if(this._macPos<this._macActualLen)return}if(!this._macETM)this._macInstance.update(this._packet);let i=this._macInstance.digest();if(this._macActualLen<i.length){i=new Uint8Array(i.buffer,i.byteOffset,this._macActualLen)}if(!timingSafeEquals(i,this._mac))throw new Error("Invalid MAC");const s=new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._blockPos=0;this._len=0;this._packet=null;this._packetPos=0;this._pktLen=0;this._macPos=0;this._macInstance=null;{const e=this._onPayload(s);if(e!==undefined)return e===false?t:e}}}}class GenericDecipherBinding{constructor(e){const t=e.inbound;this.inSeqno=t.seqno;this._onPayload=t.onPayload;this._instance=new k(t.decipherInfo.sslName,t.decipherKey,t.decipherIV,t.macInfo.sslName,t.macKey,t.macInfo.isETM,t.macInfo.actualLen);this._block=Buffer.allocUnsafe(t.macInfo.isETM||t.decipherInfo.stream?4:t.decipherInfo.blockLen);this._blockPos=0;this._len=0;this._packet=null;this._pktLen=0;this._mac=Buffer.allocUnsafe(t.macInfo.actualLen);this._macPos=0;this._macActualLen=t.macInfo.actualLen;this._macETM=t.macInfo.isETM}free(){this._instance.free()}decrypt(e,t,n){while(t<n){if(this._blockPos<this._block.length){const i=Math.min(this._block.length-this._blockPos,n-t);if(t!==0||i!==n||i<e.length){this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._blockPos)}else{this._block.set(e,this._blockPos)}t+=i;this._blockPos+=i;if(this._blockPos<this._block.length)return;let s;if(this._macETM){this._len=s=l(this._block,0)}else{this._instance.decryptBlock(this._block);this._len=l(this._block,0);s=4+this._len-this._block.length}if(this._len>y||this._len<5||(s&this._block.length-1)!==0){throw new Error("Bad packet length")}if(!this._macETM){this._pktLen=this._block.length-4;if(this._pktLen){this._packet=Buffer.allocUnsafe(this._len);this._packet.set(new Uint8Array(this._block.buffer,this._block.byteOffset+4,this._pktLen),0)}}if(t>=n)return}if(this._pktLen<this._len){const i=Math.min(this._len-this._pktLen,n-t);let s;if(t!==0||i!==n)s=new Uint8Array(e.buffer,e.byteOffset+t,i);else s=e;if(i===this._len){this._packet=s}else{if(!this._packet)this._packet=Buffer.allocUnsafe(this._len);this._packet.set(s,this._pktLen)}t+=i;this._pktLen+=i;if(this._pktLen<this._len||t>=n)return}{const i=Math.min(this._macActualLen-this._macPos,n-t);if(t!==0||i!==n){this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._macPos)}else{this._mac.set(e,this._macPos)}t+=i;this._macPos+=i;if(this._macPos<this._macActualLen)return}this._instance.decrypt(this._packet,this.inSeqno,this._block,this._mac);const i=new p(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0;this._blockPos=0;this._len=0;this._packet=null;this._pktLen=0;this._macPos=0;this._macInstance=null;{const e=this._onPayload(i);if(e!==undefined)return e===false?t:e}}}}function ivIncrement(e){++e[11]>>>8&&++e[10]>>>8&&++e[9]>>>8&&++e[8]>>>8&&++e[7]>>>8&&++e[6]>>>8&&++e[5]>>>8&&++e[4]>>>8}const Q=(()=>{const e=Buffer.alloc(4);return t=>{e[0]=t>>>24;e[1]=t>>>16;e[2]=t>>>8;e[3]=t;return e}})();function timingSafeEquals(e,t){if(e.length!==t.length){u(e,e);return false}return u(e,t)}function createCipher(e){if(typeof e!=="object"||e===null)throw new Error("Invalid config");if(typeof e.outbound!=="object"||e.outbound===null)throw new Error("Invalid outbound");const t=e.outbound;if(typeof t.onWrite!=="function")throw new Error("Invalid outbound.onWrite");if(typeof t.cipherInfo!=="object"||t.cipherInfo===null)throw new Error("Invalid outbound.cipherInfo");if(!Buffer.isBuffer(t.cipherKey)||t.cipherKey.length!==t.cipherInfo.keyLen){throw new Error("Invalid outbound.cipherKey")}if(t.cipherInfo.ivLen&&(!Buffer.isBuffer(t.cipherIV)||t.cipherIV.length!==t.cipherInfo.ivLen)){throw new Error("Invalid outbound.cipherIV")}if(typeof t.seqno!=="number"||t.seqno<0||t.seqno>g){throw new Error("Invalid outbound.seqno")}const n=!!t.forceNative;switch(t.cipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return w&&!n?new AESGCMCipherBinding(e):new AESGCMCipherNative(e);case"chacha20":return I&&!n?new ChaChaPolyCipherBinding(e):new ChaChaPolyCipherNative(e);default:{if(typeof t.macInfo!=="object"||t.macInfo===null)throw new Error("Invalid outbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len){throw new Error("Invalid outbound.macKey")}return C&&!n?new GenericCipherBinding(e):new GenericCipherNative(e)}}}function createDecipher(e){if(typeof e!=="object"||e===null)throw new Error("Invalid config");if(typeof e.inbound!=="object"||e.inbound===null)throw new Error("Invalid inbound");const t=e.inbound;if(typeof t.onPayload!=="function")throw new Error("Invalid inbound.onPayload");if(typeof t.decipherInfo!=="object"||t.decipherInfo===null){throw new Error("Invalid inbound.decipherInfo")}if(!Buffer.isBuffer(t.decipherKey)||t.decipherKey.length!==t.decipherInfo.keyLen){throw new Error("Invalid inbound.decipherKey")}if(t.decipherInfo.ivLen&&(!Buffer.isBuffer(t.decipherIV)||t.decipherIV.length!==t.decipherInfo.ivLen)){throw new Error("Invalid inbound.decipherIV")}if(typeof t.seqno!=="number"||t.seqno<0||t.seqno>g){throw new Error("Invalid inbound.seqno")}const n=!!t.forceNative;switch(t.decipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return v&&!n?new AESGCMDecipherBinding(e):new AESGCMDecipherNative(e);case"chacha20":return B&&!n?new ChaChaPolyDecipherBinding(e):new ChaChaPolyDecipherNative(e);default:{if(typeof t.macInfo!=="object"||t.macInfo===null)throw new Error("Invalid inbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len){throw new Error("Invalid inbound.macKey")}return k&&!n?new GenericDecipherBinding(e):new GenericDecipherNative(e)}}}e.exports={CIPHER_INFO:T,MAC_INFO:O,bindingAvailable:!!m,init:(()=>new Promise((async(e,t)=>{try{U=await n(58)();L=U._malloc(16);x=U.cwrap("poly1305_auth",null,["number","array","number","array","number","array"])}catch(e){return t(e)}e()})))(),NullCipher:NullCipher,createCipher:createCipher,NullDecipher:NullDecipher,createDecipher:createDecipher}},58:(e,t,n)=>{var i=function(){var e=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:undefined;if(typeof __filename!=="undefined")e=e||__filename;return function(t){t=t||{};var i;i||(i=typeof t!=="undefined"?t:{});var s,o;i.ready=new Promise((function(e,t){s=e;o=t}));var f={},u;for(u in i)i.hasOwnProperty(u)&&(f[u]=i[u]);var l="object"===typeof window,h="function"===typeof importScripts,p="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node,g="",_,E,b,y,m;if(p)g=h?n(1017).dirname(g)+"/":__dirname+"/",_=function(e,t){var i=H(e);if(i)return t?i:i.toString();y||(y=n(7147));m||(m=n(1017));e=m.normalize(e);return y.readFileSync(e,t?null:"utf8")},b=function(e){e=_(e,!0);e.buffer||(e=new Uint8Array(e));assert(e.buffer);return e},E=function(e,t,i){var s=H(e);s&&t(s);y||(y=n(7147));m||(m=n(1017));e=m.normalize(e);y.readFile(e,(function(e,n){e?i(e):t(n.buffer)}))},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),i.inspect=function(){return"[Emscripten Module object]"};else if(l||h)h?g=self.location.href:"undefined"!==typeof document&&document.currentScript&&(g=document.currentScript.src),e&&(g=e),0!==g.indexOf("blob:")?g=g.substr(0,g.lastIndexOf("/")+1):g="",_=function(e){try{var t=new XMLHttpRequest;t.open("GET",e,!1);t.send(null);return t.responseText}catch(s){if(e=H(e)){t=[];for(var n=0;n<e.length;n++){var i=e[n];255<i&&(G&&assert(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+n+" not in 0x00-0xFF."),i&=255);t.push(String.fromCharCode(i))}return t.join("")}throw s}},h&&(b=function(e){try{var t=new XMLHttpRequest;t.open("GET",e,!1);t.responseType="arraybuffer";t.send(null);return new Uint8Array(t.response)}catch(t){if(e=H(e))return e;throw t}}),E=function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0);i.responseType="arraybuffer";i.onload=function(){if(200==i.status||0==i.status&&i.response)t(i.response);else{var s=H(e);s?t(s.buffer):n()}};i.onerror=n;i.send(null)};i.print||console.log.bind(console);var w=i.printErr||console.warn.bind(console);for(u in f)f.hasOwnProperty(u)&&(i[u]=f[u]);f=null;var I;i.wasmBinary&&(I=i.wasmBinary);var C=i.noExitRuntime||!0;"object"!==typeof WebAssembly&&K("no native wasm support detected");var v,B=!1;function assert(e,t){e||K("Assertion failed: "+t)}function N(e){var t=i["_"+e];assert(t,"Cannot call unknown function "+e+", make sure it is exported");return t}function ca(e,t,n,i){var s={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=(e.length<<2)+1;t=ee(n);var i=t,s=O;if(0<n){n=i+n-1;for(var o=0;o<e.length;++o){var f=e.charCodeAt(o);if(55296<=f&&57343>=f){var u=e.charCodeAt(++o);f=65536+((f&1023)<<10)|u&1023}if(127>=f){if(i>=n)break;s[i++]=f}else{if(2047>=f){if(i+1>=n)break;s[i++]=192|f>>6}else{if(65535>=f){if(i+2>=n)break;s[i++]=224|f>>12}else{if(i+3>=n)break;s[i++]=240|f>>18;s[i++]=128|f>>12&63}s[i++]=128|f>>6&63}s[i++]=128|f&63}}s[i]=0}}return t},array:function(e){var t=ee(e.length);T.set(e,t);return t}},o=N(e),f=[];e=0;if(i)for(var u=0;u<i.length;u++){var l=s[n[u]];l?(0===e&&(e=z()),f[u]=l(i[u])):f[u]=i[u]}n=o.apply(null,f);n=function(e){if("string"===t)if(e){for(var n=O,i=e+NaN,s=e;n[s]&&!(s>=i);)++s;if(16<s-e&&n.subarray&&k)e=k.decode(n.subarray(e,s));else{for(i="";e<s;){var o=n[e++];if(o&128){var f=n[e++]&63;if(192==(o&224))i+=String.fromCharCode((o&31)<<6|f);else{var u=n[e++]&63;o=224==(o&240)?(o&15)<<12|f<<6|u:(o&7)<<18|f<<12|u<<6|n[e++]&63;65536>o?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else i+=String.fromCharCode(o)}e=i}}else e="";else e="boolean"===t?!!e:e;return e}(n);0!==e&&J(e);return n}var k="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0,R,T,O;function ia(){var e=v.buffer;R=e;i.HEAP8=T=new Int8Array(e);i.HEAP16=new Int16Array(e);i.HEAP32=new Int32Array(e);i.HEAPU8=O=new Uint8Array(e);i.HEAPU16=new Uint16Array(e);i.HEAPU32=new Uint32Array(e);i.HEAPF32=new Float32Array(e);i.HEAPF64=new Float64Array(e)}var P,D=[],U=[],L=[];function ma(){var e=i.preRun.shift();D.unshift(e)}var x=0,Q=null,W=null;i.preloadedImages={};i.preloadedAudios={};function K(e){if(i.onAbort)i.onAbort(e);w(e);B=!0;e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.");o(e);throw e}var q="data:application/octet-stream;base64,",$;$="data:application/octet-stream;base64,AGFzbQEAAAABIAZgAX8Bf2ADf39/AGABfwBgAABgAAF/YAZ/f39/f38AAgcBAWEBYQAAAwsKAAEDAQAAAgQFAgQFAXABAQEFBwEBgAKAgAIGCQF/AUGAjMACCwclCQFiAgABYwADAWQACQFlAAgBZgAHAWcABgFoAAUBaQAKAWoBAAqGTQpPAQJ/QYAIKAIAIgEgAEEDakF8cSICaiEAAkAgAkEAIAAgAU0bDQAgAD8AQRB0SwRAIAAQAEUNAQtBgAggADYCACABDwtBhAhBMDYCAEF/C4wFAg5+Cn8gACgCJCEUIAAoAiAhFSAAKAIcIREgACgCGCESIAAoAhQhEyACQRBPBEAgAC0ATEVBGHQhFyAAKAIEIhZBBWytIQ8gACgCCCIYQQVsrSENIAAoAgwiGUEFbK0hCyAAKAIQIhpBBWytIQkgADUCACEIIBqtIRAgGa0hDiAYrSEMIBatIQoDQCASIAEtAAMiEiABLQAEQQh0ciABLQAFQRB0ciABLQAGIhZBGHRyQQJ2Qf///x9xaq0iAyAOfiABLwAAIAEtAAJBEHRyIBNqIBJBGHRBgICAGHFqrSIEIBB+fCARIAEtAAdBCHQgFnIgAS0ACEEQdHIgAS0ACSIRQRh0ckEEdkH///8fcWqtIgUgDH58IAEtAApBCHQgEXIgAS0AC0EQdHIgAS0ADEEYdHJBBnYgFWqtIgYgCn58IBQgF2ogAS8ADSABLQAPQRB0cmqtIgcgCH58IAMgDH4gBCAOfnwgBSAKfnwgBiAIfnwgByAJfnwgAyAKfiAEIAx+fCAFIAh+fCAGIAl+fCAHIAt+fCADIAh+IAQgCn58IAUgCX58IAYgC358IAcgDX58IAMgCX4gBCAIfnwgBSALfnwgBiANfnwgByAPfnwiA0IaiEL/////D4N8IgRCGohC/////w+DfCIFQhqIQv////8Pg3wiBkIaiEL/////D4N8IgdCGoinQQVsIAOnQf///x9xaiITQRp2IASnQf///x9xaiESIAWnQf///x9xIREgBqdB////H3EhFSAHp0H///8fcSEUIBNB////H3EhEyABQRBqIQEgAkEQayICQQ9LDQALCyAAIBQ2AiQgACAVNgIgIAAgETYCHCAAIBI2AhggACATNgIUCwMAAQu2BAEGfwJAIAAoAjgiBARAIABBPGohBQJAIAJBECAEayIDIAIgA0kbIgZFDQAgBkEDcSEHAkAgBkEBa0EDSQRAQQAhAwwBCyAGQXxxIQhBACEDA0AgBSADIARqaiABIANqLQAAOgAAIAUgA0EBciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0ECciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0EDciIEIAAoAjhqaiABIARqLQAAOgAAIANBBGohAyAAKAI4IQQgCEEEayIIDQALCyAHRQ0AA0AgBSADIARqaiABIANqLQAAOgAAIANBAWohAyAAKAI4IQQgB0EBayIHDQALCyAAIAQgBmoiAzYCOCADQRBJDQEgACAFQRAQAiAAQQA2AjggAiAGayECIAEgBmohAQsgAkEQTwRAIAAgASACQXBxIgMQAiACQQ9xIQIgASADaiEBCyACRQ0AIAJBA3EhBCAAQTxqIQVBACEDIAJBAWtBA08EQCACQXxxIQcDQCAFIAAoAjggA2pqIAEgA2otAAA6AAAgBSADQQFyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQJyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQNyIgYgACgCOGpqIAEgBmotAAA6AAAgA0EEaiEDIAdBBGsiBw0ACwsgBARAA0AgBSAAKAI4IANqaiABIANqLQAAOgAAIANBAWohAyAEQQFrIgQNAAsLIAAgACgCOCACajYCOAsLoS0BDH8jAEEQayIMJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEH0AU0EQEGICCgCACIFQRAgAEELakF4cSAAQQtJGyIIQQN2IgJ2IgFBA3EEQCABQX9zQQFxIAJqIgNBA3QiAUG4CGooAgAiBEEIaiEAAkAgBCgCCCICIAFBsAhqIgFGBEBBiAggBUF+IAN3cTYCAAwBCyACIAE2AgwgASACNgIICyAEIANBA3QiAUEDcjYCBCABIARqIgEgASgCBEEBcjYCBAwNCyAIQZAIKAIAIgpNDQEgAQRAAkBBAiACdCIAQQAgAGtyIAEgAnRxIgBBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2aiIDQQN0IgBBuAhqKAIAIgQoAggiASAAQbAIaiIARgRAQYgIIAVBfiADd3EiBTYCAAwBCyABIAA2AgwgACABNgIICyAEQQhqIQAgBCAIQQNyNgIEIAQgCGoiAiADQQN0IgEgCGsiA0EBcjYCBCABIARqIAM2AgAgCgRAIApBA3YiAUEDdEGwCGohB0GcCCgCACEEAn8gBUEBIAF0IgFxRQRAQYgIIAEgBXI2AgAgBwwBCyAHKAIICyEBIAcgBDYCCCABIAQ2AgwgBCAHNgIMIAQgATYCCAtBnAggAjYCAEGQCCADNgIADA0LQYwIKAIAIgZFDQEgBkEAIAZrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QbgKaigCACIBKAIEQXhxIAhrIQMgASECA0ACQCACKAIQIgBFBEAgAigCFCIARQ0BCyAAKAIEQXhxIAhrIgIgAyACIANJIgIbIQMgACABIAIbIQEgACECDAELCyABIAhqIgkgAU0NAiABKAIYIQsgASABKAIMIgRHBEAgASgCCCIAQZgIKAIASRogACAENgIMIAQgADYCCAwMCyABQRRqIgIoAgAiAEUEQCABKAIQIgBFDQQgAUEQaiECCwNAIAIhByAAIgRBFGoiAigCACIADQAgBEEQaiECIAQoAhAiAA0ACyAHQQA2AgAMCwtBfyEIIABBv39LDQAgAEELaiIAQXhxIQhBjAgoAgAiCUUNAEEAIAhrIQMCQAJAAkACf0EAIAhBgAJJDQAaQR8gCEH///8HSw0AGiAAQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgCCAAQRVqdkEBcXJBHGoLIgVBAnRBuApqKAIAIgJFBEBBACEADAELQQAhACAIQQBBGSAFQQF2ayAFQR9GG3QhAQNAAkAgAigCBEF4cSAIayIHIANPDQAgAiEEIAciAw0AQQAhAyACIQAMAwsgACACKAIUIgcgByACIAFBHXZBBHFqKAIQIgJGGyAAIAcbIQAgAUEBdCEBIAINAAsLIAAgBHJFBEBBACEEQQIgBXQiAEEAIABrciAJcSIARQ0DIABBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2akECdEG4CmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAhrIgEgA0khAiABIAMgAhshAyAAIAQgAhshBCAAKAIQIgEEfyABBSAAKAIUCyIADQALCyAERQ0AIANBkAgoAgAgCGtPDQAgBCAIaiIGIARNDQEgBCgCGCEFIAQgBCgCDCIBRwRAIAQoAggiAEGYCCgCAEkaIAAgATYCDCABIAA2AggMCgsgBEEUaiICKAIAIgBFBEAgBCgCECIARQ0EIARBEGohAgsDQCACIQcgACIBQRRqIgIoAgAiAA0AIAFBEGohAiABKAIQIgANAAsgB0EANgIADAkLIAhBkAgoAgAiAk0EQEGcCCgCACEDAkAgAiAIayIBQRBPBEBBkAggATYCAEGcCCADIAhqIgA2AgAgACABQQFyNgIEIAIgA2ogATYCACADIAhBA3I2AgQMAQtBnAhBADYCAEGQCEEANgIAIAMgAkEDcjYCBCACIANqIgAgACgCBEEBcjYCBAsgA0EIaiEADAsLIAhBlAgoAgAiBkkEQEGUCCAGIAhrIgE2AgBBoAhBoAgoAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAsLQQAhACAIQS9qIgkCf0HgCygCAARAQegLKAIADAELQewLQn83AgBB5AtCgKCAgICABDcCAEHgCyAMQQxqQXBxQdiq1aoFczYCAEH0C0EANgIAQcQLQQA2AgBBgCALIgFqIgVBACABayIHcSICIAhNDQpBwAsoAgAiBARAQbgLKAIAIgMgAmoiASADTQ0LIAEgBEsNCwtBxAstAABBBHENBQJAAkBBoAgoAgAiAwRAQcgLIQADQCADIAAoAgAiAU8EQCABIAAoAgRqIANLDQMLIAAoAggiAA0ACwtBABABIgFBf0YNBiACIQVB5AsoAgAiA0EBayIAIAFxBEAgAiABayAAIAFqQQAgA2txaiEFCyAFIAhNDQYgBUH+////B0sNBkHACygCACIEBEBBuAsoAgAiAyAFaiIAIANNDQcgACAESw0HCyAFEAEiACABRw0BDAgLIAUgBmsgB3EiBUH+////B0sNBSAFEAEiASAAKAIAIAAoAgRqRg0EIAEhAAsCQCAAQX9GDQAgCEEwaiAFTQ0AQegLKAIAIgEgCSAFa2pBACABa3EiAUH+////B0sEQCAAIQEMCAsgARABQX9HBEAgASAFaiEFIAAhAQwIC0EAIAVrEAEaDAULIAAiAUF/Rw0GDAQLAAtBACEEDAcLQQAhAQwFCyABQX9HDQILQcQLQcQLKAIAQQRyNgIACyACQf7///8HSw0BIAIQASEBQQAQASEAIAFBf0YNASAAQX9GDQEgACABTQ0BIAAgAWsiBSAIQShqTQ0BC0G4C0G4CygCACAFaiIANgIAQbwLKAIAIABJBEBBvAsgADYCAAsCQAJAAkBBoAgoAgAiBwRAQcgLIQADQCABIAAoAgAiAyAAKAIEIgJqRg0CIAAoAggiAA0ACwwCC0GYCCgCACIAQQAgACABTRtFBEBBmAggATYCAAtBACEAQcwLIAU2AgBByAsgATYCAEGoCEF/NgIAQawIQeALKAIANgIAQdQLQQA2AgADQCAAQQN0IgNBuAhqIANBsAhqIgI2AgAgA0G8CGogAjYCACAAQQFqIgBBIEcNAAtBlAggBUEoayIDQXggAWtBB3FBACABQQhqQQdxGyIAayICNgIAQaAIIAAgAWoiADYCACAAIAJBAXI2AgQgASADakEoNgIEQaQIQfALKAIANgIADAILIAAtAAxBCHENACADIAdLDQAgASAHTQ0AIAAgAiAFajYCBEGgCCAHQXggB2tBB3FBACAHQQhqQQdxGyIAaiICNgIAQZQIQZQIKAIAIAVqIgEgAGsiADYCACACIABBAXI2AgQgASAHakEoNgIEQaQIQfALKAIANgIADAELQZgIKAIAIAFLBEBBmAggATYCAAsgASAFaiECQcgLIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQcgLIQADQCAHIAAoAgAiAk8EQCACIAAoAgRqIgQgB0sNAwsgACgCCCEADAALAAsgACABNgIAIAAgACgCBCAFajYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiCSAIQQNyNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIFIAggCWoiBmshAiAFIAdGBEBBoAggBjYCAEGUCEGUCCgCACACaiIANgIAIAYgAEEBcjYCBAwDCyAFQZwIKAIARgRAQZwIIAY2AgBBkAhBkAgoAgAgAmoiADYCACAGIABBAXI2AgQgACAGaiAANgIADAMLIAUoAgQiAEEDcUEBRgRAIABBeHEhBwJAIABB/wFNBEAgBSgCCCIDIABBA3YiAEEDdEGwCGpGGiADIAUoAgwiAUYEQEGICEGICCgCAEF+IAB3cTYCAAwCCyADIAE2AgwgASADNgIIDAELIAUoAhghCAJAIAUgBSgCDCIBRwRAIAUoAggiACABNgIMIAEgADYCCAwBCwJAIAVBFGoiACgCACIDDQAgBUEQaiIAKAIAIgMNAEEAIQEMAQsDQCAAIQQgAyIBQRRqIgAoAgAiAw0AIAFBEGohACABKAIQIgMNAAsgBEEANgIACyAIRQ0AAkAgBSAFKAIcIgNBAnRBuApqIgAoAgBGBEAgACABNgIAIAENAUGMCEGMCCgCAEF+IAN3cTYCAAwCCyAIQRBBFCAIKAIQIAVGG2ogATYCACABRQ0BCyABIAg2AhggBSgCECIABEAgASAANgIQIAAgATYCGAsgBSgCFCIARQ0AIAEgADYCFCAAIAE2AhgLIAUgB2ohBSACIAdqIQILIAUgBSgCBEF+cTYCBCAGIAJBAXI2AgQgAiAGaiACNgIAIAJB/wFNBEAgAkEDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwDC0EfIQAgAkH///8HTQRAIAJBCHYiACAAQYD+P2pBEHZBCHEiA3QiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASADciAAcmsiAEEBdCACIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQQCQEGMCCgCACIDQQEgAHQiAXFFBEBBjAggASADcjYCACAEIAY2AgAgBiAENgIYDAELIAJBAEEZIABBAXZrIABBH0YbdCEAIAQoAgAhAQNAIAEiAygCBEF4cSACRg0DIABBHXYhASAAQQF0IQAgAyABQQRxaiIEKAIQIgENAAsgBCAGNgIQIAYgAzYCGAsgBiAGNgIMIAYgBjYCCAwCC0GUCCAFQShrIgNBeCABa0EHcUEAIAFBCGpBB3EbIgBrIgI2AgBBoAggACABaiIANgIAIAAgAkEBcjYCBCABIANqQSg2AgRBpAhB8AsoAgA2AgAgByAEQScgBGtBB3FBACAEQSdrQQdxG2pBL2siACAAIAdBEGpJGyICQRs2AgQgAkHQCykCADcCECACQcgLKQIANwIIQdALIAJBCGo2AgBBzAsgBTYCAEHICyABNgIAQdQLQQA2AgAgAkEYaiEAA0AgAEEHNgIEIABBCGohASAAQQRqIQAgASAESQ0ACyACIAdGDQMgAiACKAIEQX5xNgIEIAcgAiAHayIEQQFyNgIEIAIgBDYCACAEQf8BTQRAIARBA3YiAEEDdEGwCGohAgJ/QYgIKAIAIgFBASAAdCIAcUUEQEGICCAAIAFyNgIAIAIMAQsgAigCCAshACACIAc2AgggACAHNgIMIAcgAjYCDCAHIAA2AggMBAtBHyEAIAdCADcCECAEQf///wdNBEAgBEEIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAQgAEEVanZBAXFyQRxqIQALIAcgADYCHCAAQQJ0QbgKaiEDAkBBjAgoAgAiAkEBIAB0IgFxRQRAQYwIIAEgAnI2AgAgAyAHNgIAIAcgAzYCGAwBCyAEQQBBGSAAQQF2ayAAQR9GG3QhACADKAIAIQEDQCABIgIoAgRBeHEgBEYNBCAAQR12IQEgAEEBdCEAIAIgAUEEcWoiAygCECIBDQALIAMgBzYCECAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAwsgAygCCCIAIAY2AgwgAyAGNgIIIAZBADYCGCAGIAM2AgwgBiAANgIICyAJQQhqIQAMBQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIIC0GUCCgCACIAIAhNDQBBlAggACAIayIBNgIAQaAIQaAIKAIAIgIgCGoiADYCACAAIAFBAXI2AgQgAiAIQQNyNgIEIAJBCGohAAwDC0GECEEwNgIAQQAhAAwCCwJAIAVFDQACQCAEKAIcIgJBAnRBuApqIgAoAgAgBEYEQCAAIAE2AgAgAQ0BQYwIIAlBfiACd3EiCTYCAAwCCyAFQRBBFCAFKAIQIARGG2ogATYCACABRQ0BCyABIAU2AhggBCgCECIABEAgASAANgIQIAAgATYCGAsgBCgCFCIARQ0AIAEgADYCFCAAIAE2AhgLAkAgA0EPTQRAIAQgAyAIaiIAQQNyNgIEIAAgBGoiACAAKAIEQQFyNgIEDAELIAQgCEEDcjYCBCAGIANBAXI2AgQgAyAGaiADNgIAIANB/wFNBEAgA0EDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwBC0EfIQAgA0H///8HTQRAIANBCHYiACAAQYD+P2pBEHZBCHEiAnQiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASACciAAcmsiAEEBdCADIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQICQAJAIAlBASAAdCIBcUUEQEGMCCABIAlyNgIAIAIgBjYCACAGIAI2AhgMAQsgA0EAQRkgAEEBdmsgAEEfRht0IQAgAigCACEIA0AgCCIBKAIEQXhxIANGDQIgAEEddiECIABBAXQhACABIAJBBHFqIgIoAhAiCA0ACyACIAY2AhAgBiABNgIYCyAGIAY2AgwgBiAGNgIIDAELIAEoAggiACAGNgIMIAEgBjYCCCAGQQA2AhggBiABNgIMIAYgADYCCAsgBEEIaiEADAELAkAgC0UNAAJAIAEoAhwiAkECdEG4CmoiACgCACABRgRAIAAgBDYCACAEDQFBjAggBkF+IAJ3cTYCAAwCCyALQRBBFCALKAIQIAFGG2ogBDYCACAERQ0BCyAEIAs2AhggASgCECIABEAgBCAANgIQIAAgBDYCGAsgASgCFCIARQ0AIAQgADYCFCAAIAQ2AhgLAkAgA0EPTQRAIAEgAyAIaiIAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIEDAELIAEgCEEDcjYCBCAJIANBAXI2AgQgAyAJaiADNgIAIAoEQCAKQQN2IgBBA3RBsAhqIQRBnAgoAgAhAgJ/QQEgAHQiACAFcUUEQEGICCAAIAVyNgIAIAQMAQsgBCgCCAshACAEIAI2AgggACACNgIMIAIgBDYCDCACIAA2AggLQZwIIAk2AgBBkAggAzYCAAsgAUEIaiEACyAMQRBqJAAgAAsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMAC4AJAgh/BH4jAEGQAWsiBiQAIAYgBS0AA0EYdEGAgIAYcSAFLwAAIAUtAAJBEHRycjYCACAGIAUoAANBAnZBg/7/H3E2AgQgBiAFKAAGQQR2Qf+B/x9xNgIIIAYgBSgACUEGdkH//8AfcTYCDCAFLwANIQggBS0ADyEJIAZCADcCFCAGQgA3AhwgBkEANgIkIAYgCCAJQRB0QYCAPHFyNgIQIAYgBSgAEDYCKCAGIAUoABQ2AiwgBiAFKAAYNgIwIAUoABwhBSAGQQA6AEwgBkEANgI4IAYgBTYCNCAGIAEgAhAEIAQEQCAGIAMgBBAECyAGKAI4IgEEQCAGQTxqIgIgAWpBAToAACABQQFqQQ9NBEAgASAGakE9aiEEAkBBDyABayIDRQ0AIAMgBGoiAUEBa0EAOgAAIARBADoAACADQQNJDQAgAUECa0EAOgAAIARBADoAASABQQNrQQA6AAAgBEEAOgACIANBB0kNACABQQRrQQA6AAAgBEEAOgADIANBCUkNACAEQQAgBGtBA3EiAWoiBEEANgIAIAQgAyABa0F8cSIBaiIDQQRrQQA2AgAgAUEJSQ0AIARBADYCCCAEQQA2AgQgA0EIa0EANgIAIANBDGtBADYCACABQRlJDQAgBEEANgIYIARBADYCFCAEQQA2AhAgBEEANgIMIANBEGtBADYCACADQRRrQQA2AgAgA0EYa0EANgIAIANBHGtBADYCACABIARBBHFBGHIiAWsiA0EgSQ0AIAEgBGohAQNAIAFCADcDGCABQgA3AxAgAUIANwMIIAFCADcDACABQSBqIQEgA0EgayIDQR9LDQALCwsgBkEBOgBMIAYgAkEQEAILIAY1AjQhECAGNQIwIREgBjUCLCEOIAAgBjUCKCAGKAIkIAYoAiAgBigCHCAGKAIYIgNBGnZqIgJBGnZqIgFBGnZqIgtBgICAYHIgAUH///8fcSINIAJB////H3EiCCAGKAIUIAtBGnZBBWxqIgFB////H3EiCUEFaiIFQRp2IANB////H3EgAUEadmoiA2oiAUEadmoiAkEadmoiBEEadmoiDEEfdSIHIANxIAEgDEEfdkEBayIDQf///x9xIgpxciIBQRp0IAUgCnEgByAJcXJyrXwiDzwAACAAIA9CGIg8AAMgACAPQhCIPAACIAAgD0IIiDwAASAAIA4gByAIcSACIApxciICQRR0IAFBBnZyrXwgD0IgiHwiDjwABCAAIA5CGIg8AAcgACAOQhCIPAAGIAAgDkIIiDwABSAAIBEgByANcSAEIApxciIBQQ50IAJBDHZyrXwgDkIgiHwiDjwACCAAIA5CGIg8AAsgACAOQhCIPAAKIAAgDkIIiDwACSAAIBAgAyAMcSAHIAtxckEIdCABQRJ2cq18IA5CIIh8Ig48AAwgACAOQhiIPAAPIAAgDkIQiDwADiAAIA5CCIg8AA0gBkIANwIwIAZCADcCKCAGQgA3AiAgBkIANwIYIAZCADcCECAGQgA3AgggBkIANwIAIAZBkAFqJAALpwwBB38CQCAARQ0AIABBCGsiAyAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAMgAygCACIBayIDQZgIKAIASQ0BIAAgAWohACADQZwIKAIARwRAIAFB/wFNBEAgAygCCCICIAFBA3YiBEEDdEGwCGpGGiACIAMoAgwiAUYEQEGICEGICCgCAEF+IAR3cTYCAAwDCyACIAE2AgwgASACNgIIDAILIAMoAhghBgJAIAMgAygCDCIBRwRAIAMoAggiAiABNgIMIAEgAjYCCAwBCwJAIANBFGoiAigCACIEDQAgA0EQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0BAkAgAyADKAIcIgJBAnRBuApqIgQoAgBGBEAgBCABNgIAIAENAUGMCEGMCCgCAEF+IAJ3cTYCAAwDCyAGQRBBFCAGKAIQIANGG2ogATYCACABRQ0CCyABIAY2AhggAygCECICBEAgASACNgIQIAIgATYCGAsgAygCFCICRQ0BIAEgAjYCFCACIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBBkAggADYCACAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAA8LIAMgBU8NACAFKAIEIgFBAXFFDQACQCABQQJxRQRAIAVBoAgoAgBGBEBBoAggAzYCAEGUCEGUCCgCACAAaiIANgIAIAMgAEEBcjYCBCADQZwIKAIARw0DQZAIQQA2AgBBnAhBADYCAA8LIAVBnAgoAgBGBEBBnAggAzYCAEGQCEGQCCgCACAAaiIANgIAIAMgAEEBcjYCBCAAIANqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiAiABQQN2IgRBA3RBsAhqRhogAiAFKAIMIgFGBEBBiAhBiAgoAgBBfiAEd3E2AgAMAgsgAiABNgIMIAEgAjYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgJBmAgoAgBJGiACIAE2AgwgASACNgIIDAELAkAgBUEUaiICKAIAIgQNACAFQRBqIgIoAgAiBA0AQQAhAQwBCwNAIAIhByAEIgFBFGoiAigCACIEDQAgAUEQaiECIAEoAhAiBA0ACyAHQQA2AgALIAZFDQACQCAFIAUoAhwiAkECdEG4CmoiBCgCAEYEQCAEIAE2AgAgAQ0BQYwIQYwIKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiABNgIAIAFFDQELIAEgBjYCGCAFKAIQIgIEQCABIAI2AhAgAiABNgIYCyAFKAIUIgJFDQAgASACNgIUIAIgATYCGAsgAyAAQQFyNgIEIAAgA2ogADYCACADQZwIKAIARw0BQZAIIAA2AgAPCyAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RBsAhqIQACf0GICCgCACICQQEgAXQiAXFFBEBBiAggASACcjYCACAADAELIAAoAggLIQIgACADNgIIIAIgAzYCDCADIAA2AgwgAyACNgIIDwtBHyECIANCADcCECAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIEIARBgIAPakEQdkECcSIEdEEPdiABIAJyIARyayIBQQF0IAAgAUEVanZBAXFyQRxqIQILIAMgAjYCHCACQQJ0QbgKaiEBAkACQAJAQYwIKAIAIgRBASACdCIHcUUEQEGMCCAEIAdyNgIAIAEgAzYCACADIAE2AhgMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgASgCACEBA0AgASIEKAIEQXhxIABGDQIgAkEddiEBIAJBAXQhAiAEIAFBBHFqIgdBEGooAgAiAQ0ACyAHIAM2AhAgAyAENgIYCyADIAM2AgwgAyADNgIIDAELIAQoAggiACADNgIMIAQgAzYCCCADQQA2AhggAyAENgIMIAMgADYCCAtBqAhBqAgoAgBBAWsiAEF/IAAbNgIACwsLCQEAQYEICwIGUA==";if(!$.startsWith(q)){var j=$;$=i.locateFile?i.locateFile(j,g):g+j}function pa(){var e=$;try{if(e==$&&I)return new Uint8Array(I);var t=H(e);if(t)return t;if(b)return b(e);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function qa(){if(!I&&(l||h)){if("function"===typeof fetch&&!$.startsWith("file://"))return fetch($,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+$+"'";return e.arrayBuffer()})).catch((function(){return pa()}));if(E)return new Promise((function(e,t){E($,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return pa()}))}function X(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(i);else{var n=t.m;"number"===typeof n?void 0===t.l?P.get(n)():P.get(n)(t.l):n(void 0===t.l?null:t.l)}}}var G=!1,Y="function"===typeof atob?atob:function(e){var t="",n=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));i=i<<2|s>>4;s=(s&15)<<4|o>>2;var u=(o&3)<<6|f;t+=String.fromCharCode(i);64!==o&&(t+=String.fromCharCode(s));64!==f&&(t+=String.fromCharCode(u))}while(n<e.length);return t};function H(e){if(e.startsWith(q)){e=e.slice(q.length);if("boolean"===typeof p&&p){var t=Buffer.from(e,"base64");t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else try{var n=Y(e),i=new Uint8Array(n.length);for(e=0;e<n.length;++e)i[e]=n.charCodeAt(e);t=i}catch(e){throw Error("Converting base64 string to bytes failed.")}return t}}var V={a:function(e){var t=O.length;e>>>=0;if(2147483648<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);i=Math.max(e,i);0<i%65536&&(i+=65536-i%65536);e:{try{v.grow(Math.min(2147483648,i)-R.byteLength+65535>>>16);ia();var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1}};(function(){function a(e){i.asm=e.exports;v=i.asm.b;ia();P=i.asm.j;U.unshift(i.asm.c);x--;i.monitorRunDependencies&&i.monitorRunDependencies(x);0==x&&(null!==Q&&(clearInterval(Q),Q=null),W&&(e=W,W=null,e()))}function c(e){a(e.instance)}function d(t){return qa().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e);K(e)}))}var e={a:V};x++;i.monitorRunDependencies&&i.monitorRunDependencies(x);if(i.instantiateWasm)try{return i.instantiateWasm(e,a)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(function(){return I||"function"!==typeof WebAssembly.instantiateStreaming||$.startsWith(q)||$.startsWith("file://")||"function"!==typeof fetch?d(c):fetch($,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(c,(function(e){w("wasm streaming compile failed: "+e);w("falling back to ArrayBuffer instantiation");return d(c)}))}))})().catch(o);return{}})();i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.c).apply(null,arguments)};i._poly1305_auth=function(){return(i._poly1305_auth=i.asm.d).apply(null,arguments)};var z=i.stackSave=function(){return(z=i.stackSave=i.asm.e).apply(null,arguments)},J=i.stackRestore=function(){return(J=i.stackRestore=i.asm.f).apply(null,arguments)},ee=i.stackAlloc=function(){return(ee=i.stackAlloc=i.asm.g).apply(null,arguments)};i._malloc=function(){return(i._malloc=i.asm.h).apply(null,arguments)};i._free=function(){return(i._free=i.asm.i).apply(null,arguments)};i.cwrap=function(e,t,n,i){n=n||[];var s=n.every((function(e){return"number"===e}));return"string"!==t&&s&&!i?N(e):function(){return ca(e,t,n,arguments)}};var te;W=function ta(){te||Z();te||(W=ta)};function Z(){function a(){if(!te&&(te=!0,i.calledRun=!0,!B)){X(U);s(i);if(i.onRuntimeInitialized)i.onRuntimeInitialized();if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e=i.postRun.shift();L.unshift(e)}X(L)}}if(!(0<x)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)ma();X(D);0<x||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1);a()}),1)):a())}}i.run=Z;if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();Z();return t.ready}}();if(true)e.exports=i;else{}},6696:(e,t,n)=>{"use strict";const i=new Array(256);[n(4782).HANDLERS,n(4113)].forEach((e=>{for(let[t,n]of Object.entries(e)){t=+t;if(isFinite(t)&&t>=0&&t<i.length)i[t]=n}}));e.exports=i},4113:(e,t,n)=>{"use strict";const{bufferSlice:i,bufferParser:s,doFatalError:o,sigSSHToASN1:f,writeUInt32BE:u}=n(8526);const{CHANNEL_OPEN_FAILURE:l,COMPAT:h,MESSAGE:p,TERMINAL_MODE:g}=n(2246);const{parseKey:_}=n(2481);const E=Array.from(Object.entries(g)).reduce(((e,[t,n])=>({...e,[t]:n})),{});e.exports={[p.DISCONNECT]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readString(true);const f=s.readString();s.clear();if(f===undefined){return o(e,"Inbound: Malformed DISCONNECT packet")}e._debug&&e._debug(`Inbound: Received DISCONNECT (${n}, "${i}")`);const u=e._handlers.DISCONNECT;u&&u(e,n,i)},[p.IGNORE]:(e,t)=>{e._debug&&e._debug("Inbound: Received IGNORE")},[p.UNIMPLEMENTED]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed UNIMPLEMENTED packet")}e._debug&&e._debug(`Inbound: Received UNIMPLEMENTED (seqno ${n})`)},[p.DEBUG]:(e,t)=>{s.init(t,1);const n=s.readBool();const i=s.readString(true);const f=s.readString();s.clear();if(f===undefined){return o(e,"Inbound: Malformed DEBUG packet")}e._debug&&e._debug("Inbound: Received DEBUG");const u=e._handlers.DEBUG;u&&u(e,n,i)},[p.SERVICE_REQUEST]:(e,t)=>{s.init(t,1);const n=s.readString(true);s.clear();if(n===undefined){return o(e,"Inbound: Malformed SERVICE_REQUEST packet")}e._debug&&e._debug(`Inbound: Received SERVICE_REQUEST (${n})`);const i=e._handlers.SERVICE_REQUEST;i&&i(e,n)},[p.SERVICE_ACCEPT]:(e,t)=>{s.init(t,1);const n=s.readString(true);s.clear();if(n===undefined){return o(e,"Inbound: Malformed SERVICE_ACCEPT packet")}e._debug&&e._debug(`Inbound: Received SERVICE_ACCEPT (${n})`);const i=e._handlers.SERVICE_ACCEPT;i&&i(e,n)},[p.USERAUTH_REQUEST]:(e,t)=>{s.init(t,1);const n=s.readString(true);const l=s.readString(true);const h=s.readString(true);let p;let g;switch(h){case"none":p=null;break;case"password":{const e=s.readBool();if(e!==undefined){p=s.readString(true);if(p!==undefined&&e){const e=s.readString(true);if(e!==undefined)p={oldPassword:p,newPassword:e};else p=undefined}}break}case"publickey":{const n=s.readBool();if(n!==undefined){const o=s.readString(true);const l=s.readString();if(n){const n=s.pos();let h=s.readString();if(h!==undefined){if(h.length>4+o.length+4&&h.utf8Slice(4,4+o.length)===o){h=i(h,4+o.length+4)}h=f(h,o);if(h){const i=e._kex.sessionID;const s=Buffer.allocUnsafe(4+i.length+n);u(s,i.length,0);s.set(i,4);s.set(new Uint8Array(t.buffer,t.byteOffset,n),4+i.length);p={keyAlgo:o,key:l,signature:h,blob:s}}}}else{p={keyAlgo:o,key:l};g="publickey -- check"}}break}case"hostbased":{const n=s.readString(true);const o=s.readString();const l=s.readString(true);const h=s.readString(true);const g=s.pos();let _=s.readString();if(_!==undefined){if(_.length>4+n.length+4&&_.utf8Slice(4,4+n.length)===n){_=i(_,4+n.length+4)}_=f(_,n);if(_!==undefined){const i=e._kex.sessionID;const s=Buffer.allocUnsafe(4+i.length+g);u(s,i.length,0);s.set(i,4);s.set(new Uint8Array(t.buffer,t.byteOffset,g),4+i.length);p={keyAlgo:n,key:o,signature:_,blob:s,localHostname:l,localUsername:h}}}break}case"keyboard-interactive":s.skipString();p=s.readList();break;default:if(h!==undefined)p=s.readRaw()}s.clear();if(p===undefined){return o(e,"Inbound: Malformed USERAUTH_REQUEST packet")}if(g===undefined)g=h;e._authsQueue.push(h);e._debug&&e._debug(`Inbound: Received USERAUTH_REQUEST (${g})`);const _=e._handlers.USERAUTH_REQUEST;_&&_(e,n,l,h,p)},[p.USERAUTH_FAILURE]:(e,t)=>{s.init(t,1);const n=s.readList();const i=s.readBool();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_FAILURE packet")}e._debug&&e._debug(`Inbound: Received USERAUTH_FAILURE (${n})`);e._authsQueue.shift();const f=e._handlers.USERAUTH_FAILURE;f&&f(e,n,i)},[p.USERAUTH_SUCCESS]:(e,t)=>{e._debug&&e._debug("Inbound: Received USERAUTH_SUCCESS");e._authsQueue.shift();const n=e._handlers.USERAUTH_SUCCESS;n&&n(e)},[p.USERAUTH_BANNER]:(e,t)=>{s.init(t,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_BANNER packet")}e._debug&&e._debug("Inbound: Received USERAUTH_BANNER");const f=e._handlers.USERAUTH_BANNER;f&&f(e,n)},60:(e,t)=>{if(!e._authsQueue.length){e._debug&&e._debug("Inbound: Received payload type 60 without auth");return}switch(e._authsQueue[0]){case"password":{s.init(t,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_PASSWD_CHANGEREQ packet")}e._debug&&e._debug("Inbound: Received USERAUTH_PASSWD_CHANGEREQ");const f=e._handlers.USERAUTH_PASSWD_CHANGEREQ;f&&f(e,n);break}case"publickey":{s.init(t,1);const n=s.readString(true);const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_PK_OK packet")}e._debug&&e._debug("Inbound: Received USERAUTH_PK_OK");e._authsQueue.shift();const f=e._handlers.USERAUTH_PK_OK;f&&f(e,n,i);break}case"keyboard-interactive":{s.init(t,1);const n=s.readString(true);const i=s.readString(true);s.readString();const f=s.readUInt32BE();let u;if(f!==undefined){u=new Array(f);let e;for(e=0;e<f;++e){const t=s.readString(true);const n=s.readBool();if(n===undefined)break;u[e]={prompt:t,echo:n}}if(e!==f)u=undefined}s.clear();if(u===undefined){return o(e,"Inbound: Malformed USERAUTH_INFO_REQUEST packet")}e._debug&&e._debug("Inbound: Received USERAUTH_INFO_REQUEST");const l=e._handlers.USERAUTH_INFO_REQUEST;l&&l(e,n,i,u);break}default:e._debug&&e._debug("Inbound: Received unexpected payload type 60")}},61:(e,t)=>{if(!e._authsQueue.length){e._debug&&e._debug("Inbound: Received payload type 61 without auth");return}if(e._authsQueue[0]!=="keyboard-interactive"){return o(e,"Inbound: Received unexpected payload type 61")}s.init(t,1);const n=s.readUInt32BE();let i;if(n!==undefined){i=new Array(n);let e;for(e=0;e<n;++e){const t=s.readString(true);if(t===undefined)break;i[e]=t}if(e!==n)i=undefined}s.clear();if(i===undefined){return o(e,"Inbound: Malformed USERAUTH_INFO_RESPONSE packet")}e._debug&&e._debug("Inbound: Received USERAUTH_INFO_RESPONSE");const f=e._handlers.USERAUTH_INFO_RESPONSE;f&&f(e,i)},[p.GLOBAL_REQUEST]:(e,t)=>{s.init(t,1);const n=s.readString(true);const i=s.readBool();let f;if(i!==undefined){switch(n){case"tcpip-forward":case"cancel-tcpip-forward":{const e=s.readString(true);const t=s.readUInt32BE();if(t!==undefined)f={bindAddr:e,bindPort:t};break}case"streamlocal-forward@openssh.com":case"cancel-streamlocal-forward@openssh.com":{const e=s.readString(true);if(e!==undefined)f={socketPath:e};break}case"no-more-sessions@openssh.com":f=null;break;case"hostkeys-00@openssh.com":{f=[];while(s.avail()>0){const e=s.readString();if(e===undefined){f=undefined;break}const t=_(e);if(!(t instanceof Error))f.push(t)}break}default:f=s.readRaw()}}s.clear();if(f===undefined){return o(e,"Inbound: Malformed GLOBAL_REQUEST packet")}e._debug&&e._debug(`Inbound: GLOBAL_REQUEST (${n})`);const u=e._handlers.GLOBAL_REQUEST;if(u)u(e,n,i,f);else e.requestFailure()},[p.REQUEST_SUCCESS]:(e,t)=>{const n=t.length>1?i(t,1):null;e._debug&&e._debug("Inbound: REQUEST_SUCCESS");const s=e._handlers.REQUEST_SUCCESS;s&&s(e,n)},[p.REQUEST_FAILURE]:(e,t)=>{e._debug&&e._debug("Inbound: Received REQUEST_FAILURE");const n=e._handlers.REQUEST_FAILURE;n&&n(e)},[p.CHANNEL_OPEN]:(e,t)=>{s.init(t,1);const n=s.readString(true);const i=s.readUInt32BE();const f=s.readUInt32BE();const u=s.readUInt32BE();let h;switch(n){case"forwarded-tcpip":case"direct-tcpip":{const e=s.readString(true);const t=s.readUInt32BE();const o=s.readString(true);const l=s.readUInt32BE();if(l!==undefined){h={type:n,sender:i,window:f,packetSize:u,data:{destIP:e,destPort:t,srcIP:o,srcPort:l}}}break}case"forwarded-streamlocal@openssh.com":case"direct-streamlocal@openssh.com":{const e=s.readString(true);if(e!==undefined){h={type:n,sender:i,window:f,packetSize:u,data:{socketPath:e}}}break}case"x11":{const e=s.readString(true);const t=s.readUInt32BE();if(t!==undefined){h={type:n,sender:i,window:f,packetSize:u,data:{srcIP:e,srcPort:t}}}break}default:h={type:n,sender:i,window:f,packetSize:u,data:{}}}s.clear();if(h===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN (s:${i}, ${n})`);const p=e._handlers.CHANNEL_OPEN;if(p){p(e,h)}else{e.channelOpenFail(h.sender,l.ADMINISTRATIVELY_PROHIBITED,"","")}},[p.CHANNEL_OPEN_CONFIRMATION]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const f=s.readUInt32BE();const u=s.readUInt32BE();const l=s.avail()?s.readRaw():undefined;s.clear();if(u===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN_CONFIRMATION packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN_CONFIRMATION (r:${n}, s:${i})`);const h=e._handlers.CHANNEL_OPEN_CONFIRMATION;if(h)h(e,{recipient:n,sender:i,window:f,packetSize:u,data:l})},[p.CHANNEL_OPEN_FAILURE]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const f=s.readString(true);const u=s.readString();s.clear();if(u===undefined){return o(e,"Inbound: Malformed CHANNEL_OPEN_FAILURE packet")}e._debug&&e._debug(`Inbound: CHANNEL_OPEN_FAILURE (r:${n})`);const l=e._handlers.CHANNEL_OPEN_FAILURE;l&&l(e,n,i,f)},[p.CHANNEL_WINDOW_ADJUST]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readUInt32BE();s.clear();if(i===undefined){return o(e,"Inbound: Malformed CHANNEL_WINDOW_ADJUST packet")}e._debug&&e._debug(`Inbound: CHANNEL_WINDOW_ADJUST (r:${n}, ${i})`);const f=e._handlers.CHANNEL_WINDOW_ADJUST;f&&f(e,n,i)},[p.CHANNEL_DATA]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readString();s.clear();if(i===undefined){return o(e,"Inbound: Malformed CHANNEL_DATA packet")}e._debug&&e._debug(`Inbound: CHANNEL_DATA (r:${n}, ${i.length})`);const f=e._handlers.CHANNEL_DATA;f&&f(e,n,i)},[p.CHANNEL_EXTENDED_DATA]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readUInt32BE();const f=s.readString();s.clear();if(f===undefined){return o(e,"Inbound: Malformed CHANNEL_EXTENDED_DATA packet")}e._debug&&e._debug(`Inbound: CHANNEL_EXTENDED_DATA (r:${n}, ${f.length})`);const u=e._handlers.CHANNEL_EXTENDED_DATA;u&&u(e,n,f,i)},[p.CHANNEL_EOF]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_EOF packet")}e._debug&&e._debug(`Inbound: CHANNEL_EOF (r:${n})`);const i=e._handlers.CHANNEL_EOF;i&&i(e,n)},[p.CHANNEL_CLOSE]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_CLOSE packet")}e._debug&&e._debug(`Inbound: CHANNEL_CLOSE (r:${n})`);const i=e._handlers.CHANNEL_CLOSE;i&&i(e,n)},[p.CHANNEL_REQUEST]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();const i=s.readString(true);const f=s.readBool();let u;if(f!==undefined){switch(i){case"exit-status":u=s.readUInt32BE();e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${u})`);break;case"exit-signal":{let t;let o;if(e._compatFlags&h.OLD_EXIT){const e=s.readUInt32BE();switch(e){case 1:t="HUP";break;case 2:t="INT";break;case 3:t="QUIT";break;case 6:t="ABRT";break;case 9:t="KILL";break;case 14:t="ALRM";break;case 15:t="TERM";break;default:if(e!==undefined){t=`UNKNOWN (${e})`}}o=false}else{t=s.readString(true);o=s.readBool();if(o===undefined)t=undefined}const f=s.readString(true);if(s.skipString()!==undefined)u={signal:t,coreDumped:o,errorMessage:f};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${t})`);break}case"pty-req":{const t=s.readString(true);const o=s.readUInt32BE();const f=s.readUInt32BE();const l=s.readUInt32BE();const h=s.readUInt32BE();const p=s.readString();if(p!==undefined){s.init(p,1);let e={};while(s.avail()){const t=s.readByte();if(t===g.TTY_OP_END)break;const n=E[t];const i=s.readUInt32BE();if(t===undefined||n===undefined||i===undefined){e=undefined;break}e[n]=i}if(e!==undefined)u={term:t,cols:o,rows:f,width:l,height:h,modes:e}}e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"window-change":{const t=s.readUInt32BE();const o=s.readUInt32BE();const f=s.readUInt32BE();const l=s.readUInt32BE();if(l!==undefined)u={cols:t,rows:o,width:f,height:l};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"x11-req":{const t=s.readBool();const o=s.readString(true);const f=s.readString();const l=s.readUInt32BE();if(l!==undefined)u={single:t,protocol:o,cookie:f,screen:l};e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break}case"env":{const t=s.readString(true);const o=s.readString(true);if(o!==undefined)u={name:t,value:o};if(e._debug){e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: `+`${t}=${o})`)}break}case"shell":u=null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break;case"exec":u=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${u})`);break;case"subsystem":u=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${u})`);break;case"signal":u=s.readString(true);e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${u})`);break;case"xon-xoff":u=s.readBool();e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i}: ${u})`);break;case"auth-agent-req@openssh.com":u=null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`);break;default:u=s.avail()?s.readRaw():null;e._debug&&e._debug(`Inbound: CHANNEL_REQUEST (r:${n}, ${i})`)}}s.clear();if(u===undefined){return o(e,"Inbound: Malformed CHANNEL_REQUEST packet")}const l=e._handlers.CHANNEL_REQUEST;l&&l(e,n,i,f,u)},[p.CHANNEL_SUCCESS]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_SUCCESS packet")}e._debug&&e._debug(`Inbound: CHANNEL_SUCCESS (r:${n})`);const i=e._handlers.CHANNEL_SUCCESS;i&&i(e,n)},[p.CHANNEL_FAILURE]:(e,t)=>{s.init(t,1);const n=s.readUInt32BE();s.clear();if(n===undefined){return o(e,"Inbound: Malformed CHANNEL_FAILURE packet")}e._debug&&e._debug(`Inbound: CHANNEL_FAILURE (r:${n})`);const i=e._handlers.CHANNEL_FAILURE;i&&i(e,n)}}},4782:(e,t,n)=>{"use strict";const{createDiffieHellman:i,createDiffieHellmanGroup:s,createECDH:o,createHash:f,createPublicKey:u,diffieHellman:l,generateKeyPairSync:h,randomFillSync:p}=n(6113);const{Ber:g}=n(5390);const{COMPAT:_,curve25519Supported:E,DEFAULT_KEX:b,DEFAULT_SERVER_HOST_KEY:y,DEFAULT_CIPHER:m,DEFAULT_MAC:w,DEFAULT_COMPRESSION:I,DISCONNECT_REASON:C,MESSAGE:v}=n(2246);const{CIPHER_INFO:B,createCipher:k,createDecipher:R,MAC_INFO:T}=n(8822);const{parseDERKey:O}=n(2481);const{bufferFill:P,bufferParser:D,convertSignature:U,doFatalError:L,FastBuffer:x,sigSSHToASN1:Q,writeUInt32BE:W}=n(8526);const{PacketReader:q,PacketWriter:$,ZlibPacketReader:j,ZlibPacketWriter:G}=n(923);let Y;const V=2048;const z=8192;const J=Buffer.alloc(0);function kexinit(e){let t;if(e._compatFlags&_.BAD_DHGEX){const n=e._offer.lists.kex;let i=n.array;let s=false;for(let e=0;e<i.length;++e){if(i[e].indexOf("group-exchange")!==-1){if(!s){s=true;i=i.slice()}i.splice(e--,1)}}if(s){let s=1+16+e._offer.totalSize+1+4;const o=Buffer.from(i.join(","));s-=n.buffer.length-o.length;const f=e._offer.lists.all;const u=new Uint8Array(f.buffer,f.byteOffset+4+n.buffer.length,f.length-(4+n.buffer.length));t=Buffer.allocUnsafe(s);W(t,o.length,0);t.set(o,4);t.set(u,4+o.length)}}if(t===undefined){t=Buffer.allocUnsafe(1+16+e._offer.totalSize+1+4);e._offer.copyAllTo(t,17)}e._debug&&e._debug("Outbound: Sending KEXINIT");t[0]=v.KEXINIT;p(t,1,16);P(t,0,t.length-5);e._kexinit=t;e._packetRW.write.allocStart=0;{const n=e._packetRW.write.allocStartKEX;const i=e._packetRW.write.alloc(t.length,true);i.set(t,n);e._cipher.encrypt(e._packetRW.write.finalize(i,true))}}function handleKexInit(e,t){const n={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},sc:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined}};D.init(t,17);if((n.kex=D.readList())===undefined||(n.serverHostKey=D.readList())===undefined||(n.cs.cipher=D.readList())===undefined||(n.sc.cipher=D.readList())===undefined||(n.cs.mac=D.readList())===undefined||(n.sc.mac=D.readList())===undefined||(n.cs.compress=D.readList())===undefined||(n.sc.compress=D.readList())===undefined||(n.cs.lang=D.readList())===undefined||(n.sc.lang=D.readList())===undefined){D.clear();return L(e,"Received malformed KEXINIT","handshake",C.KEY_EXCHANGE_FAILED)}const i=D.pos();const s=i<t.length&&t[i]===1;D.clear();const o=e._offer;const f=n;let u=o.lists.kex.array;if(e._compatFlags&_.BAD_DHGEX){let e=false;for(let t=0;t<u.length;++t){if(u[t].indexOf("group-exchange")!==-1){if(!e){e=true;u=u.slice()}u.splice(t--,1)}}}let l;let h;let p;const g=e._debug;g&&g("Inbound: Handshake in progress");g&&g(`Handshake: (local) KEX method: ${u}`);g&&g(`Handshake: (remote) KEX method: ${f.kex}`);if(e._server){h=u;l=f.kex}else{h=f.kex;l=u}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching key exchange algorithm");return L(e,"Handshake failed: no matching key exchange algorithm","handshake",C.KEY_EXCHANGE_FAILED)}n.kex=l[p];g&&g(`Handshake: KEX algorithm: ${l[p]}`);if(s&&(!f.kex.length||l[p]!==f.kex[0])){e._skipNextInboundPacket=true}const E=o.lists.serverHostKey.array;g&&g(`Handshake: (local) Host key format: ${E}`);g&&g(`Handshake: (remote) Host key format: ${f.serverHostKey}`);if(e._server){h=E;l=f.serverHostKey}else{h=f.serverHostKey;l=E}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching host key format");return L(e,"Handshake failed: no matching host key format","handshake",C.KEY_EXCHANGE_FAILED)}n.serverHostKey=l[p];g&&g(`Handshake: Host key format: ${l[p]}`);const b=o.lists.cs.cipher.array;g&&g(`Handshake: (local) C->S cipher: ${b}`);g&&g(`Handshake: (remote) C->S cipher: ${f.cs.cipher}`);if(e._server){h=b;l=f.cs.cipher}else{h=f.cs.cipher;l=b}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching C->S cipher");return L(e,"Handshake failed: no matching C->S cipher","handshake",C.KEY_EXCHANGE_FAILED)}n.cs.cipher=l[p];g&&g(`Handshake: C->S Cipher: ${l[p]}`);const y=o.lists.sc.cipher.array;g&&g(`Handshake: (local) S->C cipher: ${y}`);g&&g(`Handshake: (remote) S->C cipher: ${f.sc.cipher}`);if(e._server){h=y;l=f.sc.cipher}else{h=f.sc.cipher;l=y}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching S->C cipher");return L(e,"Handshake failed: no matching S->C cipher","handshake",C.KEY_EXCHANGE_FAILED)}n.sc.cipher=l[p];g&&g(`Handshake: S->C cipher: ${l[p]}`);const m=o.lists.cs.mac.array;g&&g(`Handshake: (local) C->S MAC: ${m}`);g&&g(`Handshake: (remote) C->S MAC: ${f.cs.mac}`);if(B[n.cs.cipher].authLen>0){n.cs.mac="";g&&g("Handshake: C->S MAC: <implicit>")}else{if(e._server){h=m;l=f.cs.mac}else{h=f.cs.mac;l=m}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching C->S MAC");return L(e,"Handshake failed: no matching C->S MAC","handshake",C.KEY_EXCHANGE_FAILED)}n.cs.mac=l[p];g&&g(`Handshake: C->S MAC: ${l[p]}`)}const w=o.lists.sc.mac.array;g&&g(`Handshake: (local) S->C MAC: ${w}`);g&&g(`Handshake: (remote) S->C MAC: ${f.sc.mac}`);if(B[n.sc.cipher].authLen>0){n.sc.mac="";g&&g("Handshake: S->C MAC: <implicit>")}else{if(e._server){h=w;l=f.sc.mac}else{h=f.sc.mac;l=w}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching S->C MAC");return L(e,"Handshake failed: no matching S->C MAC","handshake",C.KEY_EXCHANGE_FAILED)}n.sc.mac=l[p];g&&g(`Handshake: S->C MAC: ${l[p]}`)}const I=o.lists.cs.compress.array;g&&g(`Handshake: (local) C->S compression: ${I}`);g&&g(`Handshake: (remote) C->S compression: ${f.cs.compress}`);if(e._server){h=I;l=f.cs.compress}else{h=f.cs.compress;l=I}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching C->S compression");return L(e,"Handshake failed: no matching C->S compression","handshake",C.KEY_EXCHANGE_FAILED)}n.cs.compress=l[p];g&&g(`Handshake: C->S compression: ${l[p]}`);const v=o.lists.sc.compress.array;g&&g(`Handshake: (local) S->C compression: ${v}`);g&&g(`Handshake: (remote) S->C compression: ${f.sc.compress}`);if(e._server){h=v;l=f.sc.compress}else{h=f.sc.compress;l=v}for(p=0;p<l.length&&h.indexOf(l[p])===-1;++p);if(p===l.length){g&&g("Handshake: No matching S->C compression");return L(e,"Handshake failed: no matching S->C compression","handshake",C.KEY_EXCHANGE_FAILED)}n.sc.compress=l[p];g&&g(`Handshake: S->C compression: ${l[p]}`);n.cs.lang="";n.sc.lang="";if(e._kex){if(!e._kexinit){kexinit(e)}e._decipher._onPayload=onKEXPayload.bind(e,{firstPacket:false})}e._kex=ee(n,e,t);e._kex.start()}const ee=(()=>{function convertToMpint(e){let t=0;let n=e.length;while(e[t]===0){++t;--n}let i;if(e[t]&128){i=Buffer.allocUnsafe(1+n);i[0]=0;e.copy(i,1,t);e=i}else if(n!==e.length){i=Buffer.allocUnsafe(n);e.copy(i,0,t);e=i}return e}class KeyExchange{constructor(e,t,n){this._protocol=t;this.sessionID=t._kex?t._kex.sessionID:undefined;this.negotiated=e;this._step=1;this._public=null;this._dh=null;this._sentNEWKEYS=false;this._receivedNEWKEYS=false;this._finished=false;this._hostVerified=false;this._kexinit=t._kexinit;this._remoteKexinit=n;this._identRaw=t._identRaw;this._remoteIdentRaw=t._remoteIdentRaw;this._hostKey=undefined;this._dhData=undefined;this._sig=undefined}finish(){if(this._finished)return false;this._finished=true;const e=this._protocol._server;const t=this.negotiated;const n=this.convertPublicKey(this._dhData);let i=this.computeSecret(this._dhData);if(i instanceof Error){i.message=`Error while computing DH secret (${this.type}): ${i.message}`;i.level="handshake";return L(this._protocol,i,C.KEY_EXCHANGE_FAILED)}const s=f(this.hashName);re(s,e?this._remoteIdentRaw:this._identRaw);re(s,e?this._identRaw:this._remoteIdentRaw);re(s,e?this._remoteKexinit:this._kexinit);re(s,e?this._kexinit:this._remoteKexinit);const o=e?this._hostKey.getPublicSSH():this._hostKey;re(s,o);if(this.type==="groupex"){const e=this.getDHParams();const t=Buffer.allocUnsafe(4);W(t,this._minBits,0);s.update(t);W(t,this._prefBits,0);s.update(t);W(t,this._maxBits,0);s.update(t);re(s,e.prime);re(s,e.generator)}re(s,e?n:this.getPublicKey());const u=e?this.getPublicKey():n;re(s,u);re(s,i);const l=s.digest();if(!e){D.init(this._sig,0);const e=D.readString(true);if(!e){return L(this._protocol,"Malformed packet while reading signature","handshake",C.KEY_EXCHANGE_FAILED)}if(e!==t.serverHostKey){return L(this._protocol,`Wrong signature type: ${e}, `+`expected: ${t.serverHostKey}`,"handshake",C.KEY_EXCHANGE_FAILED)}let n=D.readString();D.clear();if(n===undefined){return L(this._protocol,"Malformed packet while reading signature","handshake",C.KEY_EXCHANGE_FAILED)}if(!(n=Q(n,e))){return L(this._protocol,"Malformed signature","handshake",C.KEY_EXCHANGE_FAILED)}let i;{D.init(this._hostKey,0);const e=D.readString(true);const t=this._hostKey.slice(D.pos());D.clear();i=O(t,e);if(i instanceof Error){i.level="handshake";return L(this._protocol,i,C.KEY_EXCHANGE_FAILED)}}let s;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":s="sha256";break;case"rsa-sha2-512":s="sha512";break}this._protocol._debug&&this._protocol._debug("Verifying signature ...");const o=i.verify(l,n,s);if(o!==true){if(o instanceof Error){this._protocol._debug&&this._protocol._debug(`Signature verification failed: ${o.stack}`)}else{this._protocol._debug&&this._protocol._debug("Signature verification failed")}return L(this._protocol,"Handshake failed: signature verification failed","handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Verified signature")}else{let e;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":e="sha256";break;case"rsa-sha2-512":e="sha512";break}this._protocol._debug&&this._protocol._debug("Generating signature ...");let t=this._hostKey.sign(l,e);if(t instanceof Error){return L(this._protocol,"Handshake failed: signature generation failed for "+`${this._hostKey.type} host key: ${t.message}`,"handshake",C.KEY_EXCHANGE_FAILED)}t=U(t,this._hostKey.type);if(t===false){return L(this._protocol,"Handshake failed: signature conversion failed for "+`${this._hostKey.type} host key`,"handshake",C.KEY_EXCHANGE_FAILED)}const n=this.negotiated.serverHostKey;const i=Buffer.byteLength(n);const s=4+i+4+t.length;let f=this._protocol._packetRW.write.allocStartKEX;const h=this._protocol._packetRW.write.alloc(1+4+o.length+4+u.length+4+s,true);h[f]=v.KEXDH_REPLY;W(h,o.length,++f);h.set(o,f+=4);W(h,u.length,f+=o.length);h.set(u,f+=4);W(h,s,f+=u.length);W(h,i,f+=4);h.utf8Write(n,f+=4,i);W(h,t.length,f+=i);h.set(t,f+=4);if(this._protocol._debug){let e;switch(this.type){case"group":e="KEXDH_REPLY";break;case"groupex":e="KEXDH_GEX_REPLY";break;default:e="KEXECDH_REPLY"}this._protocol._debug(`Outbound: Sending ${e}`)}this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(h,true))}trySendNEWKEYS(this);const completeHandshake=()=>{if(!this.sessionID)this.sessionID=l;{const e=Buffer.allocUnsafe(4+i.length);W(e,i.length,0);e.set(i,4);i=e}const n=B[t.cs.cipher];const s=B[t.sc.cipher];const o=generateKEXVal(n.ivLen,this.hashName,i,l,this.sessionID,"A");const f=generateKEXVal(s.ivLen,this.hashName,i,l,this.sessionID,"B");const u=generateKEXVal(n.keyLen,this.hashName,i,l,this.sessionID,"C");const h=generateKEXVal(s.keyLen,this.hashName,i,l,this.sessionID,"D");let p;let g;if(!n.authLen){p=T[t.cs.mac];g=generateKEXVal(p.len,this.hashName,i,l,this.sessionID,"E")}let _;let E;if(!s.authLen){_=T[t.sc.mac];E=generateKEXVal(_.len,this.hashName,i,l,this.sessionID,"F")}const b={inbound:{onPayload:this._protocol._onPayload,seqno:this._protocol._decipher.inSeqno,decipherInfo:!e?s:n,decipherIV:!e?f:o,decipherKey:!e?h:u,macInfo:!e?_:p,macKey:!e?E:g},outbound:{onWrite:this._protocol._onWrite,seqno:this._protocol._cipher.outSeqno,cipherInfo:e?s:n,cipherIV:e?f:o,cipherKey:e?h:u,macInfo:e?_:p,macKey:e?E:g}};this._protocol._cipher&&this._protocol._cipher.free();this._protocol._decipher&&this._protocol._decipher.free();this._protocol._cipher=k(b);this._protocol._decipher=R(b);const y={read:undefined,write:undefined};switch(t.cs.compress){case"zlib":if(e)y.read=new j;else y.write=new G(this._protocol);break;case"zlib@openssh.com":if(this._protocol._authenticated){if(e)y.read=new j;else y.write=new G(this._protocol);break}default:if(e)y.read=new q;else y.write=new $(this._protocol)}switch(t.sc.compress){case"zlib":if(e)y.write=new G(this._protocol);else y.read=new j;break;case"zlib@openssh.com":if(this._protocol._authenticated){if(e)y.write=new G(this._protocol);else y.read=new j;break}default:if(e)y.write=new $(this._protocol);else y.read=new q}this._protocol._packetRW.read.cleanup();this._protocol._packetRW.write.cleanup();this._protocol._packetRW=y;this._public=null;this._dh=null;this._kexinit=this._protocol._kexinit=undefined;this._remoteKexinit=undefined;this._identRaw=undefined;this._remoteIdentRaw=undefined;this._hostKey=undefined;this._dhData=undefined;this._sig=undefined;this._protocol._onHandshakeComplete(t);return false};if(!e)return completeHandshake();this.finish=completeHandshake}start(){if(!this._protocol._server){if(this._protocol._debug){let e;switch(this.type){case"group":e="KEXDH_INIT";break;default:e="KEXECDH_INIT"}this._protocol._debug(`Outbound: Sending ${e}`)}const e=this.getPublicKey();let t=this._protocol._packetRW.write.allocStartKEX;const n=this._protocol._packetRW.write.alloc(1+4+e.length,true);n[t]=v.KEXDH_INIT;W(n,e.length,++t);n.set(e,t+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(n,true))}}getPublicKey(){this.generateKeys();const e=this._public;if(e)return this.convertPublicKey(e)}convertPublicKey(e){let t;let n=0;let i=e.length;while(e[n]===0){++n;--i}if(e[n]&128){t=Buffer.allocUnsafe(1+i);t[0]=0;e.copy(t,1,n);return t}if(i!==e.length){t=Buffer.allocUnsafe(i);e.copy(t,0,n);e=t}return e}computeSecret(e){this.generateKeys();try{return convertToMpint(this._dh.computeSecret(e))}catch(e){return e}}parse(e){const t=e[0];switch(this._step){case 1:if(this._protocol._server){if(t!==v.KEXDH_INIT){return L(this._protocol,`Received packet ${t} instead of ${v.KEXDH_INIT}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH Init");D.init(e,1);const n=D.readString();D.clear();if(n===undefined){return L(this._protocol,"Received malformed KEX*_INIT","handshake",C.KEY_EXCHANGE_FAILED)}this._dhData=n;let i=this._protocol._hostKeys[this.negotiated.serverHostKey];if(Array.isArray(i))i=i[0];this._hostKey=i;this.finish()}else{if(t!==v.KEXDH_REPLY){return L(this._protocol,`Received packet ${t} instead of ${v.KEXDH_REPLY}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH Reply");D.init(e,1);let n;let i;let s;if((n=D.readString())===undefined||(i=D.readString())===undefined||(s=D.readString())===undefined){D.clear();return L(this._protocol,"Received malformed KEX*_REPLY","handshake",C.KEY_EXCHANGE_FAILED)}D.clear();D.init(n,0);const o=D.readString(true);D.clear();if(o===undefined){return L(this._protocol,"Received malformed host public key","handshake",C.KEY_EXCHANGE_FAILED)}if(o!==this.negotiated.serverHostKey){switch(this.negotiated.serverHostKey){case"rsa-sha2-256":case"rsa-sha2-512":if(o==="ssh-rsa")break;default:return L(this._protocol,"Host key does not match negotiated type","handshake",C.KEY_EXCHANGE_FAILED)}}this._hostKey=n;this._dhData=i;this._sig=s;let f=false;let u;if(this._protocol._hostVerifier===undefined){u=true;this._protocol._debug&&this._protocol._debug("Host accepted by default (no verification)")}else{u=this._protocol._hostVerifier(n,(e=>{if(f)return;f=true;if(e===false){this._protocol._debug&&this._protocol._debug("Host denied (verification failed)");return L(this._protocol,"Host denied (verification failed)","handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Host accepted (verified)");this._hostVerified=true;if(this._receivedNEWKEYS)this.finish();else trySendNEWKEYS(this)}))}if(u===undefined){++this._step;return}f=true;if(u===false){this._protocol._debug&&this._protocol._debug("Host denied (verification failed)");return L(this._protocol,"Host denied (verification failed)","handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Host accepted (verified)");this._hostVerified=true;trySendNEWKEYS(this)}++this._step;break;case 2:if(t!==v.NEWKEYS){return L(this._protocol,`Received packet ${t} instead of ${v.NEWKEYS}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Inbound: NEWKEYS");this._receivedNEWKEYS=true;++this._step;if(this._protocol._server||this._hostVerified)return this.finish();return false;default:return L(this._protocol,`Received unexpected packet ${t} after NEWKEYS`,"handshake",C.KEY_EXCHANGE_FAILED)}}}class Curve25519Exchange extends KeyExchange{constructor(e,...t){super(...t);this.type="25519";this.hashName=e;this._keys=null}generateKeys(){if(!this._keys)this._keys=h("x25519")}getPublicKey(){this.generateKeys();const e=this._keys.publicKey.export({type:"spki",format:"der"});return e.slice(-32)}convertPublicKey(e){let t;let n=0;let i=e.length;while(e[n]===0){++n;--i}if(e.length===32)return e;if(i!==e.length){t=Buffer.allocUnsafe(i);e.copy(t,0,n);e=t}return e}computeSecret(e){this.generateKeys();try{const t=new g.Writer;t.startSequence();t.startSequence();t.writeOID("1.3.101.110");t.endSequence();t.startSequence(g.BitString);t.writeByte(0);t._ensure(e.length);e.copy(t._buf,t._offset,0,e.length);t._offset+=e.length;t.endSequence();t.endSequence();return convertToMpint(l({privateKey:this._keys.privateKey,publicKey:u({key:t.buffer,type:"spki",format:"der"})}))}catch(e){return e}}}class ECDHExchange extends KeyExchange{constructor(e,t,...n){super(...n);this.type="ecdh";this.curveName=e;this.hashName=t}generateKeys(){if(!this._dh){this._dh=o(this.curveName);this._public=this._dh.generateKeys()}}}class DHGroupExchange extends KeyExchange{constructor(e,...t){super(...t);this.type="groupex";this.hashName=e;this._prime=null;this._generator=null;this._minBits=V;this._prefBits=dhEstimate(this.negotiated);if(this._protocol._compatFlags&_.BUG_DHGEX_LARGE)this._prefBits=Math.min(this._prefBits,4096);this._maxBits=z}start(){if(this._protocol._server)return;this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_REQUEST");let e=this._protocol._packetRW.write.allocStartKEX;const t=this._protocol._packetRW.write.alloc(1+4+4+4,true);t[e]=v.KEXDH_GEX_REQUEST;W(t,this._minBits,++e);W(t,this._prefBits,e+=4);W(t,this._maxBits,e+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(t,true))}generateKeys(){if(!this._dh&&this._prime&&this._generator){this._dh=i(this._prime,this._generator);this._public=this._dh.generateKeys()}}setDHParams(e,t){if(!Buffer.isBuffer(e))throw new Error("Invalid prime value");if(!Buffer.isBuffer(t))throw new Error("Invalid generator value");this._prime=e;this._generator=t}getDHParams(){if(this._dh){return{prime:convertToMpint(this._dh.getPrime()),generator:convertToMpint(this._dh.getGenerator())}}}parse(e){const t=e[0];switch(this._step){case 1:if(this._protocol._server){if(t!==v.KEXDH_GEX_REQUEST){return L(this._protocol,`Received packet ${t} instead of `+v.KEXDH_GEX_REQUEST,"handshake",C.KEY_EXCHANGE_FAILED)}return L(this._protocol,"Group exchange not implemented for server","handshake",C.KEY_EXCHANGE_FAILED)}if(t!==v.KEXDH_GEX_GROUP){return L(this._protocol,`Received packet ${t} instead of ${v.KEXDH_GEX_GROUP}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Group");D.init(e,1);let n;let i;if((n=D.readString())===undefined||(i=D.readString())===undefined){D.clear();return L(this._protocol,"Received malformed KEXDH_GEX_GROUP","handshake",C.KEY_EXCHANGE_FAILED)}D.clear();this.setDHParams(n,i);this.generateKeys();const s=this.getPublicKey();this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_INIT");let o=this._protocol._packetRW.write.allocStartKEX;const f=this._protocol._packetRW.write.alloc(1+4+s.length,true);f[o]=v.KEXDH_GEX_INIT;W(f,s.length,++o);f.set(s,o+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(f,true));++this._step;break;case 2:if(this._protocol._server){if(t!==v.KEXDH_GEX_INIT){return L(this._protocol,`Received packet ${t} instead of ${v.KEXDH_GEX_INIT}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Init");return L(this._protocol,"Group exchange not implemented for server","handshake",C.KEY_EXCHANGE_FAILED)}else if(t!==v.KEXDH_GEX_REPLY){return L(this._protocol,`Received packet ${t} instead of ${v.KEXDH_GEX_REPLY}`,"handshake",C.KEY_EXCHANGE_FAILED)}this._protocol._debug&&this._protocol._debug("Received DH GEX Reply");this._step=1;e[0]=v.KEXDH_REPLY;this.parse=KeyExchange.prototype.parse;this.parse(e)}}}class DHExchange extends KeyExchange{constructor(e,t,...n){super(...n);this.type="group";this.groupName=e;this.hashName=t}start(){if(!this._protocol._server){this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_INIT");const e=this.getPublicKey();let t=this._protocol._packetRW.write.allocStartKEX;const n=this._protocol._packetRW.write.alloc(1+4+e.length,true);n[t]=v.KEXDH_INIT;W(n,e.length,++t);n.set(e,t+=4);this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(n,true))}}generateKeys(){if(!this._dh){this._dh=s(this.groupName);this._public=this._dh.generateKeys()}}getDHParams(){if(this._dh){return{prime:convertToMpint(this._dh.getPrime()),generator:convertToMpint(this._dh.getGenerator())}}}}return(e,...t)=>{if(typeof e!=="object"||e===null)throw new Error("Invalid negotiated argument");const n=e.kex;if(typeof n==="string"){t=[e,...t];switch(n){case"curve25519-sha256":case"curve25519-sha256@libssh.org":if(!E)break;return new Curve25519Exchange("sha256",...t);case"ecdh-sha2-nistp256":return new ECDHExchange("prime256v1","sha256",...t);case"ecdh-sha2-nistp384":return new ECDHExchange("secp384r1","sha384",...t);case"ecdh-sha2-nistp521":return new ECDHExchange("secp521r1","sha512",...t);case"diffie-hellman-group1-sha1":return new DHExchange("modp2","sha1",...t);case"diffie-hellman-group14-sha1":return new DHExchange("modp14","sha1",...t);case"diffie-hellman-group14-sha256":return new DHExchange("modp14","sha256",...t);case"diffie-hellman-group15-sha512":return new DHExchange("modp15","sha512",...t);case"diffie-hellman-group16-sha512":return new DHExchange("modp16","sha512",...t);case"diffie-hellman-group17-sha512":return new DHExchange("modp17","sha512",...t);case"diffie-hellman-group18-sha512":return new DHExchange("modp18","sha512",...t);case"diffie-hellman-group-exchange-sha1":return new DHGroupExchange("sha1",...t);case"diffie-hellman-group-exchange-sha256":return new DHGroupExchange("sha256",...t)}throw new Error(`Unsupported key exchange algorithm: ${n}`)}throw new Error(`Invalid key exchange type: ${n}`)}})();const te=(()=>{const e=["kex","serverHostKey",["cs","cipher"],["sc","cipher"],["cs","mac"],["sc","mac"],["cs","compress"],["sc","compress"],["cs","lang"],["sc","lang"]];return class KexInit{constructor(t){if(typeof t!=="object"||t===null)throw new TypeError("Argument must be an object");const n={kex:undefined,serverHostKey:undefined,cs:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},sc:{cipher:undefined,mac:undefined,compress:undefined,lang:undefined},all:undefined};let i=0;for(const s of e){let e;let o;let f;let u;if(typeof s==="string"){e=n;o=t[s];f=u=s}else{const i=s[0];e=n[i];u=s[1];o=t[i][u];f=`${i}.${u}`}const l={array:undefined,buffer:undefined};if(Buffer.isBuffer(o)){l.array=(""+o).split(",");l.buffer=o;i+=4+o.length}else{if(typeof o==="string")o=o.split(",");if(Array.isArray(o)){l.array=o;l.buffer=Buffer.from(o.join(","))}else{throw new TypeError(`Invalid \`${f}\` type: ${typeof o}`)}i+=4+l.buffer.length}e[u]=l}const s=Buffer.allocUnsafe(i);n.all=s;let o=0;for(const t of e){let e;if(typeof t==="string")e=n[t].buffer;else e=n[t[0]][t[1]].buffer;o=W(s,e.length,o);s.set(e,o);o+=e.length}this.totalSize=i;this.lists=n}copyAllTo(e,t){const n=this.lists.all;if(typeof t!=="number")throw new TypeError(`Invalid offset value: ${typeof t}`);if(e.length-t<n.length)throw new Error("Insufficient space to copy list");e.set(n,t);return n.length}}})();const re=(()=>{const e=Buffer.allocUnsafe(4);return(t,n)=>{W(e,n.length,0);t.update(e);t.update(n)}})();function generateKEXVal(e,t,n,i,s,o){let u;if(e){let l=f(t).update(n).update(i).update(o).update(s).digest();while(l.length<e){const e=f(t).update(n).update(i).update(l).digest();const s=Buffer.allocUnsafe(l.length+e.length);s.set(l,0);s.set(e,l.length);l=s}if(l.length===e)u=l;else u=new x(l.buffer,l.byteOffset,e)}else{u=J}return u}function onKEXPayload(e,t){if(t.length===0){this._debug&&this._debug("Inbound: Skipping empty packet payload");return}if(this._skipNextInboundPacket){this._skipNextInboundPacket=false;return}t=this._packetRW.read.read(t);const i=t[0];switch(i){case v.DISCONNECT:case v.IGNORE:case v.UNIMPLEMENTED:case v.DEBUG:if(!Y)Y=n(6696);return Y[i](this,t);case v.KEXINIT:if(!e.firstPacket){return L(this,"Received extra KEXINIT during handshake","handshake",C.KEY_EXCHANGE_FAILED)}e.firstPacket=false;return handleKexInit(this,t);default:if(i<20||i>49){return L(this,`Received unexpected packet type ${i}`,"handshake",C.KEY_EXCHANGE_FAILED)}}return this._kex.parse(t)}function dhEstimate(e){const t=B[e.cs.cipher];const n=B[e.sc.cipher];const i=Math.max(0,t.sslName==="des-ede3-cbc"?14:t.keyLen,t.blockLen,t.ivLen,n.sslName==="des-ede3-cbc"?14:n.keyLen,n.blockLen,n.ivLen)*8;if(i<=112)return 2048;if(i<=128)return 3072;if(i<=192)return 7680;return 8192}function trySendNEWKEYS(e){if(!e._sentNEWKEYS){e._protocol._debug&&e._protocol._debug("Outbound: Sending NEWKEYS");const t=e._protocol._packetRW.write.allocStartKEX;const n=e._protocol._packetRW.write.alloc(1,true);n[t]=v.NEWKEYS;e._protocol._cipher.encrypt(e._protocol._packetRW.write.finalize(n,true));e._sentNEWKEYS=true}}e.exports={KexInit:te,kexinit:kexinit,onKEXPayload:onKEXPayload,DEFAULT_KEXINIT:new te({kex:b,serverHostKey:y,cs:{cipher:m,mac:w,compress:I,lang:[]},sc:{cipher:m,mac:w,compress:I,lang:[]}}),HANDLERS:{[v.KEXINIT]:handleKexInit}}},2481:(e,t,n)=>{"use strict";const{createDecipheriv:i,createECDH:s,createHash:o,createHmac:f,createSign:u,createVerify:l,getCiphers:h,sign:p,verify:g}=n(6113);const _=h();const{Ber:E}=n(5390);const b=n(6413).pbkdf;const{CIPHER_INFO:y}=n(8822);const{eddsaSupported:m,SUPPORTED_CIPHER:w}=n(2246);const{bufferSlice:I,makeBufferParser:C,readString:v,readUInt32BE:B,writeUInt32BE:k}=n(8526);const R=Symbol("Hash Algorithm");const T=Symbol("Private key PEM");const O=Symbol("Public key PEM");const P=Symbol("Public key SSH");const D=Symbol("Decrypted Key");const U=Object.create(null);{const e=Object.keys(y);for(let t=0;t<e.length;++t){const n=y[e[t]].sslName;if(!n||U[n])continue;U[n]=y[e[t]]}}const L=C();function makePEM(e,t){t=t.base64Slice(0,t.length);let n=t.replace(/.{64}/g,"$&\n");if(t.length&63)n+="\n";return`-----BEGIN ${e} KEY-----\n${n}-----END ${e} KEY-----`}function combineBuffers(e,t){const n=Buffer.allocUnsafe(e.length+t.length);n.set(e,0);n.set(t,e.length);return n}function skipFields(e,t){const n=e.length;let i=e._pos||0;for(let s=0;s<t;++s){const t=n-i;if(i>=n||t<4)return false;const s=B(e,i);if(t<4+s)return false;i+=4+s}e._pos=i;return true}function genOpenSSLRSAPub(e,t){const n=new E.Writer;n.startSequence();n.startSequence();n.writeOID("1.2.840.113549.1.1.1");n.writeNull();n.endSequence();n.startSequence(E.BitString);n.writeByte(0);n.startSequence();n.writeBuffer(e,E.Integer);n.writeBuffer(t,E.Integer);n.endSequence();n.endSequence();n.endSequence();return makePEM("PUBLIC",n.buffer)}function genOpenSSHRSAPub(e,t){const n=Buffer.allocUnsafe(4+7+4+t.length+4+e.length);k(n,7,0);n.utf8Write("ssh-rsa",4,7);let i=4+7;k(n,t.length,i);n.set(t,i+=4);k(n,e.length,i+=t.length);n.set(e,i+4);return n}const x=(()=>{function genRSAASN1Buf(e,t,n,i,s,o,f,u){const l=new E.Writer;l.startSequence();l.writeInt(0,E.Integer);l.writeBuffer(e,E.Integer);l.writeBuffer(t,E.Integer);l.writeBuffer(n,E.Integer);l.writeBuffer(i,E.Integer);l.writeBuffer(s,E.Integer);l.writeBuffer(o,E.Integer);l.writeBuffer(f,E.Integer);l.writeBuffer(u,E.Integer);l.endSequence();return l.buffer}function bigIntFromBuffer(e){return BigInt(`0x${e.hexSlice(0,e.length)}`)}function bigIntToBuffer(e){let t=e.toString(16);if((t.length&1)!==0){t=`0${t}`}else{const e=t.charCodeAt(0);if(e===56||e===57||e>=97&&e<=102){t=`00${t}`}}return Buffer.from(t,"hex")}return function genOpenSSLRSAPriv(e,t,n,i,s,o){const f=bigIntFromBuffer(n);const u=bigIntToBuffer(f%(bigIntFromBuffer(s)-1n));const l=bigIntToBuffer(f%(bigIntFromBuffer(o)-1n));return makePEM("RSA PRIVATE",genRSAASN1Buf(e,t,n,s,o,u,l,i))}})();function genOpenSSLDSAPub(e,t,n,i){const s=new E.Writer;s.startSequence();s.startSequence();s.writeOID("1.2.840.10040.4.1");s.startSequence();s.writeBuffer(e,E.Integer);s.writeBuffer(t,E.Integer);s.writeBuffer(n,E.Integer);s.endSequence();s.endSequence();s.startSequence(E.BitString);s.writeByte(0);s.writeBuffer(i,E.Integer);s.endSequence();s.endSequence();return makePEM("PUBLIC",s.buffer)}function genOpenSSHDSAPub(e,t,n,i){const s=Buffer.allocUnsafe(4+7+4+e.length+4+t.length+4+n.length+4+i.length);k(s,7,0);s.utf8Write("ssh-dss",4,7);let o=4+7;k(s,e.length,o);s.set(e,o+=4);k(s,t.length,o+=e.length);s.set(t,o+=4);k(s,n.length,o+=t.length);s.set(n,o+=4);k(s,i.length,o+=n.length);s.set(i,o+4);return s}function genOpenSSLDSAPriv(e,t,n,i,s){const o=new E.Writer;o.startSequence();o.writeInt(0,E.Integer);o.writeBuffer(e,E.Integer);o.writeBuffer(t,E.Integer);o.writeBuffer(n,E.Integer);o.writeBuffer(i,E.Integer);o.writeBuffer(s,E.Integer);o.endSequence();return makePEM("DSA PRIVATE",o.buffer)}function genOpenSSLEdPub(e){const t=new E.Writer;t.startSequence();t.startSequence();t.writeOID("1.3.101.112");t.endSequence();t.startSequence(E.BitString);t.writeByte(0);t._ensure(e.length);t._buf.set(e,t._offset);t._offset+=e.length;t.endSequence();t.endSequence();return makePEM("PUBLIC",t.buffer)}function genOpenSSHEdPub(e){const t=Buffer.allocUnsafe(4+11+4+e.length);k(t,11,0);t.utf8Write("ssh-ed25519",4,11);k(t,e.length,15);t.set(e,19);return t}function genOpenSSLEdPriv(e){const t=new E.Writer;t.startSequence();t.writeInt(0,E.Integer);t.startSequence();t.writeOID("1.3.101.112");t.endSequence();t.startSequence(E.OctetString);t.writeBuffer(e,E.OctetString);t.endSequence();t.endSequence();return makePEM("PRIVATE",t.buffer)}function genOpenSSLECDSAPub(e,t){const n=new E.Writer;n.startSequence();n.startSequence();n.writeOID("1.2.840.10045.2.1");n.writeOID(e);n.endSequence();n.startSequence(E.BitString);n.writeByte(0);n._ensure(t.length);n._buf.set(t,n._offset);n._offset+=t.length;n.endSequence();n.endSequence();return makePEM("PUBLIC",n.buffer)}function genOpenSSHECDSAPub(e,t){let n;switch(e){case"1.2.840.10045.3.1.7":n="nistp256";break;case"1.3.132.0.34":n="nistp384";break;case"1.3.132.0.35":n="nistp521";break;default:return}const i=Buffer.allocUnsafe(4+19+4+8+4+t.length);k(i,19,0);i.utf8Write(`ecdsa-sha2-${n}`,4,19);k(i,8,23);i.utf8Write(n,27,8);k(i,t.length,35);i.set(t,39);return i}function genOpenSSLECDSAPriv(e,t,n){const i=new E.Writer;i.startSequence();i.writeInt(1,E.Integer);i.writeBuffer(n,E.OctetString);i.startSequence(160);i.writeOID(e);i.endSequence();i.startSequence(161);i.startSequence(E.BitString);i.writeByte(0);i._ensure(t.length);i._buf.set(t,i._offset);i._offset+=t.length;i.endSequence();i.endSequence();i.endSequence();return makePEM("EC PRIVATE",i.buffer)}function genOpenSSLECDSAPubFromPriv(e,t){const n=s(e);n.setPrivateKey(t);return n.getPublicKey()}const Q={sign:(()=>{if(typeof p==="function"){return function sign(e,t){const n=this[T];if(n===null)return new Error("No private key available");if(!t||typeof t!=="string")t=this[R];try{return p(t,e,n)}catch(e){return e}}}return function sign(e,t){const n=this[T];if(n===null)return new Error("No private key available");if(!t||typeof t!=="string")t=this[R];const i=u(t);i.update(e);try{return i.sign(n)}catch(e){return e}}})(),verify:(()=>{if(typeof g==="function"){return function verify(e,t,n){const i=this[O];if(i===null)return new Error("No public key available");if(!n||typeof n!=="string")n=this[R];try{return g(n,e,i,t)}catch(e){return e}}}return function verify(e,t,n){const i=this[O];if(i===null)return new Error("No public key available");if(!n||typeof n!=="string")n=this[R];const s=l(n);s.update(e);try{return s.verify(i,t)}catch(e){return e}}})(),isPrivateKey:function isPrivateKey(){return this[T]!==null},getPrivatePEM:function getPrivatePEM(){return this[T]},getPublicPEM:function getPublicPEM(){return this[O]},getPublicSSH:function getPublicSSH(){return this[P]},equals:function equals(e){const t=parseKey(e);if(t instanceof Error)return false;return this.type===t.type&&this[T]===t[T]&&this[O]===t[O]&&this[P]===t[P]}};function OpenSSH_Private(e,t,n,i,s,o,f){this.type=e;this.comment=t;this[T]=n;this[O]=i;this[P]=s;this[R]=o;this[D]=f}OpenSSH_Private.prototype=Q;{const e=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/;OpenSSH_Private.parse=(t,n)=>{const s=e.exec(t);if(s===null)return null;let o;const f=Buffer.from(s[1],"base64");if(f.length<31)return new Error("Malformed OpenSSH private key");const u=f.utf8Slice(0,15);if(u!=="openssh-key-v1\0")return new Error(`Unsupported OpenSSH key magic: ${u}`);const l=v(f,15,true);if(l===undefined)return new Error("Malformed OpenSSH private key");if(l!=="none"&&w.indexOf(l)===-1)return new Error(`Unsupported cipher for OpenSSH key: ${l}`);const h=v(f,f._pos,true);if(h===undefined)return new Error("Malformed OpenSSH private key");if(h!=="none"){if(l==="none")return new Error("Malformed OpenSSH private key");if(h!=="bcrypt")return new Error(`Unsupported kdf name for OpenSSH key: ${h}`);if(!n){return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}}else if(l!=="none"){return new Error("Malformed OpenSSH private key")}let p;let g;let _;if(l!=="none")p=y[l];const E=v(f,f._pos);if(E===undefined)return new Error("Malformed OpenSSH private key");if(E.length){switch(h){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":const e=v(E,0);if(e===undefined||E._pos+4>E.length)return new Error("Malformed OpenSSH private key");const t=B(E,E._pos);const i=Buffer.allocUnsafe(p.keyLen+p.ivLen);const s=b(n,n.length,e,e.length,i,i.length,t);if(s!==0)return new Error("Failed to generate information to decrypt key");g=I(i,0,p.keyLen);_=I(i,p.keyLen,i.length);break}}else if(h!=="none"){return new Error("Malformed OpenSSH private key")}if(f._pos+3>=f.length)return new Error("Malformed OpenSSH private key");const m=B(f,f._pos);f._pos+=4;if(m>0){for(let e=0;e<m;++e){const e=v(f,f._pos);if(e===undefined)return new Error("Malformed OpenSSH private key");const t=v(e,0,true);if(t===undefined)return new Error("Malformed OpenSSH private key")}let e=v(f,f._pos);if(e===undefined)return new Error("Malformed OpenSSH private key");if(g!==undefined){if(e.length<p.blockLen||e.length%p.blockLen!==0){return new Error("Malformed OpenSSH private key")}try{const t={authTagLength:p.authLen};const n=i(p.sslName,g,_,t);if(p.authLen>0){if(f.length-f._pos<p.authLen)return new Error("Malformed OpenSSH private key");n.setAuthTag(I(f,f._pos,f._pos+=p.authLen))}e=combineBuffers(n.update(e),n.final())}catch(e){return e}}if(f._pos!==f.length)return new Error("Malformed OpenSSH private key");o=parseOpenSSHPrivKeys(e,m,g!==undefined)}else{o=[]}return o[0]};function parseOpenSSHPrivKeys(e,t,n){const i=[];if(e.length<8)return new Error("Malformed OpenSSH private key");const s=B(e,0);const o=B(e,4);if(s!==o){if(n){return new Error("OpenSSH key integrity check failed -- bad passphrase?")}return new Error("OpenSSH key integrity check failed")}e._pos=8;let f;let u;for(f=0;f<t;++f){let t;let s;let o;let f;const l=v(e,e._pos,true);if(l===undefined)return new Error("Malformed OpenSSH private key");switch(l){case"ssh-rsa":{const n=v(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=v(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");const u=v(e,e._pos);if(u===undefined)return new Error("Malformed OpenSSH private key");const l=v(e,e._pos);if(l===undefined)return new Error("Malformed OpenSSH private key");const h=v(e,e._pos);if(h===undefined)return new Error("Malformed OpenSSH private key");const p=v(e,e._pos);if(p===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLRSAPub(n,i);f=genOpenSSHRSAPub(n,i);s=x(n,i,u,l,h,p);t="sha1";break}case"ssh-dss":{const n=v(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=v(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");const u=v(e,e._pos);if(u===undefined)return new Error("Malformed OpenSSH private key");const l=v(e,e._pos);if(l===undefined)return new Error("Malformed OpenSSH private key");const h=v(e,e._pos);if(h===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLDSAPub(n,i,u,l);f=genOpenSSHDSAPub(n,i,u,l);s=genOpenSSLDSAPriv(n,i,u,l,h);t="sha1";break}case"ssh-ed25519":{if(!m)return new Error(`Unsupported OpenSSH private key type: ${l}`);const n=v(e,e._pos);if(n===undefined||n.length!==32)return new Error("Malformed OpenSSH private key");const i=v(e,e._pos);if(i===undefined||i.length!==64)return new Error("Malformed OpenSSH private key");o=genOpenSSLEdPub(n);f=genOpenSSHEdPub(n);s=genOpenSSLEdPriv(I(i,0,32));t=null;break}case"ecdsa-sha2-nistp256":t="sha256";u="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":if(t===undefined){t="sha384";u="1.3.132.0.34"}case"ecdsa-sha2-nistp521":{if(t===undefined){t="sha512";u="1.3.132.0.35"}if(!skipFields(e,1))return new Error("Malformed OpenSSH private key");const n=v(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH private key");const i=v(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH private key");o=genOpenSSLECDSAPub(u,n);f=genOpenSSHECDSAPub(u,n);s=genOpenSSLECDSAPriv(u,n,i);break}default:return new Error(`Unsupported OpenSSH private key type: ${l}`)}const h=v(e,e._pos,true);if(h===undefined)return new Error("Malformed OpenSSH private key");i.push(new OpenSSH_Private(l,h,s,o,f,t,n))}let l=0;for(f=e._pos;f<e.length;++f){if(e[f]!==++l%255)return new Error("Malformed OpenSSH private key")}return i}}function OpenSSH_Old_Private(e,t,n,i,s,o,f){this.type=e;this.comment=t;this[T]=n;this[O]=i;this[P]=s;this[R]=o;this[D]=f}OpenSSH_Old_Private.prototype=Q;{const e=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;OpenSSH_Old_Private.parse=(t,n)=>{const s=e.exec(t);if(s===null)return null;let f=Buffer.from(s[3],"base64");let u=s[2];let l=false;if(u!==undefined){u=u.split(/\r\n|\n/g);for(let e=0;e<u.length;++e){const t=u[e];let s=t.indexOf(":");if(t.slice(0,s)==="DEK-Info"){const e=t.slice(s+2);s=e.indexOf(",");if(s===-1)continue;const u=e.slice(0,s).toLowerCase();if(_.indexOf(u)===-1){return new Error(`Cipher (${u}) not supported `+"for encrypted OpenSSH private key")}const h=U[u];if(!h){return new Error(`Cipher (${u}) not supported `+"for encrypted OpenSSH private key")}const p=Buffer.from(e.slice(s+1),"hex");if(p.length!==h.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!n){return new Error("Encrypted OpenSSH private key detected, but no passphrase given")}const g=I(p,0,8);let E=o("md5").update(n).update(g).digest();while(E.length<h.keyLen){E=combineBuffers(E,o("md5").update(E).update(n).update(g).digest())}if(E.length>h.keyLen)E=I(E,0,h.keyLen);try{const e=i(u,E,p);e.setAutoPadding(false);f=combineBuffers(e.update(f),e.final());l=true}catch(e){return e}}}}let h;let p;let g;let b;let y;let m;let w="Malformed OpenSSH private key";if(l)w+=". Bad passphrase?";switch(s[1]){case"RSA":h="ssh-rsa";p=makePEM("RSA PRIVATE",f);try{m=new E.Reader(f);m.readSequence();m.readInt();const e=m.readString(E.Integer,true);if(e===null)return new Error(w);const t=m.readString(E.Integer,true);if(t===null)return new Error(w);g=genOpenSSLRSAPub(e,t);b=genOpenSSHRSAPub(e,t)}catch{return new Error(w)}y="sha1";break;case"DSA":h="ssh-dss";p=makePEM("DSA PRIVATE",f);try{m=new E.Reader(f);m.readSequence();m.readInt();const e=m.readString(E.Integer,true);if(e===null)return new Error(w);const t=m.readString(E.Integer,true);if(t===null)return new Error(w);const n=m.readString(E.Integer,true);if(n===null)return new Error(w);const i=m.readString(E.Integer,true);if(i===null)return new Error(w);g=genOpenSSLDSAPub(e,t,n,i);b=genOpenSSHDSAPub(e,t,n,i)}catch{return new Error(w)}y="sha1";break;case"EC":let e;let t;let n;try{m=new E.Reader(f);m.readSequence();m.readInt();t=m.readString(E.OctetString,true);m.readByte();const i=m.readLength();if(i!==null){m._offset=i;n=m.readOID();if(n===null)return new Error(w);switch(n){case"1.2.840.10045.3.1.7":e="prime256v1";h="ecdsa-sha2-nistp256";y="sha256";break;case"1.3.132.0.34":e="secp384r1";h="ecdsa-sha2-nistp384";y="sha384";break;case"1.3.132.0.35":e="secp521r1";h="ecdsa-sha2-nistp521";y="sha512";break;default:return new Error(`Unsupported private key EC OID: ${n}`)}}else{return new Error(w)}}catch{return new Error(w)}p=makePEM("EC PRIVATE",f);const i=genOpenSSLECDSAPubFromPriv(e,t);g=genOpenSSLECDSAPub(n,i);b=genOpenSSHECDSAPub(n,i);break}return new OpenSSH_Old_Private(h,"",p,g,b,y,l)}}function PPK_Private(e,t,n,i,s,o,f){this.type=e;this.comment=t;this[T]=n;this[O]=i;this[P]=s;this[R]=o;this[D]=f}PPK_Private.prototype=Q;{const e=Buffer.alloc(0);const t=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);const n=Buffer.from([0,0,0,0]);const s=Buffer.from([0,0,0,1]);const u=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;PPK_Private.parse=(l,h)=>{const p=u.exec(l);if(p===null)return null;const g=p[2];const _=g!=="none";if(_&&!h){return new Error("Encrypted PPK private key detected, but no passphrase given")}let E=Buffer.from(p[5],"base64");if(_){const e=y[g];let f=combineBuffers(o("sha1").update(n).update(h).digest(),o("sha1").update(s).update(h).digest());if(f.length>e.keyLen)f=I(f,0,e.keyLen);try{const n=i(e.sslName,f,t);n.setAutoPadding(false);E=combineBuffers(n.update(E),n.final())}catch(e){return e}}const b=p[1];const m=p[3];const w=Buffer.from(p[4],"base64");const C=p[6];const B=b.length;const R=g.length;const T=Buffer.byteLength(m);const O=w.length;const P=E.length;const D=Buffer.allocUnsafe(4+B+4+R+4+T+4+O+4+P);let U=0;k(D,B,U);D.utf8Write(b,U+=4,B);k(D,R,U+=B);D.utf8Write(g,U+=4,R);k(D,T,U+=R);D.utf8Write(m,U+=4,T);k(D,O,U+=T);D.set(w,U+=4);k(D,P,U+=O);D.set(E,U+4);if(!h)h=e;const L=f("sha1",o("sha1").update("putty-private-key-file-mac-key").update(h).digest()).update(D).digest("hex");if(L!==C){if(_){return new Error("PPK private key integrity check failed -- bad passphrase?")}return new Error("PPK private key integrity check failed")}let Q;let W;let q;w._pos=0;skipFields(w,1);switch(b){case"ssh-rsa":{const e=v(w,w._pos);if(e===undefined)return new Error("Malformed PPK public key");const t=v(w,w._pos);if(t===undefined)return new Error("Malformed PPK public key");const n=v(E,0);if(n===undefined)return new Error("Malformed PPK private key");const i=v(E,E._pos);if(i===undefined)return new Error("Malformed PPK private key");const s=v(E,E._pos);if(s===undefined)return new Error("Malformed PPK private key");const o=v(E,E._pos);if(o===undefined)return new Error("Malformed PPK private key");Q=genOpenSSLRSAPub(t,e);W=genOpenSSHRSAPub(t,e);q=x(t,e,n,o,i,s);break}case"ssh-dss":{const e=v(w,w._pos);if(e===undefined)return new Error("Malformed PPK public key");const t=v(w,w._pos);if(t===undefined)return new Error("Malformed PPK public key");const n=v(w,w._pos);if(n===undefined)return new Error("Malformed PPK public key");const i=v(w,w._pos);if(i===undefined)return new Error("Malformed PPK public key");const s=v(E,0);if(s===undefined)return new Error("Malformed PPK private key");Q=genOpenSSLDSAPub(e,t,n,i);W=genOpenSSHDSAPub(e,t,n,i);q=genOpenSSLDSAPriv(e,t,n,i,s);break}}return new PPK_Private(b,m,q,Q,W,"sha1",_)}}function OpenSSH_Public(e,t,n,i,s){this.type=e;this.comment=t;this[T]=null;this[O]=n;this[P]=i;this[R]=s;this[D]=false}OpenSSH_Public.prototype=Q;{let e;if(m)e=/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/;else e=/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/;OpenSSH_Public.parse=t=>{const n=e.exec(t);if(n===null)return null;const i=n[1];const s=n[2];const o=Buffer.from(n[3],"base64");const f=n[4]||"";const u=v(o,o._pos,true);if(u===undefined||u.indexOf(s)!==0)return new Error("Malformed OpenSSH public key");return parseDER(o,s,f,i)}}function RFC4716_Public(e,t,n,i,s){this.type=e;this.comment=t;this[T]=null;this[O]=n;this[P]=i;this[R]=s;this[D]=false}RFC4716_Public.prototype=Q;{const e=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r?\n)((?:.{0,72}\r?\n)+)---- END SSH2 PUBLIC KEY ----$/;const t=/^[A-Z0-9a-z/+=\r\n]+$/;const n=/^([\x21-\x39\x3B-\x7E]{1,64}): ((?:[^\\]*\\\r?\n)*[^\r\n]+)\r?\n/gm;const i=/\\\r?\n/g;RFC4716_Public.parse=s=>{let o=e.exec(s);if(o===null)return null;const f=o[1];let u=0;let l="";while(o=n.exec(f)){const e=o[1];const t=o[2].replace(i,"");if(t.length>1024){n.lastIndex=0;return new Error("Malformed RFC4716 public key")}u=n.lastIndex;if(e.toLowerCase()==="comment"){l=t;if(l.length>1&&l.charCodeAt(0)===34&&l.charCodeAt(l.length-1)===34){l=l.slice(1,-1)}}}let h=f.slice(u);if(!t.test(h))return new Error("Malformed RFC4716 public key");h=Buffer.from(h,"base64");const p=v(h,0,true);if(p===undefined)return new Error("Malformed RFC4716 public key");let g=null;let _=null;switch(p){case"ssh-rsa":{const e=v(h,h._pos);if(e===undefined)return new Error("Malformed RFC4716 public key");const t=v(h,h._pos);if(t===undefined)return new Error("Malformed RFC4716 public key");g=genOpenSSLRSAPub(t,e);_=genOpenSSHRSAPub(t,e);break}case"ssh-dss":{const e=v(h,h._pos);if(e===undefined)return new Error("Malformed RFC4716 public key");const t=v(h,h._pos);if(t===undefined)return new Error("Malformed RFC4716 public key");const n=v(h,h._pos);if(n===undefined)return new Error("Malformed RFC4716 public key");const i=v(h,h._pos);if(i===undefined)return new Error("Malformed RFC4716 public key");g=genOpenSSLDSAPub(e,t,n,i);_=genOpenSSHDSAPub(e,t,n,i);break}default:return new Error("Malformed RFC4716 public key")}return new RFC4716_Public(p,l,g,_,"sha1")}}function parseDER(e,t,n,i){if(!isSupportedKeyType(t))return new Error(`Unsupported OpenSSH public key type: ${t}`);let s;let o;let f=null;let u=null;switch(t){case"ssh-rsa":{const t=v(e,e._pos||0);if(t===undefined)return new Error("Malformed OpenSSH public key");const n=v(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH public key");f=genOpenSSLRSAPub(n,t);u=genOpenSSHRSAPub(n,t);s="sha1";break}case"ssh-dss":{const t=v(e,e._pos||0);if(t===undefined)return new Error("Malformed OpenSSH public key");const n=v(e,e._pos);if(n===undefined)return new Error("Malformed OpenSSH public key");const i=v(e,e._pos);if(i===undefined)return new Error("Malformed OpenSSH public key");const o=v(e,e._pos);if(o===undefined)return new Error("Malformed OpenSSH public key");f=genOpenSSLDSAPub(t,n,i,o);u=genOpenSSHDSAPub(t,n,i,o);s="sha1";break}case"ssh-ed25519":{const t=v(e,e._pos||0);if(t===undefined||t.length!==32)return new Error("Malformed OpenSSH public key");f=genOpenSSLEdPub(t);u=genOpenSSHEdPub(t);s=null;break}case"ecdsa-sha2-nistp256":s="sha256";o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":if(s===undefined){s="sha384";o="1.3.132.0.34"}case"ecdsa-sha2-nistp521":{if(s===undefined){s="sha512";o="1.3.132.0.35"}if(!skipFields(e,1))return new Error("Malformed OpenSSH public key");const t=v(e,e._pos||0);if(t===undefined)return new Error("Malformed OpenSSH public key");f=genOpenSSLECDSAPub(o,t);u=genOpenSSHECDSAPub(o,t);break}default:return new Error(`Unsupported OpenSSH public key type: ${t}`)}return new OpenSSH_Public(i,n,f,u,s)}function isSupportedKeyType(e){switch(e){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return true;case"ssh-ed25519":if(m)return true;default:return false}}function isParsedKey(e){if(!e)return false;return typeof e[D]==="boolean"}function parseKey(e,t){if(isParsedKey(e))return e;let n;if(Buffer.isBuffer(e)){n=e;e=e.utf8Slice(0,e.length).trim()}else if(typeof e==="string"){e=e.trim()}else{return new Error("Key data must be a Buffer or string")}if(t!=undefined){if(typeof t==="string")t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied")}let i;if((i=OpenSSH_Private.parse(e,t))!==null)return i;if((i=OpenSSH_Old_Private.parse(e,t))!==null)return i;if((i=PPK_Private.parse(e,t))!==null)return i;if((i=OpenSSH_Public.parse(e))!==null)return i;if((i=RFC4716_Public.parse(e))!==null)return i;if(n){L.init(n,0);const t=L.readString(true);if(t!==undefined){e=L.readRaw();if(e!==undefined){i=parseDER(e,t,"",t);if(i instanceof Error)i=null}}L.clear()}if(i)return i;return new Error("Unsupported key format")}e.exports={isParsedKey:isParsedKey,isSupportedKeyType:isSupportedKeyType,parseDERKey:(e,t)=>parseDER(e,t,"",t),parseKey:parseKey}},5953:(e,t,n)=>{"use strict";const i=n(9491);const{inspect:s}=n(3837);function addNumericalSeparator(e){let t="";let n=e.length;const i=e[0]==="-"?1:0;for(;n>=i+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function oneOf(e,t){i(typeof t==="string","`thing` has to be of type string");if(Array.isArray(e)){const n=e.length;i(n>0,"At least one expected value needs to be specified");e=e.map((e=>String(e)));if(n>2){return`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]}else if(n===2){return`one of ${t} ${e[0]} or ${e[1]}`}return`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}t.ERR_INTERNAL_ASSERTION=class ERR_INTERNAL_ASSERTION extends Error{constructor(e){super();Error.captureStackTrace(this,ERR_INTERNAL_ASSERTION);const t="This is caused by either a bug in ssh2 "+"or incorrect usage of ssh2 internals.\n"+"Please open an issue with this stack trace at "+"https://github.com/mscdex/ssh2/issues\n";this.message=e===undefined?t:`${e}\n${t}`}};const o=2**32;const f=(()=>{try{return new Function("return 2n ** 32n")()}catch{}})();t.ERR_OUT_OF_RANGE=class ERR_OUT_OF_RANGE extends RangeError{constructor(e,t,n,u){super();Error.captureStackTrace(this,ERR_OUT_OF_RANGE);i(t,'Missing "range" argument');let l=u?e:`The value of "${e}" is out of range.`;let h;if(Number.isInteger(n)&&Math.abs(n)>o){h=addNumericalSeparator(String(n))}else if(typeof n==="bigint"){h=String(n);if(n>f||n<-f)h=addNumericalSeparator(h);h+="n"}else{h=s(n)}l+=` It must be ${t}. Received ${h}`;this.message=l}};class ERR_INVALID_ARG_TYPE extends TypeError{constructor(e,t,n){super();Error.captureStackTrace(this,ERR_INVALID_ARG_TYPE);i(typeof e==="string",`'name' must be a string`);let s;if(typeof t==="string"&&t.startsWith("not ")){s="must not be";t=t.replace(/^not /,"")}else{s="must be"}let o;if(e.endsWith(" argument")){o=`The ${e} ${s} ${oneOf(t,"type")}`}else{const n=e.includes(".")?"property":"argument";o=`The "${e}" ${n} ${s} ${oneOf(t,"type")}`}o+=`. Received type ${typeof n}`;this.message=o}}t.ERR_INVALID_ARG_TYPE=ERR_INVALID_ARG_TYPE;t.validateNumber=function validateNumber(e,t){if(typeof e!=="number")throw new ERR_INVALID_ARG_TYPE(t,"number",e)}},8526:(e,t,n)=>{"use strict";const i=n(5390).Ber;let s;const o=Buffer[Symbol.species];const f=Object.getPrototypeOf(Uint8Array.prototype).fill;function readUInt32BE(e,t){return e[t++]*16777216+e[t++]*65536+e[t++]*256+e[t]}function bufferCopy(e,t,n,i,s){if(!s)s=0;if(i>e.length)i=e.length;let o=i-n;const f=t.length-s;if(o>f)o=f;t.set(new Uint8Array(e.buffer,e.byteOffset+n,o),s);return o}function bufferSlice(e,t,n){if(n===undefined)n=e.length;return new o(e.buffer,e.byteOffset+t,n-t)}function makeBufferParser(){let e=0;let t;const n={init:(n,i)=>{t=n;e=typeof i==="number"?i:0},pos:()=>e,length:()=>t?t.length:0,avail:()=>t&&e<t.length?t.length-e:0,clear:()=>{t=undefined},readUInt32BE:()=>{if(!t||e+3>=t.length)return;return t[e++]*16777216+t[e++]*65536+t[e++]*256+t[e++]},readUInt64BE:n=>{if(!t||e+7>=t.length)return;switch(n){case"always":return BigInt(`0x${t.hexSlice(e,e+=8)}`);case"maybe":if(t[e]>31)return BigInt(`0x${t.hexSlice(e,e+=8)}`);default:return t[e++]*72057594037927940+t[e++]*281474976710656+t[e++]*1099511627776+t[e++]*4294967296+t[e++]*16777216+t[e++]*65536+t[e++]*256+t[e++]}},skip:n=>{if(t&&n>0)e+=n},skipString:()=>{const i=n.readUInt32BE();if(i===undefined)return;e+=i;return e<=t.length?i:undefined},readByte:()=>{if(t&&e<t.length)return t[e++]},readBool:()=>{if(t&&e<t.length)return!!t[e++]},readList:()=>{const e=n.readString(true);if(e===undefined)return;return e?e.split(","):[]},readString:(i,s)=>{if(typeof i==="number"){s=i;i=undefined}const o=n.readUInt32BE();if(o===undefined)return;if(t.length-e<o||typeof s==="number"&&o>s){return}if(i){if(Buffer.isBuffer(i))return bufferCopy(t,i,e,e+=o);return t.utf8Slice(e,e+=o)}return bufferSlice(t,e,e+=o)},readRaw:n=>{if(!t)return;if(typeof n!=="number")return bufferSlice(t,e,e+=t.length-e);if(t.length-e>=n)return bufferSlice(t,e,e+=n)}};return n}function makeError(e,t,n){const i=new Error(e);if(typeof t==="boolean"){n=t;i.level="protocol"}else{i.level=t||"protocol"}i.fatal=!!n;return i}function writeUInt32BE(e,t,n){e[n++]=t>>>24;e[n++]=t>>>16;e[n++]=t>>>8;e[n++]=t;return n}const u=makeBufferParser();e.exports={bufferCopy:bufferCopy,bufferSlice:bufferSlice,FastBuffer:o,bufferFill:(e,t,n,i)=>f.call(e,t,n,i),makeError:makeError,doFatalError:(e,t,i,o)=>{let f;if(s===undefined)({DISCONNECT_REASON:s}=n(8526));if(t instanceof Error){f=t;if(typeof i!=="number")o=s.PROTOCOL_ERROR;else o=i}else{f=makeError(t,i,true)}if(typeof o!=="number")o=s.PROTOCOL_ERROR;e.disconnect(o);e._destruct();e._onError(f);return Infinity},readUInt32BE:readUInt32BE,writeUInt32BE:writeUInt32BE,writeUInt32LE:(e,t,n)=>{e[n++]=t;e[n++]=t>>>8;e[n++]=t>>>16;e[n++]=t>>>24;return n},makeBufferParser:makeBufferParser,bufferParser:makeBufferParser(),readString:(e,t,n,i)=>{if(typeof n==="number"){i=n;n=undefined}if(t===undefined)t=0;const s=e.length-t;if(t<0||t>=e.length||s<4)return;const o=readUInt32BE(e,t);if(s<4+o||typeof i==="number"&&o>i)return;t+=4;const f=t+o;e._pos=f;if(n){if(Buffer.isBuffer(n))return bufferCopy(e,n,t,f);return e.utf8Slice(t,f)}return bufferSlice(e,t,f)},sigSSHToASN1:(e,t)=>{switch(t){case"ssh-dss":{if(e.length>40)return e;const t=new i.Writer;t.startSequence();let n=e.slice(0,20);let s=e.slice(20);if(n[0]&128){const e=Buffer.allocUnsafe(21);e[0]=0;n.copy(e,1);n=e}else if(n[0]===0&&!(n[1]&128)){n=n.slice(1)}if(s[0]&128){const e=Buffer.allocUnsafe(21);e[0]=0;s.copy(e,1);s=e}else if(s[0]===0&&!(s[1]&128)){s=s.slice(1)}t.writeBuffer(n,i.Integer);t.writeBuffer(s,i.Integer);t.endSequence();return t.buffer}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{u.init(e,0);const t=u.readString();const n=u.readString();u.clear();if(t===undefined||n===undefined)return;const s=new i.Writer;s.startSequence();s.writeBuffer(t,i.Integer);s.writeBuffer(n,i.Integer);s.endSequence();return s.buffer}default:return e}},convertSignature:(e,t)=>{switch(t){case"ssh-dss":{if(e.length<=40)return e;const t=new i.Reader(e);t.readSequence();let n=t.readString(i.Integer,true);let s=t.readString(i.Integer,true);let o=0;let f=0;if(n.length<20){const e=Buffer.allocUnsafe(20);e.set(n,1);n=e;n[0]=0}if(s.length<20){const e=Buffer.allocUnsafe(20);e.set(s,1);s=e;s[0]=0}if(n.length>20&&n[0]===0)o=1;if(s.length>20&&s[0]===0)f=1;const u=Buffer.allocUnsafe(n.length-o+(s.length-f));bufferCopy(n,u,o,n.length,0);bufferCopy(s,u,f,s.length,n.length-o);return u}case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":{if(e[0]===0)return e;const t=new i.Reader(e);t.readSequence();const n=t.readString(i.Integer,true);const s=t.readString(i.Integer,true);if(n===null||s===null)return;const o=Buffer.allocUnsafe(4+n.length+4+s.length);writeUInt32BE(o,n.length,0);o.set(n,4);writeUInt32BE(o,s.length,4+n.length);o.set(s,4+4+n.length);return o}}return e},sendPacket:(e,t,n)=>{if(!n&&e._kexinit!==undefined){if(e._queue===undefined)e._queue=[];e._queue.push(t);e._debug&&e._debug("Outbound: ... packet queued");return false}e._cipher.encrypt(t);return true}}},923:(e,t,n)=>{"use strict";const{kMaxLength:i}=n(4300);const{createInflate:s,constants:{DEFLATE:o,INFLATE:f,Z_DEFAULT_CHUNK:u,Z_DEFAULT_COMPRESSION:l,Z_DEFAULT_MEMLEVEL:h,Z_DEFAULT_STRATEGY:p,Z_DEFAULT_WINDOWBITS:g,Z_PARTIAL_FLUSH:_}}=n(9796);const E=s()._handle.constructor;function processCallback(){throw new Error("Should not get here")}function zlibOnError(e,t,n){const i=this._owner;const s=new Error(e);s.errno=t;s.code=n;i._err=s}function _close(e){if(!e._handle)return;e._handle.close();e._handle=null}class Zlib{constructor(e){const t=g;const n=l;const s=h;const o=p;const f=undefined;this._err=undefined;this._writeState=new Uint32Array(2);this._chunkSize=u;this._maxOutputLength=i;this._outBuffer=Buffer.allocUnsafe(this._chunkSize);this._outOffset=0;this._handle=new E(e);this._handle._owner=this;this._handle.onerror=zlibOnError;this._handle.init(t,n,s,o,this._writeState,processCallback,f)}writeSync(e,t){const n=this._handle;if(!n)throw new Error("Invalid Zlib instance");let i=e.length;let s=this._chunkSize-this._outOffset;let o=0;let f;let u;let l;let h=0;const p=this._writeState;let g=this._outBuffer;let E=this._outOffset;const b=this._chunkSize;while(true){n.writeSync(_,e,o,i,g,E,s);if(this._err)throw this._err;f=p[0];u=p[1];const t=i-u;const y=s-f;if(y>0){const e=E===0&&y===g.length?g:g.slice(E,E+y);E+=y;if(!l)l=e;else if(l.push===undefined)l=[l,e];else l.push(e);h+=e.byteLength;if(h>this._maxOutputLength){_close(this);throw new Error(`Output length exceeded maximum of ${this._maxOutputLength}`)}}else if(y!==0){throw new Error("have should not go down")}if(f===0||E>=b){s=b;E=0;g=Buffer.allocUnsafe(b)}if(f===0){o+=t;i=u}else{break}}this._outBuffer=g;this._outOffset=E;if(h===0)l=Buffer.alloc(0);if(t){l.totalLen=h;return l}if(l.push===undefined)return l;const y=Buffer.allocUnsafe(h);for(let e=0,t=0;e<l.length;++e){const n=l[e];y.set(n,t);t+=n.length}return y}}class ZlibPacketWriter{constructor(e){this.allocStart=0;this.allocStartKEX=0;this._protocol=e;this._zlib=new Zlib(o)}cleanup(){if(this._zlib)_close(this._zlib)}alloc(e,t){return Buffer.allocUnsafe(e)}finalize(e,t){if(this._protocol._kexinit===undefined||t){const t=this._zlib.writeSync(e,true);const n=this._protocol._cipher.allocPacket(t.totalLen);if(t.push===undefined){n.set(t,5)}else{for(let e=0,i=5;e<t.length;++e){const s=t[e];n.set(s,i);i+=s.length}}return n}return e}}class PacketWriter{constructor(e){this.allocStart=5;this.allocStartKEX=5;this._protocol=e}cleanup(){}alloc(e,t){if(this._protocol._kexinit===undefined||t)return this._protocol._cipher.allocPacket(e);return Buffer.allocUnsafe(e)}finalize(e,t){return e}}class ZlibPacketReader{constructor(){this._zlib=new Zlib(f)}cleanup(){if(this._zlib)_close(this._zlib)}read(e){return this._zlib.writeSync(e,false)}}class PacketReader{cleanup(){}read(e){return e}}e.exports={PacketReader:PacketReader,PacketWriter:PacketWriter,ZlibPacketReader:ZlibPacketReader,ZlibPacketWriter:ZlibPacketWriter}},6202:(e,t,n)=>{"use strict";const{Server:i}=n(1808);const s=n(2361);const{listenerCount:o}=s;const{CHANNEL_OPEN_FAILURE:f,DEFAULT_CIPHER:u,DEFAULT_COMPRESSION:l,DEFAULT_KEX:h,DEFAULT_MAC:p,DEFAULT_SERVER_HOST_KEY:g,DISCONNECT_REASON:_,DISCONNECT_REASON_BY_VALUE:E,SUPPORTED_CIPHER:b,SUPPORTED_COMPRESSION:y,SUPPORTED_KEX:m,SUPPORTED_MAC:w,SUPPORTED_SERVER_HOST_KEY:I}=n(2246);const{init:C}=n(8822);const{KexInit:v}=n(4782);const{parseKey:B}=n(2481);const k=n(1472);const{SFTP:R}=n(3801);const{writeUInt32BE:T}=n(8526);const{Channel:O,MAX_WINDOW:P,PACKET_SIZE:D,windowAdjust:U,WINDOW_THRESHOLD:L}=n(6885);const{ChannelManager:x,generateAlgorithmList:Q,isWritable:W,onChannelOpenFailure:q,onCHANNEL_CLOSE:$}=n(639);const j=10;class AuthContext extends s{constructor(e,t,n,i,s){super();this.username=this.user=t;this.service=n;this.method=i;this._initialResponse=false;this._finalResponse=false;this._multistep=false;this._cbfinal=(e,t,n)=>{if(!this._finalResponse){this._finalResponse=true;s(this,e,t,n)}};this._protocol=e}accept(){this._cleanup&&this._cleanup();this._initialResponse=true;this._cbfinal(true)}reject(e,t){this._cleanup&&this._cleanup();this._initialResponse=true;this._cbfinal(false,e,t)}}class KeyboardAuthContext extends AuthContext{constructor(e,t,n,i,s,o){super(e,t,n,i,o);this._multistep=true;this._cb=undefined;this._onInfoResponse=e=>{const t=this._cb;if(t){this._cb=undefined;t(e)}};this.submethods=s;this.on("abort",(()=>{this._cb&&this._cb(new Error("Authentication request aborted"))}))}prompt(e,t,n,i){if(!Array.isArray(e))e=[e];if(typeof t==="function"){i=t;t=n=undefined}else if(typeof n==="function"){i=n;n=undefined}else if(typeof i!=="function"){i=undefined}for(let t=0;t<e.length;++t){if(typeof e[t]==="string"){e[t]={prompt:e[t],echo:true}}}this._cb=i;this._initialResponse=true;this._protocol.authInfoReq(t,n,e)}}class PKAuthContext extends AuthContext{constructor(e,t,n,i,s,o){super(e,t,n,i,o);this.key={algo:s.keyAlgo,data:s.key};this.signature=s.signature;this.blob=s.blob}accept(){if(!this.signature){this._initialResponse=true;this._protocol.authPKOK(this.key.algo,this.key.data)}else{AuthContext.prototype.accept.call(this)}}}class HostbasedAuthContext extends AuthContext{constructor(e,t,n,i,s,o){super(e,t,n,i,o);this.key={algo:s.keyAlgo,data:s.key};this.signature=s.signature;this.blob=s.blob;this.localHostname=s.localHostname;this.localUsername=s.localUsername}}class PwdAuthContext extends AuthContext{constructor(e,t,n,i,s,o){super(e,t,n,i,o);this.password=s;this._changeCb=undefined}requestChange(e,t){if(this._changeCb)throw new Error("Change request already in progress");if(typeof e!=="string")throw new Error("prompt argument must be a string");if(typeof t!=="function")throw new Error("Callback argument must be a function");this._changeCb=t;this._protocol.authPasswdChg(e)}}class Session extends s{constructor(e,t,n){super();this.type="session";this.subtype=undefined;this._ending=false;this._channel=undefined;this._chanInfo={type:"session",incoming:{id:n,window:P,packetSize:D,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}}}}class Server extends s{constructor(e,t){super();if(typeof e!=="object"||e===null)throw new Error("Missing configuration object");const n=Object.create(null);const s=[];const o=e.hostKeys;if(!Array.isArray(o))throw new Error("hostKeys must be an array");const f=typeof e.algorithms==="object"&&e.algorithms!==null?e.algorithms:{};const _=Q(f.serverHostKey,g,I);for(let e=0;e<o.length;++e){let t;if(Buffer.isBuffer(o[e])||typeof o[e]==="string")t=B(o[e]);else t=B(o[e].key,o[e].passphrase);if(t instanceof Error)throw new Error(`Cannot parse privateKey: ${t.message}`);if(Array.isArray(t)){t=t[0]}if(t.getPrivatePEM()===null)throw new Error("privateKey value contains an invalid private key");if(s.includes(t.type))continue;if(t.type==="ssh-rsa"){let e=_.indexOf("ssh-rsa");const i=_.indexOf("rsa-sha2-256");const o=_.indexOf("rsa-sha2-512");if(e===-1){e=Infinity}[e,i,o].sort(compareNumbers).forEach((f=>{if(f===-1)return;let u;switch(f){case e:u="ssh-rsa";break;case i:u="rsa-sha2-256";break;case o:u="rsa-sha2-512";break;default:return}n[u]=t;s.push(u)}))}else{n[t.type]=t;s.push(t.type)}}const E={kex:Q(f.kex,h,m),serverHostKey:s,cs:{cipher:Q(f.cipher,u,b),mac:Q(f.hmac,p,w),compress:Q(f.compress,l,y),lang:[]},sc:undefined};E.sc=E.cs;if(typeof t==="function")this.on("connection",t);const C=typeof e.debug==="function"?e.debug:undefined;const k=e.ident?Buffer.from(e.ident):undefined;const R=new v(E);this._srv=new i((t=>{if(this._connections>=this.maxConnections){t.destroy();return}++this._connections;t.once("close",(()=>{--this._connections}));let i;if(C){const e=`[${process.hrtime().join(".")}] `;i=t=>{C(`${e}${t}`)}}new Client(t,n,k,R,i,this,e)})).on("error",(e=>{this.emit("error",e)})).on("listening",(()=>{this.emit("listening")})).on("close",(()=>{this.emit("close")}));this._connections=0;this.maxConnections=Infinity}injectSocket(e){this._srv.emit("connection",e)}listen(...e){this._srv.listen(...e);return this}address(){return this._srv.address()}getConnections(e){this._srv.getConnections(e);return this}close(e){this._srv.close(e);return this}ref(){this._srv.ref();return this}unref(){this._srv.unref();return this}}Server.KEEPALIVE_CLIENT_INTERVAL=15e3;Server.KEEPALIVE_CLIENT_COUNT_MAX=3;class Client extends s{constructor(e,t,n,i,s,u,l){super();let h=0;let p=false;let g=[];let b;let y;let m;const w=[];this._sock=e;this._chanMgr=new x(this);this._debug=s;this.noMoreSessions=false;this.authenticated=false;function onClientPreHeaderError(e){}this.on("error",onClientPreHeaderError);const I=!s?undefined:(e,t,n)=>{s(`Debug output from client: ${JSON.stringify(n)}`)};const v=typeof l.keepaliveInterval==="number"&&isFinite(l.keepaliveInterval)&&l.keepaliveInterval>0?l.keepaliveInterval:typeof Server.KEEPALIVE_CLIENT_INTERVAL==="number"&&isFinite(Server.KEEPALIVE_CLIENT_INTERVAL)&&Server.KEEPALIVE_CLIENT_INTERVAL>0?Server.KEEPALIVE_CLIENT_INTERVAL:-1;const B=typeof l.keepaliveCountMax==="number"&&isFinite(l.keepaliveCountMax)&&l.keepaliveCountMax>=0?l.keepaliveCountMax:typeof Server.KEEPALIVE_CLIENT_COUNT_MAX==="number"&&isFinite(Server.KEEPALIVE_CLIENT_COUNT_MAX)&&Server.KEEPALIVE_CLIENT_COUNT_MAX>=0?Server.KEEPALIVE_CLIENT_COUNT_MAX:-1;let Q=0;if(v!==-1&&B!==-1){this.once("ready",(()=>{const onClose=()=>{clearInterval(y)};this.on("close",onClose).on("end",onClose);y=setInterval((()=>{if(++Q>B){clearInterval(y);const e=new Error("Keepalive timeout");e.level="client-timeout";this.emit("error",e);this.end()}else{G.ping()}}),v)}));m=()=>{y&&y.refresh();Q=0}}const G=this._protocol=new k({server:true,hostKeys:t,ident:n,offer:i,onPacket:m,greeting:l.greeting,banner:l.banner,onWrite:t=>{if(W(e))e.write(t)},onError:t=>{if(!G._destruct)e.removeAllListeners("data");this.emit("error",t);try{e.end()}catch{}},onHeader:t=>{this.removeListener("error",onClientPreHeaderError);const n={ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t};if(!u.emit("connection",this,n)){G.disconnect(_.BY_APPLICATION);e.end();return}if(t.greeting)this.emit("greeting",t.greeting)},onHandshakeComplete:e=>{if(++h>1)this.emit("rekey");this.emit("handshake",e)},debug:s,messageHandlers:{DEBUG:I,DISCONNECT:(t,n,i)=>{if(n!==_.BY_APPLICATION){if(!i){i=E[n];if(i===undefined)i=`Unexpected disconnection reason: ${n}`}const e=new Error(i);e.code=n;this.emit("error",e)}e.end()},CHANNEL_OPEN:(e,t)=>{if(t.type==="session"&&this.noMoreSessions||!this.authenticated){const e=f.ADMINISTRATIVELY_PROHIBITED;return G.channelOpenFail(t.sender,e)}let n=-1;let i;let u=false;let l;const reject=()=>{if(u)return;u=true;if(i===undefined){if(n===-1)i=f.RESOURCE_SHORTAGE;else i=f.CONNECT_FAILED}G.channelOpenFail(t.sender,i,"")};const reserveChannel=()=>{n=this._chanMgr.add();if(n===-1){i=f.RESOURCE_SHORTAGE;if(s){s("Automatic rejection of incoming channel open: "+"no channels available")}}return n!==-1};const h=t.data;switch(t.type){case"session":if(o(this,"session")&&reserveChannel()){l=()=>{if(u)return;u=true;const e=new Session(this,t,n);this._chanMgr.update(n,e);G.channelOpenConfirm(t.sender,n,P,D);return e};this.emit("session",l,reject);return}break;case"direct-tcpip":if(o(this,"tcpip")&&reserveChannel()){l=()=>{if(u)return;u=true;const e={type:undefined,incoming:{id:n,window:P,packetSize:D,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};const i=new O(this,e,{server:true});this._chanMgr.update(n,i);G.channelOpenConfirm(t.sender,n,P,D);return i};this.emit("tcpip",l,reject,h);return}break;case"direct-streamlocal@openssh.com":if(o(this,"openssh.streamlocal")&&reserveChannel()){l=()=>{if(u)return;u=true;const e={type:undefined,incoming:{id:n,window:P,packetSize:D,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};const i=new O(this,e,{server:true});this._chanMgr.update(n,i);G.channelOpenConfirm(t.sender,n,P,D);return i};this.emit("openssh.streamlocal",l,reject,h);return}break;default:i=f.UNKNOWN_CHANNEL_TYPE;if(s){s("Automatic rejection of unsupported incoming channel open"+` type: ${t.type}`)}}if(i===undefined){i=f.ADMINISTRATIVELY_PROHIBITED;if(s){s("Automatic rejection of unexpected incoming channel open"+` for: ${t.type}`)}}reject()},CHANNEL_OPEN_CONFIRMATION:(e,t)=>{const n=this._chanMgr.get(t.recipient);if(typeof n!=="function")return;const i={type:n.type,incoming:{id:t.recipient,window:P,packetSize:D,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};const s=new O(this,i,{server:true});this._chanMgr.update(t.recipient,s);n(undefined,s)},CHANNEL_OPEN_FAILURE:(e,t,n,i)=>{const s=this._chanMgr.get(t);if(typeof s!=="function")return;const o={reason:n,description:i};q(this,t,o,s)},CHANNEL_DATA:(e,t,n)=>{let i=this._chanMgr.get(t);if(typeof i!=="object"||i===null)return;if(i.constructor===Session){i=i._channel;if(!i)return}if(i.incoming.window===0)return;i.incoming.window-=n.length;if(i.push(n)===false){i._waitChanDrain=true;return}if(i.incoming.window<=L)U(i)},CHANNEL_EXTENDED_DATA:(e,t,n,i)=>{},CHANNEL_WINDOW_ADJUST:(e,t,n)=>{let i=this._chanMgr.get(t);if(typeof i!=="object"||i===null)return;if(i.constructor===Session){i=i._channel;if(!i)return}i.outgoing.window+=n;if(i._waitWindow){i._waitWindow=false;if(i._chunk){i._write(i._chunk,null,i._chunkcb)}else if(i._chunkcb){i._chunkcb()}else if(i._chunkErr){i.stderr._write(i._chunkErr,null,i._chunkcbErr)}else if(i._chunkcbErr){i._chunkcbErr()}}},CHANNEL_SUCCESS:(e,t)=>{let n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n=n._channel;if(!n)return}if(n._callbacks.length)n._callbacks.shift()(false)},CHANNEL_FAILURE:(e,t)=>{let n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n=n._channel;if(!n)return}if(n._callbacks.length)n._callbacks.shift()(true)},CHANNEL_REQUEST:(e,t,n,i,f)=>{const u=this._chanMgr.get(t);if(typeof u!=="object"||u===null)return;let l=false;let h;let p;if(u.constructor!==Session){if(i)G.channelFailure(u.outgoing.id);return}if(i){if(n!=="shell"&&n!=="exec"&&n!=="subsystem"){h=()=>{if(l||u._ending||u._channel)return;l=true;G.channelSuccess(u._chanInfo.outgoing.id)}}p=()=>{if(l||u._ending||u._channel)return;l=true;G.channelFailure(u._chanInfo.outgoing.id)}}if(u._ending){p&&p();return}switch(n){case"env":if(o(u,"env")){u.emit("env",h,p,{key:f.name,val:f.value});return}break;case"pty-req":if(o(u,"pty")){u.emit("pty",h,p,f);return}break;case"window-change":if(o(u,"window-change"))u.emit("window-change",h,p,f);else p&&p();break;case"x11-req":if(o(u,"x11")){u.emit("x11",h,p,f);return}break;case"signal":if(o(u,"signal")){u.emit("signal",h,p,{name:f});return}break;case"auth-agent-req@openssh.com":if(o(u,"auth-agent")){u.emit("auth-agent",h,p);return}break;case"shell":if(o(u,"shell")){h=()=>{if(l||u._ending||u._channel)return;l=true;if(i)G.channelSuccess(u._chanInfo.outgoing.id);const e=new O(this,u._chanInfo,{server:true});e.subtype=u.subtype=n;u._channel=e;return e};u.emit("shell",h,p);return}break;case"exec":if(o(u,"exec")){h=()=>{if(l||u._ending||u._channel)return;l=true;if(i)G.channelSuccess(u._chanInfo.outgoing.id);const e=new O(this,u._chanInfo,{server:true});e.subtype=u.subtype=n;u._channel=e;return e};u.emit("exec",h,p,{command:f});return}break;case"subsystem":{let e=f==="sftp";h=()=>{if(l||u._ending||u._channel)return;l=true;if(i)G.channelSuccess(u._chanInfo.outgoing.id);let t;if(e){t=new R(this,u._chanInfo,{server:true,debug:s})}else{t=new O(this,u._chanInfo,{server:true});t.subtype=u.subtype=`${n}:${f}`}u._channel=t;return t};if(f==="sftp"){if(o(u,"sftp")){u.emit("sftp",h,p);return}e=false}if(o(u,"subsystem")){u.emit("subsystem",h,p,{name:f});return}break}}s&&s(`Automatic rejection of incoming channel request: ${n}`);p&&p()},CHANNEL_EOF:(e,t)=>{let n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){if(!n._ending){n._ending=true;n.emit("eof");n.emit("end")}n=n._channel;if(!n)return}if(n.incoming.state!=="open")return;n.incoming.state="eof";if(n.readable)n.push(null)},CHANNEL_CLOSE:(e,t)=>{let n=this._chanMgr.get(t);if(typeof n!=="object"||n===null)return;if(n.constructor===Session){n._ending=true;n.emit("close");n=n._channel;if(!n)return}$(this,t,n)},SERVICE_REQUEST:(t,n)=>{if(h===0||p||this.authenticated||n!=="ssh-userauth"){G.disconnect(_.SERVICE_NOT_AVAILABLE);e.end();return}p=true;G.serviceAccept(n)},USERAUTH_REQUEST:(t,n,i,s,f)=>{if(h===0||this.authenticated||b&&(b.username!==n||b.service!==i)||s!=="password"&&s!=="publickey"&&s!=="hostbased"&&s!=="keyboard-interactive"&&s!=="none"||g.length===j){G.disconnect(_.PROTOCOL_ERROR);e.end();return}else if(i!=="ssh-connection"){G.disconnect(_.SERVICE_NOT_AVAILABLE);e.end();return}let u;switch(s){case"keyboard-interactive":u=new KeyboardAuthContext(G,n,i,s,f,onAuthDecide);break;case"publickey":u=new PKAuthContext(G,n,i,s,f,onAuthDecide);break;case"hostbased":u=new HostbasedAuthContext(G,n,i,s,f,onAuthDecide);break;case"password":if(b&&b instanceof PwdAuthContext&&b._changeCb){const e=b._changeCb;b._changeCb=undefined;e(f.newPassword);return}u=new PwdAuthContext(G,n,i,s,f,onAuthDecide);break;case"none":u=new AuthContext(G,n,i,s,onAuthDecide);break}if(b){if(!b._initialResponse){return g.push(u)}else if(b._multistep&&!b._finalResponse){b._cleanup&&b._cleanup();b.emit("abort")}}b=u;if(o(this,"authentication"))this.emit("authentication",b);else b.reject()},USERAUTH_INFO_RESPONSE:(e,t)=>{if(b&&b instanceof KeyboardAuthContext)b._onInfoResponse(t)},GLOBAL_REQUEST:(e,t,n,i)=>{const s={type:null,buf:null};function setReply(e,t){s.type=e;s.buf=t;sendReplies()}if(n)w.push(s);if((t==="tcpip-forward"||t==="cancel-tcpip-forward"||t==="no-more-sessions@openssh.com"||t==="streamlocal-forward@openssh.com"||t==="cancel-streamlocal-forward@openssh.com")&&o(this,"request")&&this.authenticated){let e;let s;if(n){let n=false;e=e=>{if(n)return;n=true;let s;if(t==="tcpip-forward"&&i.bindPort===0&&typeof e==="number"){s=Buffer.allocUnsafe(4);T(s,e,0)}setReply("SUCCESS",s)};s=()=>{if(n)return;n=true;setReply("FAILURE")}}if(t==="no-more-sessions@openssh.com"){this.noMoreSessions=true;e&&e();return}this.emit("request",e,s,t,i)}else if(n){setReply("FAILURE")}}}});e.pause();C.then((()=>{e.on("data",(t=>{try{G.parse(t,0,t.length)}catch(t){this.emit("error",t);try{if(W(e))e.end()}catch{}}}));e.resume()})).catch((t=>{this.emit("error",t);try{if(W(e))e.end()}catch{}}));e.on("error",(e=>{e.level="socket";this.emit("error",e)})).once("end",(()=>{s&&s("Socket ended");G.cleanup();this.emit("end")})).once("close",(()=>{s&&s("Socket closed");G.cleanup();this.emit("close");const e=new Error("No response from server");this._chanMgr.cleanup(e)}));const onAuthDecide=(e,t,n,i)=>{if(b===e&&!this.authenticated){if(t){b=undefined;this.authenticated=true;G.authSuccess();g=[];this.emit("ready")}else{G.authFailure(n,i);if(g.length){b=g.pop();if(o(this,"authentication"))this.emit("authentication",b);else b.reject()}}}};function sendReplies(){while(w.length>0&&w[0].type){const e=w.shift();if(e.type==="SUCCESS")G.requestSuccess(e.buf);if(e.type==="FAILURE")G.requestFailure()}}}end(){if(this._sock&&W(this._sock)){this._protocol.disconnect(_.BY_APPLICATION);this._sock.end()}return this}x11(e,t,n){const i={originAddr:e,originPort:t};openChannel(this,"x11",i,n);return this}forwardOut(e,t,n,i,s){const o={boundAddr:e,boundPort:t,remoteAddr:n,remotePort:i};openChannel(this,"forwarded-tcpip",o,s);return this}openssh_forwardOutStreamLocal(e,t){const n={socketPath:e};openChannel(this,"forwarded-streamlocal@openssh.com",n,t);return this}rekey(e){let t;try{this._protocol.rekey()}catch(e){t=e}if(typeof e==="function"){if(t)process.nextTick(e,t);else this.once("rekey",e)}}}function openChannel(e,t,n,i){const s=P;const o=D;if(typeof n==="function"){i=n;n={}}const wrapper=(e,t)=>{i(e,t)};wrapper.type=t;const f=e._chanMgr.add(wrapper);if(f===-1){i(new Error("No free channels available"));return}switch(t){case"forwarded-tcpip":e._protocol.forwardedTcpip(f,s,o,n);break;case"x11":e._protocol.x11(f,s,o,n);break;case"forwarded-streamlocal@openssh.com":e._protocol.openssh_forwardedStreamLocal(f,s,o,n);break;default:throw new Error(`Unsupported channel type: ${t}`)}}function compareNumbers(e,t){return e-t}e.exports=Server;e.exports.IncomingClient=Client},639:(e,t,n)=>{"use strict";const{SFTP:i}=n(3801);const s=2**32-1;function onChannelOpenFailure(e,t,n,i){e._chanMgr.remove(t);if(typeof i!=="function")return;let s;if(n instanceof Error){s=n}else if(typeof n==="object"&&n!==null){s=new Error(`(SSH) Channel open failure: ${n.description}`);s.reason=n.reason}else{s=new Error("(SSH) Channel open failure: server closed channel unexpectedly");s.reason=""}i(s)}function onCHANNEL_CLOSE(e,t,n,s,o){if(typeof n==="function"){onChannelOpenFailure(e,t,s,n);return}if(typeof n!=="object"||n===null||n.incoming.state==="closed"){return}n.incoming.state="closed";if(n.readable)n.push(null);if(n.server){if(n.stderr.writable)n.stderr.end()}else if(n.stderr.readable){n.stderr.push(null)}if(n.constructor!==i&&(n.outgoing.state==="open"||n.outgoing.state==="eof")&&!o){n.close()}if(n.outgoing.state==="closing")n.outgoing.state="closed";e._chanMgr.remove(t);const f=n._readableState;const u=n._writableState;if(u&&!u.ending&&!u.finished&&!o)n.end();const l=n._callbacks;n._callbacks=[];for(let e=0;e<l.length;++e)l[e](true);if(n.server){if(!n.readable||n.destroyed||f&&f.endEmitted){n.emit("close")}else{n.once("end",(()=>n.emit("close")))}}else{let e;switch(n.type){case"direct-streamlocal@openssh.com":case"direct-tcpip":e=()=>n.emit("close");break;default:{const t=n._exit;e=()=>{if(t.code===null)n.emit("close",t.code,t.signal,t.dump,t.desc);else n.emit("close",t.code)}}}if(!n.readable||n.destroyed||f&&f.endEmitted){e()}else{n.once("end",e)}const t=n.stderr._readableState;if(!n.stderr.readable||n.stderr.destroyed||t&&t.endEmitted){n.stderr.emit("close")}else{n.stderr.once("end",(()=>n.stderr.emit("close")))}}}class ChannelManager{constructor(e){this._client=e;this._channels={};this._cur=-1;this._count=0}add(e){let t;if(this._cur<s){t=++this._cur}else if(this._count===0){this._cur=0;t=0}else{const e=this._channels;for(let n=0;n<s;++n){if(e[n]===undefined){t=n;break}}}if(t===undefined)return-1;this._channels[t]=e||true;++this._count;return t}update(e,t){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);if(t&&this._channels[e])this._channels[e]=t}get(e){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);return this._channels[e]}remove(e){if(typeof e!=="number"||e<0||e>=s||!isFinite(e))throw new Error(`Invalid channel id: ${e}`);if(this._channels[e]){delete this._channels[e];if(this._count)--this._count}}cleanup(e){const t=this._channels;this._channels={};this._cur=-1;this._count=0;const n=Object.keys(t);const i=this._client;for(let s=0;s<n.length;++s){const o=+n[s];const f=t[o];onCHANNEL_CLOSE(i,o,f._channel||f,e,true)}}}const o=(()=>{const e=Object.prototype.toString;return t=>e.call(t)==="[object RegExp]"})();function generateAlgorithmList(e,t,n){if(Array.isArray(e)&&e.length>0){for(let t=0;t<e.length;++t){if(n.indexOf(e[t])===-1)throw new Error(`Unsupported algorithm: ${e[t]}`)}return e}if(typeof e==="object"&&e!==null){const i=Object.keys(e);let s=t;for(let f=0;f<i.length;++f){const u=i[f];let l=e[u];switch(u){case"append":if(!Array.isArray(l))l=[l];if(Array.isArray(l)){for(let e=0;e<l.length;++e){const i=l[e];if(typeof i==="string"){if(!i||s.indexOf(i)!==-1)continue;if(n.indexOf(i)===-1)throw new Error(`Unsupported algorithm: ${i}`);if(s===t)s=s.slice();s.push(i)}else if(o(i)){for(let e=0;e<n.length;++e){const o=n[e];if(i.test(o)){if(s.indexOf(o)!==-1)continue;if(s===t)s=s.slice();s.push(o)}}}}}break;case"prepend":if(!Array.isArray(l))l=[l];if(Array.isArray(l)){for(let e=l.length;e>=0;--e){const i=l[e];if(typeof i==="string"){if(!i||s.indexOf(i)!==-1)continue;if(n.indexOf(i)===-1)throw new Error(`Unsupported algorithm: ${i}`);if(s===t)s=s.slice();s.unshift(i)}else if(o(i)){for(let e=n.length;e>=0;--e){const o=n[e];if(i.test(o)){if(s.indexOf(o)!==-1)continue;if(s===t)s=s.slice();s.unshift(o)}}}}}break;case"remove":if(!Array.isArray(l))l=[l];if(Array.isArray(l)){for(let e=0;e<l.length;++e){const n=l[e];if(typeof n==="string"){if(!n)continue;const e=s.indexOf(n);if(e===-1)continue;if(s===t)s=s.slice();s.splice(e,1)}else if(o(n)){for(let e=0;e<s.length;++e){if(n.test(s[e])){if(s===t)s=s.slice();s.splice(e,1);--e}}}}}break}}return s}return t}e.exports={ChannelManager:ChannelManager,generateAlgorithmList:generateAlgorithmList,onChannelOpenFailure:onChannelOpenFailure,onCHANNEL_CLOSE:onCHANNEL_CLOSE,isWritable:e=>e&&e.writable&&e._readableState&&e._readableState.ended===false}},3402:(e,t,n)=>{"use strict";var i=n(9759).Buffer;var s=i.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!=="string"&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}t.s=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;t=4;break;case"utf8":this.fillLast=utf8FillLast;t=4;break;case"base64":this.text=base64Text;this.end=base64End;t=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=i.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t;var n;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";n=this.lastNeed;this.lastNeed=0}else{n=0}if(n<e.length)return t?t+this.text(e,n):this.text(e,n);return t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,n){var i=t.length-1;if(i<n)return 0;var s=utf8CheckByte(t[i]);if(s>=0){if(s>0)e.lastNeed=s-1;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(t[i]);if(s>=0){if(s>0)e.lastNeed=s-2;return s}if(--i<n||s===-2)return 0;s=utf8CheckByte(t[i]);if(s>=0){if(s>0){if(s===2)s=0;else e.lastNeed=s-3}return s}return 0}function utf8CheckExtraBytes(e,t,n){if((t[0]&192)!==128){e.lastNeed=0;return""}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return""}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return""}}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var n=utf8CheckExtraBytes(this,e,t);if(n!==undefined)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var n=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",t,i)}function utf8End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"";return t}function utf16Text(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function base64Text(e,t){var n=(e.length-t)%3;if(n===0)return e.toString("base64",t);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-n)}function base64End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},6237:(e,t,n)=>{e.exports=n(2576)},2576:(e,t,n)=>{"use strict";var i=n(1808);var s=n(4404);var o=n(3685);var f=n(5687);var u=n(2361);var l=n(9491);var h=n(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=f.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=f.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,n,i,s){var o=toOptions(n,i,s);for(var f=0,u=t.requests.length;f<u;++f){var l=t.requests[f];if(l.host===o.host&&l.port===o.port){t.requests.splice(f,1);l.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}h.inherits(TunnelingAgent,u.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,n,i){var s=this;var o=mergeOptions({request:e},s.options,toOptions(t,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){s.emit("free",t,o)}function onCloseOrRemove(e){s.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var n=this;var i={};n.sockets.push(i);var s=mergeOptions({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){s.localAddress=e.localAddress}if(s.proxyAuth){s.headers=s.headers||{};s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")}p("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=false;o.once("response",onResponse);o.once("upgrade",onUpgrade);o.once("connect",onConnect);o.once("error",onError);o.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,n){process.nextTick((function(){onConnect(e,t,n)}))}function onConnect(s,f,u){o.removeAllListeners();f.removeAllListeners();if(s.statusCode!==200){p("tunneling socket could not be established, statusCode=%d",s.statusCode);f.destroy();var l=new Error("tunneling socket could not be established, "+"statusCode="+s.statusCode);l.code="ECONNRESET";e.request.emit("error",l);n.removeSocket(i);return}if(u.length>0){p("got illegal response body from proxy");f.destroy();var l=new Error("got illegal response body from proxy");l.code="ECONNRESET";e.request.emit("error",l);n.removeSocket(i);return}p("tunneling connection has established");n.sockets[n.sockets.indexOf(i)]=f;return t(f)}function onError(t){o.removeAllListeners();p("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, "+"cause="+t.message);s.code="ECONNRESET";e.request.emit("error",s);n.removeSocket(i)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var n=this.requests.shift();if(n){this.createSocket(n,(function(e){n.request.onSocket(e)}))}};function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,(function(i){var o=e.request.getHeader("host");var f=mergeOptions({},n.options,{socket:i,servername:o?o.replace(/:.*$/,""):e.host});var u=s.connect(0,f);n.sockets[n.sockets.indexOf(i)]=u;t(u)}))}function toOptions(e,t,n){if(typeof e==="string"){return{host:e,port:t,localAddress:n}}return e}function mergeOptions(e){for(var t=1,n=arguments.length;t<n;++t){var i=arguments[t];if(typeof i==="object"){var s=Object.keys(i);for(var o=0,f=s.length;o<f;++o){var u=s[o];if(i[u]!==undefined){e[u]=i[u]}}}}return e}var p;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){p=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{p=function(){}}t.debug=p},3289:(e,t,n)=>{(function(e){"use strict";var gf=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n};var randombytes=function(){throw new Error("no PRNG")};var t=new Uint8Array(16);var i=new Uint8Array(32);i[0]=9;var s=gf(),o=gf([1]),f=gf([56129,1]),u=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(e,t,n,i){e[t]=n>>24&255;e[t+1]=n>>16&255;e[t+2]=n>>8&255;e[t+3]=n&255;e[t+4]=i>>24&255;e[t+5]=i>>16&255;e[t+6]=i>>8&255;e[t+7]=i&255}function vn(e,t,n,i,s){var o,f=0;for(o=0;o<s;o++)f|=e[t+o]^n[i+o];return(1&f-1>>>8)-1}function crypto_verify_16(e,t,n,i){return vn(e,t,n,i,16)}function crypto_verify_32(e,t,n,i){return vn(e,t,n,i,32)}function core_salsa20(e,t,n,i){var s=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,u=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,l=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,h=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,p=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,g=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,_=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,E=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,b=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,y=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,m=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,w=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,I=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24;var v=s,B=o,k=f,R=u,T=l,O=h,P=p,D=g,U=_,L=E,x=b,Q=y,W=m,q=w,$=I,j=C,G;for(var Y=0;Y<20;Y+=2){G=v+W|0;T^=G<<7|G>>>32-7;G=T+v|0;U^=G<<9|G>>>32-9;G=U+T|0;W^=G<<13|G>>>32-13;G=W+U|0;v^=G<<18|G>>>32-18;G=O+B|0;L^=G<<7|G>>>32-7;G=L+O|0;q^=G<<9|G>>>32-9;G=q+L|0;B^=G<<13|G>>>32-13;G=B+q|0;O^=G<<18|G>>>32-18;G=x+P|0;$^=G<<7|G>>>32-7;G=$+x|0;k^=G<<9|G>>>32-9;G=k+$|0;P^=G<<13|G>>>32-13;G=P+k|0;x^=G<<18|G>>>32-18;G=j+Q|0;R^=G<<7|G>>>32-7;G=R+j|0;D^=G<<9|G>>>32-9;G=D+R|0;Q^=G<<13|G>>>32-13;G=Q+D|0;j^=G<<18|G>>>32-18;G=v+R|0;B^=G<<7|G>>>32-7;G=B+v|0;k^=G<<9|G>>>32-9;G=k+B|0;R^=G<<13|G>>>32-13;G=R+k|0;v^=G<<18|G>>>32-18;G=O+T|0;P^=G<<7|G>>>32-7;G=P+O|0;D^=G<<9|G>>>32-9;G=D+P|0;T^=G<<13|G>>>32-13;G=T+D|0;O^=G<<18|G>>>32-18;G=x+L|0;Q^=G<<7|G>>>32-7;G=Q+x|0;U^=G<<9|G>>>32-9;G=U+Q|0;L^=G<<13|G>>>32-13;G=L+U|0;x^=G<<18|G>>>32-18;G=j+$|0;W^=G<<7|G>>>32-7;G=W+j|0;q^=G<<9|G>>>32-9;G=q+W|0;$^=G<<13|G>>>32-13;G=$+q|0;j^=G<<18|G>>>32-18}v=v+s|0;B=B+o|0;k=k+f|0;R=R+u|0;T=T+l|0;O=O+h|0;P=P+p|0;D=D+g|0;U=U+_|0;L=L+E|0;x=x+b|0;Q=Q+y|0;W=W+m|0;q=q+w|0;$=$+I|0;j=j+C|0;e[0]=v>>>0&255;e[1]=v>>>8&255;e[2]=v>>>16&255;e[3]=v>>>24&255;e[4]=B>>>0&255;e[5]=B>>>8&255;e[6]=B>>>16&255;e[7]=B>>>24&255;e[8]=k>>>0&255;e[9]=k>>>8&255;e[10]=k>>>16&255;e[11]=k>>>24&255;e[12]=R>>>0&255;e[13]=R>>>8&255;e[14]=R>>>16&255;e[15]=R>>>24&255;e[16]=T>>>0&255;e[17]=T>>>8&255;e[18]=T>>>16&255;e[19]=T>>>24&255;e[20]=O>>>0&255;e[21]=O>>>8&255;e[22]=O>>>16&255;e[23]=O>>>24&255;e[24]=P>>>0&255;e[25]=P>>>8&255;e[26]=P>>>16&255;e[27]=P>>>24&255;e[28]=D>>>0&255;e[29]=D>>>8&255;e[30]=D>>>16&255;e[31]=D>>>24&255;e[32]=U>>>0&255;e[33]=U>>>8&255;e[34]=U>>>16&255;e[35]=U>>>24&255;e[36]=L>>>0&255;e[37]=L>>>8&255;e[38]=L>>>16&255;e[39]=L>>>24&255;e[40]=x>>>0&255;e[41]=x>>>8&255;e[42]=x>>>16&255;e[43]=x>>>24&255;e[44]=Q>>>0&255;e[45]=Q>>>8&255;e[46]=Q>>>16&255;e[47]=Q>>>24&255;e[48]=W>>>0&255;e[49]=W>>>8&255;e[50]=W>>>16&255;e[51]=W>>>24&255;e[52]=q>>>0&255;e[53]=q>>>8&255;e[54]=q>>>16&255;e[55]=q>>>24&255;e[56]=$>>>0&255;e[57]=$>>>8&255;e[58]=$>>>16&255;e[59]=$>>>24&255;e[60]=j>>>0&255;e[61]=j>>>8&255;e[62]=j>>>16&255;e[63]=j>>>24&255}function core_hsalsa20(e,t,n,i){var s=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,f=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,u=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,l=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,h=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,p=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,g=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,_=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,E=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,b=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,y=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,m=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,w=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,I=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24;var v=s,B=o,k=f,R=u,T=l,O=h,P=p,D=g,U=_,L=E,x=b,Q=y,W=m,q=w,$=I,j=C,G;for(var Y=0;Y<20;Y+=2){G=v+W|0;T^=G<<7|G>>>32-7;G=T+v|0;U^=G<<9|G>>>32-9;G=U+T|0;W^=G<<13|G>>>32-13;G=W+U|0;v^=G<<18|G>>>32-18;G=O+B|0;L^=G<<7|G>>>32-7;G=L+O|0;q^=G<<9|G>>>32-9;G=q+L|0;B^=G<<13|G>>>32-13;G=B+q|0;O^=G<<18|G>>>32-18;G=x+P|0;$^=G<<7|G>>>32-7;G=$+x|0;k^=G<<9|G>>>32-9;G=k+$|0;P^=G<<13|G>>>32-13;G=P+k|0;x^=G<<18|G>>>32-18;G=j+Q|0;R^=G<<7|G>>>32-7;G=R+j|0;D^=G<<9|G>>>32-9;G=D+R|0;Q^=G<<13|G>>>32-13;G=Q+D|0;j^=G<<18|G>>>32-18;G=v+R|0;B^=G<<7|G>>>32-7;G=B+v|0;k^=G<<9|G>>>32-9;G=k+B|0;R^=G<<13|G>>>32-13;G=R+k|0;v^=G<<18|G>>>32-18;G=O+T|0;P^=G<<7|G>>>32-7;G=P+O|0;D^=G<<9|G>>>32-9;G=D+P|0;T^=G<<13|G>>>32-13;G=T+D|0;O^=G<<18|G>>>32-18;G=x+L|0;Q^=G<<7|G>>>32-7;G=Q+x|0;U^=G<<9|G>>>32-9;G=U+Q|0;L^=G<<13|G>>>32-13;G=L+U|0;x^=G<<18|G>>>32-18;G=j+$|0;W^=G<<7|G>>>32-7;G=W+j|0;q^=G<<9|G>>>32-9;G=q+W|0;$^=G<<13|G>>>32-13;G=$+q|0;j^=G<<18|G>>>32-18}e[0]=v>>>0&255;e[1]=v>>>8&255;e[2]=v>>>16&255;e[3]=v>>>24&255;e[4]=O>>>0&255;e[5]=O>>>8&255;e[6]=O>>>16&255;e[7]=O>>>24&255;e[8]=x>>>0&255;e[9]=x>>>8&255;e[10]=x>>>16&255;e[11]=x>>>24&255;e[12]=j>>>0&255;e[13]=j>>>8&255;e[14]=j>>>16&255;e[15]=j>>>24&255;e[16]=P>>>0&255;e[17]=P>>>8&255;e[18]=P>>>16&255;e[19]=P>>>24&255;e[20]=D>>>0&255;e[21]=D>>>8&255;e[22]=D>>>16&255;e[23]=D>>>24&255;e[24]=U>>>0&255;e[25]=U>>>8&255;e[26]=U>>>16&255;e[27]=U>>>24&255;e[28]=L>>>0&255;e[29]=L>>>8&255;e[30]=L>>>16&255;e[31]=L>>>24&255}function crypto_core_salsa20(e,t,n,i){core_salsa20(e,t,n,i)}function crypto_core_hsalsa20(e,t,n,i){core_hsalsa20(e,t,n,i)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(e,t,n,i,s,o,f){var u=new Uint8Array(16),l=new Uint8Array(64);var h,p;for(p=0;p<16;p++)u[p]=0;for(p=0;p<8;p++)u[p]=o[p];while(s>=64){crypto_core_salsa20(l,u,f,_);for(p=0;p<64;p++)e[t+p]=n[i+p]^l[p];h=1;for(p=8;p<16;p++){h=h+(u[p]&255)|0;u[p]=h&255;h>>>=8}s-=64;t+=64;i+=64}if(s>0){crypto_core_salsa20(l,u,f,_);for(p=0;p<s;p++)e[t+p]=n[i+p]^l[p]}return 0}function crypto_stream_salsa20(e,t,n,i,s){var o=new Uint8Array(16),f=new Uint8Array(64);var u,l;for(l=0;l<16;l++)o[l]=0;for(l=0;l<8;l++)o[l]=i[l];while(n>=64){crypto_core_salsa20(f,o,s,_);for(l=0;l<64;l++)e[t+l]=f[l];u=1;for(l=8;l<16;l++){u=u+(o[l]&255)|0;o[l]=u&255;u>>>=8}n-=64;t+=64}if(n>0){crypto_core_salsa20(f,o,s,_);for(l=0;l<n;l++)e[t+l]=f[l]}return 0}function crypto_stream(e,t,n,i,s){var o=new Uint8Array(32);crypto_core_hsalsa20(o,i,s,_);var f=new Uint8Array(8);for(var u=0;u<8;u++)f[u]=i[u+16];return crypto_stream_salsa20(e,t,n,f,o)}function crypto_stream_xor(e,t,n,i,s,o,f){var u=new Uint8Array(32);crypto_core_hsalsa20(u,o,f,_);var l=new Uint8Array(8);for(var h=0;h<8;h++)l[h]=o[h+16];return crypto_stream_salsa20_xor(e,t,n,i,s,l,u)}var poly1305=function(e){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var t,n,i,s,o,f,u,l;t=e[0]&255|(e[1]&255)<<8;this.r[0]=t&8191;n=e[2]&255|(e[3]&255)<<8;this.r[1]=(t>>>13|n<<3)&8191;i=e[4]&255|(e[5]&255)<<8;this.r[2]=(n>>>10|i<<6)&7939;s=e[6]&255|(e[7]&255)<<8;this.r[3]=(i>>>7|s<<9)&8191;o=e[8]&255|(e[9]&255)<<8;this.r[4]=(s>>>4|o<<12)&255;this.r[5]=o>>>1&8190;f=e[10]&255|(e[11]&255)<<8;this.r[6]=(o>>>14|f<<2)&8191;u=e[12]&255|(e[13]&255)<<8;this.r[7]=(f>>>11|u<<5)&8065;l=e[14]&255|(e[15]&255)<<8;this.r[8]=(u>>>8|l<<8)&8191;this.r[9]=l>>>5&127;this.pad[0]=e[16]&255|(e[17]&255)<<8;this.pad[1]=e[18]&255|(e[19]&255)<<8;this.pad[2]=e[20]&255|(e[21]&255)<<8;this.pad[3]=e[22]&255|(e[23]&255)<<8;this.pad[4]=e[24]&255|(e[25]&255)<<8;this.pad[5]=e[26]&255|(e[27]&255)<<8;this.pad[6]=e[28]&255|(e[29]&255)<<8;this.pad[7]=e[30]&255|(e[31]&255)<<8};poly1305.prototype.blocks=function(e,t,n){var i=this.fin?0:1<<11;var s,o,f,u,l,h,p,g,_;var E,b,y,m,w,I,C,v,B,k;var R=this.h[0],T=this.h[1],O=this.h[2],P=this.h[3],D=this.h[4],U=this.h[5],L=this.h[6],x=this.h[7],Q=this.h[8],W=this.h[9];var q=this.r[0],$=this.r[1],j=this.r[2],G=this.r[3],Y=this.r[4],V=this.r[5],z=this.r[6],J=this.r[7],ee=this.r[8],te=this.r[9];while(n>=16){s=e[t+0]&255|(e[t+1]&255)<<8;R+=s&8191;o=e[t+2]&255|(e[t+3]&255)<<8;T+=(s>>>13|o<<3)&8191;f=e[t+4]&255|(e[t+5]&255)<<8;O+=(o>>>10|f<<6)&8191;u=e[t+6]&255|(e[t+7]&255)<<8;P+=(f>>>7|u<<9)&8191;l=e[t+8]&255|(e[t+9]&255)<<8;D+=(u>>>4|l<<12)&8191;U+=l>>>1&8191;h=e[t+10]&255|(e[t+11]&255)<<8;L+=(l>>>14|h<<2)&8191;p=e[t+12]&255|(e[t+13]&255)<<8;x+=(h>>>11|p<<5)&8191;g=e[t+14]&255|(e[t+15]&255)<<8;Q+=(p>>>8|g<<8)&8191;W+=g>>>5|i;_=0;E=_;E+=R*q;E+=T*(5*te);E+=O*(5*ee);E+=P*(5*J);E+=D*(5*z);_=E>>>13;E&=8191;E+=U*(5*V);E+=L*(5*Y);E+=x*(5*G);E+=Q*(5*j);E+=W*(5*$);_+=E>>>13;E&=8191;b=_;b+=R*$;b+=T*q;b+=O*(5*te);b+=P*(5*ee);b+=D*(5*J);_=b>>>13;b&=8191;b+=U*(5*z);b+=L*(5*V);b+=x*(5*Y);b+=Q*(5*G);b+=W*(5*j);_+=b>>>13;b&=8191;y=_;y+=R*j;y+=T*$;y+=O*q;y+=P*(5*te);y+=D*(5*ee);_=y>>>13;y&=8191;y+=U*(5*J);y+=L*(5*z);y+=x*(5*V);y+=Q*(5*Y);y+=W*(5*G);_+=y>>>13;y&=8191;m=_;m+=R*G;m+=T*j;m+=O*$;m+=P*q;m+=D*(5*te);_=m>>>13;m&=8191;m+=U*(5*ee);m+=L*(5*J);m+=x*(5*z);m+=Q*(5*V);m+=W*(5*Y);_+=m>>>13;m&=8191;w=_;w+=R*Y;w+=T*G;w+=O*j;w+=P*$;w+=D*q;_=w>>>13;w&=8191;w+=U*(5*te);w+=L*(5*ee);w+=x*(5*J);w+=Q*(5*z);w+=W*(5*V);_+=w>>>13;w&=8191;I=_;I+=R*V;I+=T*Y;I+=O*G;I+=P*j;I+=D*$;_=I>>>13;I&=8191;I+=U*q;I+=L*(5*te);I+=x*(5*ee);I+=Q*(5*J);I+=W*(5*z);_+=I>>>13;I&=8191;C=_;C+=R*z;C+=T*V;C+=O*Y;C+=P*G;C+=D*j;_=C>>>13;C&=8191;C+=U*$;C+=L*q;C+=x*(5*te);C+=Q*(5*ee);C+=W*(5*J);_+=C>>>13;C&=8191;v=_;v+=R*J;v+=T*z;v+=O*V;v+=P*Y;v+=D*G;_=v>>>13;v&=8191;v+=U*j;v+=L*$;v+=x*q;v+=Q*(5*te);v+=W*(5*ee);_+=v>>>13;v&=8191;B=_;B+=R*ee;B+=T*J;B+=O*z;B+=P*V;B+=D*Y;_=B>>>13;B&=8191;B+=U*G;B+=L*j;B+=x*$;B+=Q*q;B+=W*(5*te);_+=B>>>13;B&=8191;k=_;k+=R*te;k+=T*ee;k+=O*J;k+=P*z;k+=D*V;_=k>>>13;k&=8191;k+=U*Y;k+=L*G;k+=x*j;k+=Q*$;k+=W*q;_+=k>>>13;k&=8191;_=(_<<2)+_|0;_=_+E|0;E=_&8191;_=_>>>13;b+=_;R=E;T=b;O=y;P=m;D=w;U=I;L=C;x=v;Q=B;W=k;t+=16;n-=16}this.h[0]=R;this.h[1]=T;this.h[2]=O;this.h[3]=P;this.h[4]=D;this.h[5]=U;this.h[6]=L;this.h[7]=x;this.h[8]=Q;this.h[9]=W};poly1305.prototype.finish=function(e,t){var n=new Uint16Array(10);var i,s,o,f;if(this.leftover){f=this.leftover;this.buffer[f++]=1;for(;f<16;f++)this.buffer[f]=0;this.fin=1;this.blocks(this.buffer,0,16)}i=this.h[1]>>>13;this.h[1]&=8191;for(f=2;f<10;f++){this.h[f]+=i;i=this.h[f]>>>13;this.h[f]&=8191}this.h[0]+=i*5;i=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=i;i=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=i;n[0]=this.h[0]+5;i=n[0]>>>13;n[0]&=8191;for(f=1;f<10;f++){n[f]=this.h[f]+i;i=n[f]>>>13;n[f]&=8191}n[9]-=1<<13;s=(i^1)-1;for(f=0;f<10;f++)n[f]&=s;s=~s;for(f=0;f<10;f++)this.h[f]=this.h[f]&s|n[f];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;o=this.h[0]+this.pad[0];this.h[0]=o&65535;for(f=1;f<8;f++){o=(this.h[f]+this.pad[f]|0)+(o>>>16)|0;this.h[f]=o&65535}e[t+0]=this.h[0]>>>0&255;e[t+1]=this.h[0]>>>8&255;e[t+2]=this.h[1]>>>0&255;e[t+3]=this.h[1]>>>8&255;e[t+4]=this.h[2]>>>0&255;e[t+5]=this.h[2]>>>8&255;e[t+6]=this.h[3]>>>0&255;e[t+7]=this.h[3]>>>8&255;e[t+8]=this.h[4]>>>0&255;e[t+9]=this.h[4]>>>8&255;e[t+10]=this.h[5]>>>0&255;e[t+11]=this.h[5]>>>8&255;e[t+12]=this.h[6]>>>0&255;e[t+13]=this.h[6]>>>8&255;e[t+14]=this.h[7]>>>0&255;e[t+15]=this.h[7]>>>8&255};poly1305.prototype.update=function(e,t,n){var i,s;if(this.leftover){s=16-this.leftover;if(s>n)s=n;for(i=0;i<s;i++)this.buffer[this.leftover+i]=e[t+i];n-=s;t+=s;this.leftover+=s;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}if(n>=16){s=n-n%16;this.blocks(e,t,s);t+=s;n-=s}if(n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=n}};function crypto_onetimeauth(e,t,n,i,s,o){var f=new poly1305(o);f.update(n,i,s);f.finish(e,t);return 0}function crypto_onetimeauth_verify(e,t,n,i,s,o){var f=new Uint8Array(16);crypto_onetimeauth(f,0,n,i,s,o);return crypto_verify_16(e,t,f,0)}function crypto_secretbox(e,t,n,i,s){var o;if(n<32)return-1;crypto_stream_xor(e,0,t,0,n,i,s);crypto_onetimeauth(e,16,e,32,n-32,e);for(o=0;o<16;o++)e[o]=0;return 0}function crypto_secretbox_open(e,t,n,i,s){var o;var f=new Uint8Array(32);if(n<32)return-1;crypto_stream(f,0,32,i,s);if(crypto_onetimeauth_verify(t,16,t,32,n-32,f)!==0)return-1;crypto_stream_xor(e,0,t,0,n,i,s);for(o=0;o<32;o++)e[o]=0;return 0}function set25519(e,t){var n;for(n=0;n<16;n++)e[n]=t[n]|0}function car25519(e){var t,n,i=1;for(t=0;t<16;t++){n=e[t]+i+65535;i=Math.floor(n/65536);e[t]=n-i*65536}e[0]+=i-1+37*(i-1)}function sel25519(e,t,n){var i,s=~(n-1);for(var o=0;o<16;o++){i=s&(e[o]^t[o]);e[o]^=i;t[o]^=i}}function pack25519(e,t){var n,i,s;var o=gf(),f=gf();for(n=0;n<16;n++)f[n]=t[n];car25519(f);car25519(f);car25519(f);for(i=0;i<2;i++){o[0]=f[0]-65517;for(n=1;n<15;n++){o[n]=f[n]-65535-(o[n-1]>>16&1);o[n-1]&=65535}o[15]=f[15]-32767-(o[14]>>16&1);s=o[15]>>16&1;o[14]&=65535;sel25519(f,o,1-s)}for(n=0;n<16;n++){e[2*n]=f[n]&255;e[2*n+1]=f[n]>>8}}function neq25519(e,t){var n=new Uint8Array(32),i=new Uint8Array(32);pack25519(n,e);pack25519(i,t);return crypto_verify_32(n,0,i,0)}function par25519(e){var t=new Uint8Array(32);pack25519(t,e);return t[0]&1}function unpack25519(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function A(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]+n[i]}function Z(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]-n[i]}function M(e,t,n){var i,s,o=0,f=0,u=0,l=0,h=0,p=0,g=0,_=0,E=0,b=0,y=0,m=0,w=0,I=0,C=0,v=0,B=0,k=0,R=0,T=0,O=0,P=0,D=0,U=0,L=0,x=0,Q=0,W=0,q=0,$=0,j=0,G=n[0],Y=n[1],V=n[2],z=n[3],J=n[4],ee=n[5],te=n[6],re=n[7],ne=n[8],ie=n[9],se=n[10],oe=n[11],ae=n[12],ce=n[13],fe=n[14],ue=n[15];i=t[0];o+=i*G;f+=i*Y;u+=i*V;l+=i*z;h+=i*J;p+=i*ee;g+=i*te;_+=i*re;E+=i*ne;b+=i*ie;y+=i*se;m+=i*oe;w+=i*ae;I+=i*ce;C+=i*fe;v+=i*ue;i=t[1];f+=i*G;u+=i*Y;l+=i*V;h+=i*z;p+=i*J;g+=i*ee;_+=i*te;E+=i*re;b+=i*ne;y+=i*ie;m+=i*se;w+=i*oe;I+=i*ae;C+=i*ce;v+=i*fe;B+=i*ue;i=t[2];u+=i*G;l+=i*Y;h+=i*V;p+=i*z;g+=i*J;_+=i*ee;E+=i*te;b+=i*re;y+=i*ne;m+=i*ie;w+=i*se;I+=i*oe;C+=i*ae;v+=i*ce;B+=i*fe;k+=i*ue;i=t[3];l+=i*G;h+=i*Y;p+=i*V;g+=i*z;_+=i*J;E+=i*ee;b+=i*te;y+=i*re;m+=i*ne;w+=i*ie;I+=i*se;C+=i*oe;v+=i*ae;B+=i*ce;k+=i*fe;R+=i*ue;i=t[4];h+=i*G;p+=i*Y;g+=i*V;_+=i*z;E+=i*J;b+=i*ee;y+=i*te;m+=i*re;w+=i*ne;I+=i*ie;C+=i*se;v+=i*oe;B+=i*ae;k+=i*ce;R+=i*fe;T+=i*ue;i=t[5];p+=i*G;g+=i*Y;_+=i*V;E+=i*z;b+=i*J;y+=i*ee;m+=i*te;w+=i*re;I+=i*ne;C+=i*ie;v+=i*se;B+=i*oe;k+=i*ae;R+=i*ce;T+=i*fe;O+=i*ue;i=t[6];g+=i*G;_+=i*Y;E+=i*V;b+=i*z;y+=i*J;m+=i*ee;w+=i*te;I+=i*re;C+=i*ne;v+=i*ie;B+=i*se;k+=i*oe;R+=i*ae;T+=i*ce;O+=i*fe;P+=i*ue;i=t[7];_+=i*G;E+=i*Y;b+=i*V;y+=i*z;m+=i*J;w+=i*ee;I+=i*te;C+=i*re;v+=i*ne;B+=i*ie;k+=i*se;R+=i*oe;T+=i*ae;O+=i*ce;P+=i*fe;D+=i*ue;i=t[8];E+=i*G;b+=i*Y;y+=i*V;m+=i*z;w+=i*J;I+=i*ee;C+=i*te;v+=i*re;B+=i*ne;k+=i*ie;R+=i*se;T+=i*oe;O+=i*ae;P+=i*ce;D+=i*fe;U+=i*ue;i=t[9];b+=i*G;y+=i*Y;m+=i*V;w+=i*z;I+=i*J;C+=i*ee;v+=i*te;B+=i*re;k+=i*ne;R+=i*ie;T+=i*se;O+=i*oe;P+=i*ae;D+=i*ce;U+=i*fe;L+=i*ue;i=t[10];y+=i*G;m+=i*Y;w+=i*V;I+=i*z;C+=i*J;v+=i*ee;B+=i*te;k+=i*re;R+=i*ne;T+=i*ie;O+=i*se;P+=i*oe;D+=i*ae;U+=i*ce;L+=i*fe;x+=i*ue;i=t[11];m+=i*G;w+=i*Y;I+=i*V;C+=i*z;v+=i*J;B+=i*ee;k+=i*te;R+=i*re;T+=i*ne;O+=i*ie;P+=i*se;D+=i*oe;U+=i*ae;L+=i*ce;x+=i*fe;Q+=i*ue;i=t[12];w+=i*G;I+=i*Y;C+=i*V;v+=i*z;B+=i*J;k+=i*ee;R+=i*te;T+=i*re;O+=i*ne;P+=i*ie;D+=i*se;U+=i*oe;L+=i*ae;x+=i*ce;Q+=i*fe;W+=i*ue;i=t[13];I+=i*G;C+=i*Y;v+=i*V;B+=i*z;k+=i*J;R+=i*ee;T+=i*te;O+=i*re;P+=i*ne;D+=i*ie;U+=i*se;L+=i*oe;x+=i*ae;Q+=i*ce;W+=i*fe;q+=i*ue;i=t[14];C+=i*G;v+=i*Y;B+=i*V;k+=i*z;R+=i*J;T+=i*ee;O+=i*te;P+=i*re;D+=i*ne;U+=i*ie;L+=i*se;x+=i*oe;Q+=i*ae;W+=i*ce;q+=i*fe;$+=i*ue;i=t[15];v+=i*G;B+=i*Y;k+=i*V;R+=i*z;T+=i*J;O+=i*ee;P+=i*te;D+=i*re;U+=i*ne;L+=i*ie;x+=i*se;Q+=i*oe;W+=i*ae;q+=i*ce;$+=i*fe;j+=i*ue;o+=38*B;f+=38*k;u+=38*R;l+=38*T;h+=38*O;p+=38*P;g+=38*D;_+=38*U;E+=38*L;b+=38*x;y+=38*Q;m+=38*W;w+=38*q;I+=38*$;C+=38*j;s=1;i=o+s+65535;s=Math.floor(i/65536);o=i-s*65536;i=f+s+65535;s=Math.floor(i/65536);f=i-s*65536;i=u+s+65535;s=Math.floor(i/65536);u=i-s*65536;i=l+s+65535;s=Math.floor(i/65536);l=i-s*65536;i=h+s+65535;s=Math.floor(i/65536);h=i-s*65536;i=p+s+65535;s=Math.floor(i/65536);p=i-s*65536;i=g+s+65535;s=Math.floor(i/65536);g=i-s*65536;i=_+s+65535;s=Math.floor(i/65536);_=i-s*65536;i=E+s+65535;s=Math.floor(i/65536);E=i-s*65536;i=b+s+65535;s=Math.floor(i/65536);b=i-s*65536;i=y+s+65535;s=Math.floor(i/65536);y=i-s*65536;i=m+s+65535;s=Math.floor(i/65536);m=i-s*65536;i=w+s+65535;s=Math.floor(i/65536);w=i-s*65536;i=I+s+65535;s=Math.floor(i/65536);I=i-s*65536;i=C+s+65535;s=Math.floor(i/65536);C=i-s*65536;i=v+s+65535;s=Math.floor(i/65536);v=i-s*65536;o+=s-1+37*(s-1);s=1;i=o+s+65535;s=Math.floor(i/65536);o=i-s*65536;i=f+s+65535;s=Math.floor(i/65536);f=i-s*65536;i=u+s+65535;s=Math.floor(i/65536);u=i-s*65536;i=l+s+65535;s=Math.floor(i/65536);l=i-s*65536;i=h+s+65535;s=Math.floor(i/65536);h=i-s*65536;i=p+s+65535;s=Math.floor(i/65536);p=i-s*65536;i=g+s+65535;s=Math.floor(i/65536);g=i-s*65536;i=_+s+65535;s=Math.floor(i/65536);_=i-s*65536;i=E+s+65535;s=Math.floor(i/65536);E=i-s*65536;i=b+s+65535;s=Math.floor(i/65536);b=i-s*65536;i=y+s+65535;s=Math.floor(i/65536);y=i-s*65536;i=m+s+65535;s=Math.floor(i/65536);m=i-s*65536;i=w+s+65535;s=Math.floor(i/65536);w=i-s*65536;i=I+s+65535;s=Math.floor(i/65536);I=i-s*65536;i=C+s+65535;s=Math.floor(i/65536);C=i-s*65536;i=v+s+65535;s=Math.floor(i/65536);v=i-s*65536;o+=s-1+37*(s-1);e[0]=o;e[1]=f;e[2]=u;e[3]=l;e[4]=h;e[5]=p;e[6]=g;e[7]=_;e[8]=E;e[9]=b;e[10]=y;e[11]=m;e[12]=w;e[13]=I;e[14]=C;e[15]=v}function S(e,t){M(e,t,t)}function inv25519(e,t){var n=gf();var i;for(i=0;i<16;i++)n[i]=t[i];for(i=253;i>=0;i--){S(n,n);if(i!==2&&i!==4)M(n,n,t)}for(i=0;i<16;i++)e[i]=n[i]}function pow2523(e,t){var n=gf();var i;for(i=0;i<16;i++)n[i]=t[i];for(i=250;i>=0;i--){S(n,n);if(i!==1)M(n,n,t)}for(i=0;i<16;i++)e[i]=n[i]}function crypto_scalarmult(e,t,n){var i=new Uint8Array(32);var s=new Float64Array(80),o,u;var l=gf(),h=gf(),p=gf(),g=gf(),_=gf(),E=gf();for(u=0;u<31;u++)i[u]=t[u];i[31]=t[31]&127|64;i[0]&=248;unpack25519(s,n);for(u=0;u<16;u++){h[u]=s[u];g[u]=l[u]=p[u]=0}l[0]=g[0]=1;for(u=254;u>=0;--u){o=i[u>>>3]>>>(u&7)&1;sel25519(l,h,o);sel25519(p,g,o);A(_,l,p);Z(l,l,p);A(p,h,g);Z(h,h,g);S(g,_);S(E,l);M(l,p,l);M(p,h,_);A(_,l,p);Z(l,l,p);S(h,l);Z(p,g,E);M(l,p,f);A(l,l,g);M(p,p,l);M(l,g,E);M(g,h,s);S(h,_);sel25519(l,h,o);sel25519(p,g,o)}for(u=0;u<16;u++){s[u+16]=l[u];s[u+32]=p[u];s[u+48]=h[u];s[u+64]=g[u]}var b=s.subarray(32);var y=s.subarray(16);inv25519(b,b);M(y,y,b);pack25519(e,y);return 0}function crypto_scalarmult_base(e,t){return crypto_scalarmult(e,t,i)}function crypto_box_keypair(e,t){randombytes(t,32);return crypto_scalarmult_base(e,t)}function crypto_box_beforenm(e,n,i){var s=new Uint8Array(32);crypto_scalarmult(s,i,n);return crypto_core_hsalsa20(e,t,s,_)}var E=crypto_secretbox;var b=crypto_secretbox_open;function crypto_box(e,t,n,i,s,o){var f=new Uint8Array(32);crypto_box_beforenm(f,s,o);return E(e,t,n,i,f)}function crypto_box_open(e,t,n,i,s,o){var f=new Uint8Array(32);crypto_box_beforenm(f,s,o);return b(e,t,n,i,f)}var y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(e,t,n,i){var s=new Int32Array(16),o=new Int32Array(16),f,u,l,h,p,g,_,E,b,m,w,I,C,v,B,k,R,T,O,P,D,U,L,x,Q,W;var q=e[0],$=e[1],j=e[2],G=e[3],Y=e[4],V=e[5],z=e[6],J=e[7],ee=t[0],te=t[1],re=t[2],ne=t[3],ie=t[4],se=t[5],oe=t[6],ae=t[7];var ce=0;while(i>=128){for(O=0;O<16;O++){P=8*O+ce;s[O]=n[P+0]<<24|n[P+1]<<16|n[P+2]<<8|n[P+3];o[O]=n[P+4]<<24|n[P+5]<<16|n[P+6]<<8|n[P+7]}for(O=0;O<80;O++){f=q;u=$;l=j;h=G;p=Y;g=V;_=z;E=J;b=ee;m=te;w=re;I=ne;C=ie;v=se;B=oe;k=ae;D=J;U=ae;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=(Y>>>14|ie<<32-14)^(Y>>>18|ie<<32-18)^(ie>>>41-32|Y<<32-(41-32));U=(ie>>>14|Y<<32-14)^(ie>>>18|Y<<32-18)^(Y>>>41-32|ie<<32-(41-32));L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;D=Y&V^~Y&z;U=ie&se^~ie&oe;L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;D=y[O*2];U=y[O*2+1];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;D=s[O%16];U=o[O%16];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;R=Q&65535|W<<16;T=L&65535|x<<16;D=R;U=T;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=(q>>>28|ee<<32-28)^(ee>>>34-32|q<<32-(34-32))^(ee>>>39-32|q<<32-(39-32));U=(ee>>>28|q<<32-28)^(q>>>34-32|ee<<32-(34-32))^(q>>>39-32|ee<<32-(39-32));L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;D=q&$^q&j^$&j;U=ee&te^ee&re^te&re;L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;E=Q&65535|W<<16;k=L&65535|x<<16;D=h;U=I;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=R;U=T;L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;h=Q&65535|W<<16;I=L&65535|x<<16;$=f;j=u;G=l;Y=h;V=p;z=g;J=_;q=E;te=b;re=m;ne=w;ie=I;se=C;oe=v;ae=B;ee=k;if(O%16===15){for(P=0;P<16;P++){D=s[P];U=o[P];L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=s[(P+9)%16];U=o[(P+9)%16];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;R=s[(P+1)%16];T=o[(P+1)%16];D=(R>>>1|T<<32-1)^(R>>>8|T<<32-8)^R>>>7;U=(T>>>1|R<<32-1)^(T>>>8|R<<32-8)^(T>>>7|R<<32-7);L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;R=s[(P+14)%16];T=o[(P+14)%16];D=(R>>>19|T<<32-19)^(T>>>61-32|R<<32-(61-32))^R>>>6;U=(T>>>19|R<<32-19)^(R>>>61-32|T<<32-(61-32))^(T>>>6|R<<32-6);L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;s[P]=Q&65535|W<<16;o[P]=L&65535|x<<16}}}D=q;U=ee;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[0];U=t[0];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[0]=q=Q&65535|W<<16;t[0]=ee=L&65535|x<<16;D=$;U=te;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[1];U=t[1];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[1]=$=Q&65535|W<<16;t[1]=te=L&65535|x<<16;D=j;U=re;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[2];U=t[2];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[2]=j=Q&65535|W<<16;t[2]=re=L&65535|x<<16;D=G;U=ne;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[3];U=t[3];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[3]=G=Q&65535|W<<16;t[3]=ne=L&65535|x<<16;D=Y;U=ie;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[4];U=t[4];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[4]=Y=Q&65535|W<<16;t[4]=ie=L&65535|x<<16;D=V;U=se;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[5];U=t[5];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[5]=V=Q&65535|W<<16;t[5]=se=L&65535|x<<16;D=z;U=oe;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[6];U=t[6];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[6]=z=Q&65535|W<<16;t[6]=oe=L&65535|x<<16;D=J;U=ae;L=U&65535;x=U>>>16;Q=D&65535;W=D>>>16;D=e[7];U=t[7];L+=U&65535;x+=U>>>16;Q+=D&65535;W+=D>>>16;x+=L>>>16;Q+=x>>>16;W+=Q>>>16;e[7]=J=Q&65535|W<<16;t[7]=ae=L&65535|x<<16;ce+=128;i-=128}return i}function crypto_hash(e,t,n){var i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),f,u=n;i[0]=1779033703;i[1]=3144134277;i[2]=1013904242;i[3]=2773480762;i[4]=1359893119;i[5]=2600822924;i[6]=528734635;i[7]=1541459225;s[0]=4089235720;s[1]=2227873595;s[2]=4271175723;s[3]=1595750129;s[4]=2917565137;s[5]=725511199;s[6]=4215389547;s[7]=327033209;crypto_hashblocks_hl(i,s,t,n);n%=128;for(f=0;f<n;f++)o[f]=t[u-n+f];o[n]=128;n=256-128*(n<112?1:0);o[n-9]=0;ts64(o,n-8,u/536870912|0,u<<3);crypto_hashblocks_hl(i,s,o,n);for(f=0;f<8;f++)ts64(e,8*f,i[f],s[f]);return 0}function add(e,t){var n=gf(),i=gf(),s=gf(),o=gf(),f=gf(),u=gf(),h=gf(),p=gf(),g=gf();Z(n,e[1],e[0]);Z(g,t[1],t[0]);M(n,n,g);A(i,e[0],e[1]);A(g,t[0],t[1]);M(i,i,g);M(s,e[3],t[3]);M(s,s,l);M(o,e[2],t[2]);A(o,o,o);Z(f,i,n);Z(u,o,s);A(h,o,s);A(p,i,n);M(e[0],f,u);M(e[1],p,h);M(e[2],h,u);M(e[3],f,p)}function cswap(e,t,n){var i;for(i=0;i<4;i++){sel25519(e[i],t[i],n)}}function pack(e,t){var n=gf(),i=gf(),s=gf();inv25519(s,t[2]);M(n,t[0],s);M(i,t[1],s);pack25519(e,i);e[31]^=par25519(n)<<7}function scalarmult(e,t,n){var i,f;set25519(e[0],s);set25519(e[1],o);set25519(e[2],o);set25519(e[3],s);for(f=255;f>=0;--f){i=n[f/8|0]>>(f&7)&1;cswap(e,t,i);add(t,e);add(e,e);cswap(e,t,i)}}function scalarbase(e,t){var n=[gf(),gf(),gf(),gf()];set25519(n[0],h);set25519(n[1],p);set25519(n[2],o);M(n[3],h,p);scalarmult(e,n,t)}function crypto_sign_keypair(e,t,n){var i=new Uint8Array(64);var s=[gf(),gf(),gf(),gf()];var o;if(!n)randombytes(t,32);crypto_hash(i,t,32);i[0]&=248;i[31]&=127;i[31]|=64;scalarbase(s,i);pack(e,s);for(o=0;o<32;o++)t[o+32]=e[o];return 0}var m=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(e,t){var n,i,s,o;for(i=63;i>=32;--i){n=0;for(s=i-32,o=i-12;s<o;++s){t[s]+=n-16*t[i]*m[s-(i-32)];n=t[s]+128>>8;t[s]-=n*256}t[s]+=n;t[i]=0}n=0;for(s=0;s<32;s++){t[s]+=n-(t[31]>>4)*m[s];n=t[s]>>8;t[s]&=255}for(s=0;s<32;s++)t[s]-=n*m[s];for(i=0;i<32;i++){t[i+1]+=t[i]>>8;e[i]=t[i]&255}}function reduce(e){var t=new Float64Array(64),n;for(n=0;n<64;n++)t[n]=e[n];for(n=0;n<64;n++)e[n]=0;modL(e,t)}function crypto_sign(e,t,n,i){var s=new Uint8Array(64),o=new Uint8Array(64),f=new Uint8Array(64);var u,l,h=new Float64Array(64);var p=[gf(),gf(),gf(),gf()];crypto_hash(s,i,32);s[0]&=248;s[31]&=127;s[31]|=64;var g=n+64;for(u=0;u<n;u++)e[64+u]=t[u];for(u=0;u<32;u++)e[32+u]=s[32+u];crypto_hash(f,e.subarray(32),n+32);reduce(f);scalarbase(p,f);pack(e,p);for(u=32;u<64;u++)e[u]=i[u];crypto_hash(o,e,n+64);reduce(o);for(u=0;u<64;u++)h[u]=0;for(u=0;u<32;u++)h[u]=f[u];for(u=0;u<32;u++){for(l=0;l<32;l++){h[u+l]+=o[u]*s[l]}}modL(e.subarray(32),h);return g}function unpackneg(e,t){var n=gf(),i=gf(),f=gf(),l=gf(),h=gf(),p=gf(),_=gf();set25519(e[2],o);unpack25519(e[1],t);S(f,e[1]);M(l,f,u);Z(f,f,e[2]);A(l,e[2],l);S(h,l);S(p,h);M(_,p,h);M(n,_,f);M(n,n,l);pow2523(n,n);M(n,n,f);M(n,n,l);M(n,n,l);M(e[0],n,l);S(i,e[0]);M(i,i,l);if(neq25519(i,f))M(e[0],e[0],g);S(i,e[0]);M(i,i,l);if(neq25519(i,f))return-1;if(par25519(e[0])===t[31]>>7)Z(e[0],s,e[0]);M(e[3],e[0],e[1]);return 0}function crypto_sign_open(e,t,n,i){var s,o;var f=new Uint8Array(32),u=new Uint8Array(64);var l=[gf(),gf(),gf(),gf()],h=[gf(),gf(),gf(),gf()];o=-1;if(n<64)return-1;if(unpackneg(h,i))return-1;for(s=0;s<n;s++)e[s]=t[s];for(s=0;s<32;s++)e[s+32]=i[s];crypto_hash(u,e,n);reduce(u);scalarmult(l,h,u);scalarbase(h,t.subarray(32));add(l,h);pack(f,l);n-=64;if(crypto_verify_32(t,0,f,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=t[s+64];o=n;return o}var w=32,I=24,C=32,v=16,B=32,k=32,R=32,T=32,O=32,P=I,D=C,U=v,L=64,x=32,Q=64,W=32,q=64;e.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:E,crypto_box:crypto_box,crypto_box_open:crypto_box_open,crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:w,crypto_secretbox_NONCEBYTES:I,crypto_secretbox_ZEROBYTES:C,crypto_secretbox_BOXZEROBYTES:v,crypto_scalarmult_BYTES:B,crypto_scalarmult_SCALARBYTES:k,crypto_box_PUBLICKEYBYTES:R,crypto_box_SECRETKEYBYTES:T,crypto_box_BEFORENMBYTES:O,crypto_box_NONCEBYTES:P,crypto_box_ZEROBYTES:D,crypto_box_BOXZEROBYTES:U,crypto_sign_BYTES:L,crypto_sign_PUBLICKEYBYTES:x,crypto_sign_SECRETKEYBYTES:Q,crypto_sign_SEEDBYTES:W,crypto_hash_BYTES:q};function checkLengths(e,t){if(e.length!==w)throw new Error("bad key size");if(t.length!==I)throw new Error("bad nonce size")}function checkBoxLengths(e,t){if(e.length!==R)throw new Error("bad public key size");if(t.length!==T)throw new Error("bad secret key size")}function checkArrayTypes(){var e,t;for(t=0;t<arguments.length;t++){if((e=Object.prototype.toString.call(arguments[t]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+e+", use Uint8Array")}}function cleanup(e){for(var t=0;t<e.length;t++)e[t]=0}if(!e.util){e.util={};e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}}e.randomBytes=function(e){var t=new Uint8Array(e);randombytes(t,e);return t};e.secretbox=function(e,t,n){checkArrayTypes(e,t,n);checkLengths(n,t);var i=new Uint8Array(C+e.length);var s=new Uint8Array(i.length);for(var o=0;o<e.length;o++)i[o+C]=e[o];crypto_secretbox(s,i,i.length,t,n);return s.subarray(v)};e.secretbox.open=function(e,t,n){checkArrayTypes(e,t,n);checkLengths(n,t);var i=new Uint8Array(v+e.length);var s=new Uint8Array(i.length);for(var o=0;o<e.length;o++)i[o+v]=e[o];if(i.length<32)return false;if(crypto_secretbox_open(s,i,i.length,t,n)!==0)return false;return s.subarray(C)};e.secretbox.keyLength=w;e.secretbox.nonceLength=I;e.secretbox.overheadLength=v;e.scalarMult=function(e,t){checkArrayTypes(e,t);if(e.length!==k)throw new Error("bad n size");if(t.length!==B)throw new Error("bad p size");var n=new Uint8Array(B);crypto_scalarmult(n,e,t);return n};e.scalarMult.base=function(e){checkArrayTypes(e);if(e.length!==k)throw new Error("bad n size");var t=new Uint8Array(B);crypto_scalarmult_base(t,e);return t};e.scalarMult.scalarLength=k;e.scalarMult.groupElementLength=B;e.box=function(t,n,i,s){var o=e.box.before(i,s);return e.secretbox(t,n,o)};e.box.before=function(e,t){checkArrayTypes(e,t);checkBoxLengths(e,t);var n=new Uint8Array(O);crypto_box_beforenm(n,e,t);return n};e.box.after=e.secretbox;e.box.open=function(t,n,i,s){var o=e.box.before(i,s);return e.secretbox.open(t,n,o)};e.box.open.after=e.secretbox.open;e.box.keyPair=function(){var e=new Uint8Array(R);var t=new Uint8Array(T);crypto_box_keypair(e,t);return{publicKey:e,secretKey:t}};e.box.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==T)throw new Error("bad secret key size");var t=new Uint8Array(R);crypto_scalarmult_base(t,e);return{publicKey:t,secretKey:new Uint8Array(e)}};e.box.publicKeyLength=R;e.box.secretKeyLength=T;e.box.sharedKeyLength=O;e.box.nonceLength=P;e.box.overheadLength=e.secretbox.overheadLength;e.sign=function(e,t){checkArrayTypes(e,t);if(t.length!==Q)throw new Error("bad secret key size");var n=new Uint8Array(L+e.length);crypto_sign(n,e,e.length,t);return n};e.sign.open=function(e,t){if(arguments.length!==2)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");checkArrayTypes(e,t);if(t.length!==x)throw new Error("bad public key size");var n=new Uint8Array(e.length);var i=crypto_sign_open(n,e,e.length,t);if(i<0)return null;var s=new Uint8Array(i);for(var o=0;o<s.length;o++)s[o]=n[o];return s};e.sign.detached=function(t,n){var i=e.sign(t,n);var s=new Uint8Array(L);for(var o=0;o<s.length;o++)s[o]=i[o];return s};e.sign.detached.verify=function(e,t,n){checkArrayTypes(e,t,n);if(t.length!==L)throw new Error("bad signature size");if(n.length!==x)throw new Error("bad public key size");var i=new Uint8Array(L+e.length);var s=new Uint8Array(L+e.length);var o;for(o=0;o<L;o++)i[o]=t[o];for(o=0;o<e.length;o++)i[o+L]=e[o];return crypto_sign_open(s,i,i.length,n)>=0};e.sign.keyPair=function(){var e=new Uint8Array(x);var t=new Uint8Array(Q);crypto_sign_keypair(e,t);return{publicKey:e,secretKey:t}};e.sign.keyPair.fromSecretKey=function(e){checkArrayTypes(e);if(e.length!==Q)throw new Error("bad secret key size");var t=new Uint8Array(x);for(var n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}};e.sign.keyPair.fromSeed=function(e){checkArrayTypes(e);if(e.length!==W)throw new Error("bad seed size");var t=new Uint8Array(x);var n=new Uint8Array(Q);for(var i=0;i<32;i++)n[i]=e[i];crypto_sign_keypair(t,n,true);return{publicKey:t,secretKey:n}};e.sign.publicKeyLength=x;e.sign.secretKeyLength=Q;e.sign.seedLength=W;e.sign.signatureLength=L;e.hash=function(e){checkArrayTypes(e);var t=new Uint8Array(q);crypto_hash(t,e,e.length);return t};e.hash.hashLength=q;e.verify=function(e,t){checkArrayTypes(e,t);if(e.length===0||t.length===0)return false;if(e.length!==t.length)return false;return vn(e,0,t,0,e.length)===0?true:false};e.setPRNG=function(e){randombytes=e};(function(){var t=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var i=65536;e.setPRNG((function(e,n){var s,o=new Uint8Array(n);for(s=0;s<n;s+=i){t.getRandomValues(o.subarray(s,s+Math.min(n-s,i)))}for(s=0;s<n;s++)e[s]=o[s];cleanup(o)}))}else if(true){t=n(6113);if(t&&t.randomBytes){e.setPRNG((function(e,n){var i,s=t.randomBytes(n);for(i=0;i<n;i++)e[i]=s[i];cleanup(s)}))}}})()})(true&&e.exports?e.exports:self.nacl=self.nacl||{})},2159:(e,t)=>{var n=void 0;var i=1e5;var s=function(){var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;return{Class:function(t){return e.call(t).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,n){return t.call(e,n)},IsCallable:function(e){return typeof e==="function"},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}}();var o=Math.LN2,f=Math.abs,u=Math.floor,l=Math.log,h=Math.min,p=Math.pow,g=Math.round;function configureProperties(e){if(E&&_){var t=E(e),n;for(n=0;n<t.length;n+=1){_(e,t[n],{value:e[t[n]],writable:false,enumerable:false,configurable:false})}}}var _;if(Object.defineProperty&&function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}}()){_=Object.defineProperty}else{_=function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");if(s.HasProperty(n,"get")&&Object.prototype.__defineGetter__){Object.prototype.__defineGetter__.call(e,t,n.get)}if(s.HasProperty(n,"set")&&Object.prototype.__defineSetter__){Object.prototype.__defineSetter__.call(e,t,n.set)}if(s.HasProperty(n,"value")){e[t]=n.value}return e}}var E=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t=[],n;for(n in e){if(s.HasOwnProperty(e,n)){t.push(n)}}return t};function makeArrayAccessors(e){if(!_){return}if(e.length>i)throw new RangeError("Array too large for polyfill");function makeArrayAccessor(t){_(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:true,configurable:false})}var t;for(t=0;t<e.length;t+=1){makeArrayAccessor(t)}}function as_signed(e,t){var n=32-t;return e<<n>>n}function as_unsigned(e,t){var n=32-t;return e<<n>>>n}function packI8(e){return[e&255]}function unpackI8(e){return as_signed(e[0],8)}function packU8(e){return[e&255]}function unpackU8(e){return as_unsigned(e[0],8)}function packU8Clamped(e){e=g(Number(e));return[e<0?0:e>255?255:e&255]}function packI16(e){return[e>>8&255,e&255]}function unpackI16(e){return as_signed(e[0]<<8|e[1],16)}function packU16(e){return[e>>8&255,e&255]}function unpackU16(e){return as_unsigned(e[0]<<8|e[1],16)}function packI32(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function unpackI32(e){return as_signed(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function packU32(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function unpackU32(e){return as_unsigned(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function packIEEE754(e,t,n){var i=(1<<t-1)-1,s,g,_,E,b,y,m,w;function roundToEven(e){var t=u(e),n=e-t;if(n<.5)return t;if(n>.5)return t+1;return t%2?t+1:t}if(e!==e){g=(1<<t)-1;_=p(2,n-1);s=0}else if(e===Infinity||e===-Infinity){g=(1<<t)-1;_=0;s=e<0?1:0}else if(e===0){g=0;_=0;s=1/e===-Infinity?1:0}else{s=e<0;e=f(e);if(e>=p(2,1-i)){g=h(u(l(e)/o),1023);_=roundToEven(e/p(2,g)*p(2,n));if(_/p(2,n)>=2){g=g+1;_=1}if(g>i){g=(1<<t)-1;_=0}else{g=g+i;_=_-p(2,n)}}else{g=0;_=roundToEven(e/p(2,1-i-n))}}y=[];for(b=n;b;b-=1){y.push(_%2?1:0);_=u(_/2)}for(b=t;b;b-=1){y.push(g%2?1:0);g=u(g/2)}y.push(s?1:0);y.reverse();m=y.join("");w=[];while(m.length){w.push(parseInt(m.substring(0,8),2));m=m.substring(8)}return w}function unpackIEEE754(e,t,n){var i=[],s,o,f,u,l,h,g,_;for(s=e.length;s;s-=1){f=e[s-1];for(o=8;o;o-=1){i.push(f%2?1:0);f=f>>1}}i.reverse();u=i.join("");l=(1<<t-1)-1;h=parseInt(u.substring(0,1),2)?-1:1;g=parseInt(u.substring(1,1+t),2);_=parseInt(u.substring(1+t),2);if(g===(1<<t)-1){return _!==0?NaN:h*Infinity}else if(g>0){return h*p(2,g-l)*(1+_/p(2,n))}else if(_!==0){return h*p(2,-(l-1))*(_/p(2,n))}else{return h<0?-0:0}}function unpackF64(e){return unpackIEEE754(e,11,52)}function packF64(e){return packIEEE754(e,11,52)}function unpackF32(e){return unpackIEEE754(e,8,23)}function packF32(e){return packIEEE754(e,8,23)}(function(){var e=function ArrayBuffer(e){e=s.ToInt32(e);if(e<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=e;this._bytes=[];this._bytes.length=e;var t;for(t=0;t<this.byteLength;t+=1){this._bytes[t]=0}configureProperties(this)};t.eT=t.eT||e;var i=function ArrayBufferView(){};function makeConstructor(t,o,f){var u;u=function(t,n,i){var o,f,l,h;if(!arguments.length||typeof arguments[0]==="number"){this.length=s.ToInt32(arguments[0]);if(i<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT;this.buffer=new e(this.byteLength);this.byteOffset=0}else if(typeof arguments[0]==="object"&&arguments[0].constructor===u){o=arguments[0];this.length=o.length;this.byteLength=this.length*this.BYTES_PER_ELEMENT;this.buffer=new e(this.byteLength);this.byteOffset=0;for(l=0;l<this.length;l+=1){this._setter(l,o._getter(l))}}else if(typeof arguments[0]==="object"&&!(arguments[0]instanceof e||s.Class(arguments[0])==="ArrayBuffer")){f=arguments[0];this.length=s.ToUint32(f.length);this.byteLength=this.length*this.BYTES_PER_ELEMENT;this.buffer=new e(this.byteLength);this.byteOffset=0;for(l=0;l<this.length;l+=1){h=f[l];this._setter(l,Number(h))}}else if(typeof arguments[0]==="object"&&(arguments[0]instanceof e||s.Class(arguments[0])==="ArrayBuffer")){this.buffer=t;this.byteOffset=s.ToUint32(n);if(this.byteOffset>this.buffer.byteLength){throw new RangeError("byteOffset out of range")}if(this.byteOffset%this.BYTES_PER_ELEMENT){throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.")}if(arguments.length<3){this.byteLength=this.buffer.byteLength-this.byteOffset;if(this.byteLength%this.BYTES_PER_ELEMENT){throw new RangeError("length of buffer minus byteOffset not a multiple of the element size")}this.length=this.byteLength/this.BYTES_PER_ELEMENT}else{this.length=s.ToUint32(i);this.byteLength=this.length*this.BYTES_PER_ELEMENT}if(this.byteOffset+this.byteLength>this.buffer.byteLength){throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}}else{throw new TypeError("Unexpected argument type(s)")}this.constructor=u;configureProperties(this);makeArrayAccessors(this)};u.prototype=new i;u.prototype.BYTES_PER_ELEMENT=t;u.prototype._pack=o;u.prototype._unpack=f;u.BYTES_PER_ELEMENT=t;u.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");e=s.ToUint32(e);if(e>=this.length){return n}var t=[],i,o;for(i=0,o=this.byteOffset+e*this.BYTES_PER_ELEMENT;i<this.BYTES_PER_ELEMENT;i+=1,o+=1){t.push(this.buffer._bytes[o])}return this._unpack(t)};u.prototype.get=u.prototype._getter;u.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");e=s.ToUint32(e);if(e>=this.length){return n}var i=this._pack(t),o,f;for(o=0,f=this.byteOffset+e*this.BYTES_PER_ELEMENT;o<this.BYTES_PER_ELEMENT;o+=1,f+=1){this.buffer._bytes[f]=i[o]}};u.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,i,o,f,u,l,h,p,g,_;if(typeof arguments[0]==="object"&&arguments[0].constructor===this.constructor){n=arguments[0];o=s.ToUint32(arguments[1]);if(o+n.length>this.length){throw new RangeError("Offset plus length of array is out of range")}p=this.byteOffset+o*this.BYTES_PER_ELEMENT;g=n.length*this.BYTES_PER_ELEMENT;if(n.buffer===this.buffer){_=[];for(u=0,l=n.byteOffset;u<g;u+=1,l+=1){_[u]=n.buffer._bytes[l]}for(u=0,h=p;u<g;u+=1,h+=1){this.buffer._bytes[h]=_[u]}}else{for(u=0,l=n.byteOffset,h=p;u<g;u+=1,l+=1,h+=1){this.buffer._bytes[h]=n.buffer._bytes[l]}}}else if(typeof arguments[0]==="object"&&typeof arguments[0].length!=="undefined"){i=arguments[0];f=s.ToUint32(i.length);o=s.ToUint32(arguments[1]);if(o+f>this.length){throw new RangeError("Offset plus length of array is out of range")}for(u=0;u<f;u+=1){l=i[u];this._setter(o+u,Number(l))}}else{throw new TypeError("Unexpected argument type(s)")}};u.prototype.subarray=function(e,t){function clamp(e,t,n){return e<t?t:e>n?n:e}e=s.ToInt32(e);t=s.ToInt32(t);if(arguments.length<1){e=0}if(arguments.length<2){t=this.length}if(e<0){e=this.length+e}if(t<0){t=this.length+t}e=clamp(e,0,this.length);t=clamp(t,0,this.length);var n=t-e;if(n<0){n=0}return new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)};return u}var o=makeConstructor(1,packI8,unpackI8);var f=makeConstructor(1,packU8,unpackU8);var u=makeConstructor(1,packU8Clamped,unpackU8);var l=makeConstructor(2,packI16,unpackI16);var h=makeConstructor(2,packU16,unpackU16);var p=makeConstructor(4,packI32,unpackI32);var g=makeConstructor(4,packU32,unpackU32);var _=makeConstructor(4,packF32,unpackF32);var E=makeConstructor(8,packF64,unpackF64);t.iq=t.iq||o;t.U2=t.U2||f;t.we=t.we||u;t.M2=t.M2||l;t.HA=t.HA||h;t.ZV=t.ZV||p;t._R=t._R||g;t.$L=t.$L||_;t.I=t.I||E})();(function(){function r(e,t){return s.IsCallable(e.get)?e.get(t):e[t]}var e=function(){var e=new t.HA([4660]),n=new t.U2(e.buffer);return r(n,0)===18}();var n=function DataView(e,n,i){if(arguments.length===0){e=new t.eT(0)}else if(!(e instanceof t.eT||s.Class(e)==="ArrayBuffer")){throw new TypeError("TypeError")}this.buffer=e||new t.eT(0);this.byteOffset=s.ToUint32(n);if(this.byteOffset>this.buffer.byteLength){throw new RangeError("byteOffset out of range")}if(arguments.length<3){this.byteLength=this.buffer.byteLength-this.byteOffset}else{this.byteLength=s.ToUint32(i)}if(this.byteOffset+this.byteLength>this.buffer.byteLength){throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}configureProperties(this)};function makeGetter(n){return function(i,o){i=s.ToUint32(i);if(i+n.BYTES_PER_ELEMENT>this.byteLength){throw new RangeError("Array index out of range")}i+=this.byteOffset;var f=new t.U2(this.buffer,i,n.BYTES_PER_ELEMENT),u=[],l;for(l=0;l<n.BYTES_PER_ELEMENT;l+=1){u.push(r(f,l))}if(Boolean(o)===Boolean(e)){u.reverse()}return r(new n(new t.U2(u).buffer),0)}}n.prototype.getUint8=makeGetter(t.U2);n.prototype.getInt8=makeGetter(t.iq);n.prototype.getUint16=makeGetter(t.HA);n.prototype.getInt16=makeGetter(t.M2);n.prototype.getUint32=makeGetter(t._R);n.prototype.getInt32=makeGetter(t.ZV);n.prototype.getFloat32=makeGetter(t.$L);n.prototype.getFloat64=makeGetter(t.I);function makeSetter(n){return function(i,o,f){i=s.ToUint32(i);if(i+n.BYTES_PER_ELEMENT>this.byteLength){throw new RangeError("Array index out of range")}var u=new n([o]),l=new t.U2(u.buffer),h=[],p,g;for(p=0;p<n.BYTES_PER_ELEMENT;p+=1){h.push(r(l,p))}if(Boolean(f)===Boolean(e)){h.reverse()}g=new t.U2(this.buffer,i,n.BYTES_PER_ELEMENT);g.set(h)}}n.prototype.setUint8=makeSetter(t.U2);n.prototype.setInt8=makeSetter(t.iq);n.prototype.setUint16=makeSetter(t.HA);n.prototype.setInt16=makeSetter(t.M2);n.prototype.setUint32=makeSetter(t._R);n.prototype.setInt32=makeSetter(t.ZV);n.prototype.setFloat32=makeSetter(t.$L);n.prototype.setFloat64=makeSetter(t.I);t.VO=t.VO||n})()},5002:(e,t,n)=>{e.exports=n(3837).deprecate},8860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return f.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return h.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return p.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return g.default}});var i=_interopRequireDefault(n(2078));var s=_interopRequireDefault(n(7788));var o=_interopRequireDefault(n(4205));var f=_interopRequireDefault(n(2795));var u=_interopRequireDefault(n(2162));var l=_interopRequireDefault(n(5315));var h=_interopRequireDefault(n(6192));var p=_interopRequireDefault(n(5354));var g=_interopRequireDefault(n(861));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},1755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return i.default.createHash("md5").update(e).digest()}var s=md5;t["default"]=s},2162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n="00000000-0000-0000-0000-000000000000";t["default"]=n},861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(6192));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,i.default)(e)){throw TypeError("Invalid UUID")}let t;const n=new Uint8Array(16);n[0]=(t=parseInt(e.slice(0,8),16))>>>24;n[1]=t>>>16&255;n[2]=t>>>8&255;n[3]=t&255;n[4]=(t=parseInt(e.slice(9,13),16))>>>8;n[5]=t&255;n[6]=(t=parseInt(e.slice(14,18),16))>>>8;n[7]=t&255;n[8]=(t=parseInt(e.slice(19,23),16))>>>8;n[9]=t&255;n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;n[11]=t/4294967296&255;n[12]=t>>>24&255;n[13]=t>>>16&255;n[14]=t>>>8&255;n[15]=t&255;return n}var s=parse;t["default"]=s},4003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=n},8795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var i=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=new Uint8Array(256);let o=s.length;function rng(){if(o>s.length-16){i.default.randomFillSync(s);o=0}return s.slice(o,o+=16)}},3899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return i.default.createHash("sha1").update(e).digest()}var s=sha1;t["default"]=s},5354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(6192));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=[];for(let e=0;e<256;++e){s.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,i.default)(n)){throw TypeError("Stringified UUID is invalid")}return n}var o=stringify;t["default"]=o},2078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(8795));var s=_interopRequireDefault(n(5354));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let o;let f;let u=0;let l=0;function v1(e,t,n){let h=t&&n||0;const p=t||new Array(16);e=e||{};let g=e.node||o;let _=e.clockseq!==undefined?e.clockseq:f;if(g==null||_==null){const t=e.random||(e.rng||i.default)();if(g==null){g=o=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(_==null){_=f=(t[6]<<8|t[7])&16383}}let E=e.msecs!==undefined?e.msecs:Date.now();let b=e.nsecs!==undefined?e.nsecs:l+1;const y=E-u+(b-l)/1e4;if(y<0&&e.clockseq===undefined){_=_+1&16383}if((y<0||E>u)&&e.nsecs===undefined){b=0}if(b>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}u=E;l=b;f=_;E+=122192928e5;const m=((E&268435455)*1e4+b)%4294967296;p[h++]=m>>>24&255;p[h++]=m>>>16&255;p[h++]=m>>>8&255;p[h++]=m&255;const w=E/4294967296*1e4&268435455;p[h++]=w>>>8&255;p[h++]=w&255;p[h++]=w>>>24&15|16;p[h++]=w>>>16&255;p[h++]=_>>>8|128;p[h++]=_&255;for(let e=0;e<6;++e){p[h+e]=g[e]}return t||(0,s.default)(p)}var h=v1;t["default"]=h},7788:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(9629));var s=_interopRequireDefault(n(1755));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const o=(0,i.default)("v3",48,s.default);var f=o;t["default"]=f},9629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var i=_interopRequireDefault(n(5354));var s=_interopRequireDefault(n(861));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n){t.push(e.charCodeAt(n))}return t}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const f="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=f;function _default(e,t,n){function generateUUID(e,o,f,u){if(typeof e==="string"){e=stringToBytes(e)}if(typeof o==="string"){o=(0,s.default)(o)}if(o.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let l=new Uint8Array(16+e.length);l.set(o);l.set(e,o.length);l=n(l);l[6]=l[6]&15|t;l[8]=l[8]&63|128;if(f){u=u||0;for(let e=0;e<16;++e){f[u+e]=l[e]}return f}return(0,i.default)(l)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=o;generateUUID.URL=f;return generateUUID}},4205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(8795));var s=_interopRequireDefault(n(5354));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,n){e=e||{};const o=e.random||(e.rng||i.default)();o[6]=o[6]&15|64;o[8]=o[8]&63|128;if(t){n=n||0;for(let e=0;e<16;++e){t[n+e]=o[e]}return t}return(0,s.default)(o)}var o=v4;t["default"]=o},2795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(9629));var s=_interopRequireDefault(n(3899));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const o=(0,i.default)("v5",80,s.default);var f=o;t["default"]=f},6192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(4003));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&i.default.test(e)}var s=validate;t["default"]=s},5315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(n(6192));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,i.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var s=version;t["default"]=s},6221:module=>{module.exports=eval("require")("supports-color")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},3477:e=>{"use strict";e.exports=require("querystring")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3480:e=>{"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},3336:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},7348:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},4284:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},1532:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},6258:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},4346:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},7014:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},666:e=>{"use strict";e.exports={i8:"2.8.0"}},6674:e=>{"use strict";e.exports={i8:"1.4.0"}}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var n=__webpack_module_cache__[e]={exports:{}};var i=true;try{__webpack_modules__[e].call(n.exports,n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete __webpack_module_cache__[e]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{const e=__nccwpck_require__(2619);const t=__nccwpck_require__(8495);const n=__nccwpck_require__(1017);const i=__nccwpck_require__(7147);const s=i.promises;const o=__nccwpck_require__(2862);const f=new o;async function main(){const i=e.getInput("host");const o=e.getInput("port")||22;const u=e.getInput("username");const l=e.getInput("password");const h=e.getInput("file_path_name")||"version_regtest.json";const p=e.getInput("remote_path_dir")||"/output";const g=e.getInput("release_type")||"website";let _=n.join("./",h);let E=n.join(p,h);let b=e.getInput("version_code");let y=e.getInput("version_name");let m=e.getInput("changelog_en")||"This update contains several bug fixes and performance enhancements.";let w=e.getInput("changelog_cn")||"";let I=e.getInput("force_versionCode");let C=e.getInput("sha256sum_asc_url");let v=e.getInput("download_url");try{let e=await f.connect({host:i,port:o,username:u,password:l}).then((()=>f.get(E,_)));let n=null;n=await s.open(e,"r+");data=await n.readFile();if(n)n.close();update_conf=JSON.parse(data);if(g=="website"){if(b)update_conf["APK"]["versionCode"]=b;if(y)update_conf["APK"]["versionName"]=y;if(m)update_conf["APK"]["changelog_en"]=m;if(w)update_conf["APK"]["changelog_cn"]=w;if(I)update_conf["APK"]["force_versionCode"]=I;app_path=v.replace("onekey.243096.com","onekey-asset.com");if(app_path)update_conf["APK"]["url"]=app_path;let e=undefined;try{e=await t("head",app_path).then((e=>JSON.parse(JSON.stringify(e.headers))["content-length"]))}catch(e){console.error(e)}if(e)update_conf["APK"]["size"]=parseInt(e/1024/1024)+"M";if(C)update_conf["APK"]["sha256sum_asc"]=C}else{if(!update_conf["APK"]["googlePlay"])update_conf["APK"]["googlePlay"]={};if(b)update_conf["APK"]["googlePlay"]["versionCode"]=b;if(y)update_conf["APK"]["googlePlay"]["versionName"]=y;if(m)update_conf["APK"]["googlePlay"]["changelog_en"]=m;if(w)update_conf["APK"]["googlePlay"]["changelog_cn"]=w;if(I)update_conf["APK"]["googlePlay"]["force_versionCode"]=I}var B=JSON.stringify(update_conf,null,4);console.debug(B);n=await s.open(e,"w");data=await n.writeFile(B);if(n)n.close();await f.put(_,E)}catch(e){console.error(e)}finally{return f.end()}}main().catch((t=>e.setFailed(t.message)))})();module.exports=__webpack_exports__})();